{"version":3,"sources":["webpack://echarts-liquidfill/webpack/universalModuleDefinition","webpack://echarts-liquidfill/webpack/bootstrap","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/util.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Path.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/vector.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/BoundingRect.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/curve.js","webpack://echarts-liquidfill/external \"echarts\"","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Displayable.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/constant.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/PathProxy.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/config.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/matrix.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/text.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/image.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/subPixelOptimize.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/util/model.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/env.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/data/Source.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/data/helper/sourceType.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/fixShadow.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/Element.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/mixin/Transformable.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/tool/color.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/LRU.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/config.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/text.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/roundRect.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/util.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/poly.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Gradient.js","webpack://echarts-liquidfill/./index.js","webpack://echarts-liquidfill/./src/liquidFill.js","webpack://echarts-liquidfill/./src/liquidFillSeries.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/data/helper/completeDimensions.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/data/helper/sourceHelper.js","webpack://echarts-liquidfill/(webpack)/buildin/global.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/util/clazz.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/data/helper/dimensionHelper.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/data/DataDimensionInfo.js","webpack://echarts-liquidfill/./src/liquidFillView.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/util/symbol.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/util/graphic.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/tool/path.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Style.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/guid.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/mixin/Eventful.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/mixin/Animatable.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/animation/Animator.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/animation/Clip.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/animation/easing.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/log.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/mixin/RectText.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/core/bbox.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/path.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/line.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/cubic.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/quadratic.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/arc.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/contain/windingLine.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Pattern.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/tool/transformPath.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Image.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/container/Group.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/Text.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Circle.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Sector.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/fixClipWithShadow.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Ring.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Polygon.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/smoothSpline.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/helper/smoothBezier.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Polyline.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Rect.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Line.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/BezierCurve.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/shape/Arc.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/CompoundPath.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/LinearGradient.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/RadialGradient.js","webpack://echarts-liquidfill/./node_modules/@ftf/zrender/lib/graphic/IncrementalDisplayable.js","webpack://echarts-liquidfill/./src/liquidFillLayout.js","webpack://echarts-liquidfill/./node_modules/@ftf/echarts/lib/visual/dataColor.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__5__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","BUILTIN_OBJECT","TYPED_ARRAY","objToString","toString","arrayProto","Array","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","map","nativeReduce","reduce","methods","clone","source","result","typeStr","isPrimitive","len","length","Ctor","constructor","from","isDom","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","defaults","overlay","_ctx","createCanvas","each","obj","cb","context","func","args","arguments","apply","concat","type","nodeType","ownerDocument","document","createElement","HashMap","isArr","this","data","thisMap","visit","set","removeKey","$override","fn","mergeAll","targetAndSources","extend","getContext","indexOf","array","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","isArrayLike","push","memo","find","curry","isFunction","isString","isTypedArray","eqNaN","retrieve","values","retrieve2","value0","value1","retrieve3","value2","Function","normalizeCssArray","val","assert","condition","message","Error","trim","str","replace","setAsPrimitive","createHashMap","concatArray","a","b","newArray","offset","noop","Displayable","zrUtil","PathProxy","pathContain","getCanvasPattern","abs","Math","pathProxyForDraw","Path","opts","path","__dirtyPath","strokeContainThreshold","segmentIgnoreThreshold","subPixelOptimize","brush","ctx","prevEl","rect","style","hasStroke","hasFill","fill","stroke","hasFillGradient","colorStops","hasStrokeGradient","hasFillPattern","image","hasStrokePattern","setTransform","__dirty","getBoundingRect","_fillGradient","getGradient","_strokeGradient","fillStyle","strokeStyle","lineDash","lineDashOffset","ctxLineDash","setLineDash","scale","getGlobalScale","setScale","beginPath","setLineDashOffset","buildPath","shape","rebuildPath","fillOpacity","originalGlobalAlpha","globalAlpha","opacity","strokeOpacity","text","restoreTransform","drawRectText","shapeCfg","inBundle","createPathProxy","_rect","needsUpdateRect","rectWithStroke","_rectWithStroke","copy","w","lineWidth","lineScale","strokeNoScale","getLineScale","max","width","height","x","y","contain","localPos","transformCoordToLocal","pathData","containStroke","dirty","dirtyPath","__dirtyText","__zr","refresh","__clipTarget","animateShape","loop","animate","attrKV","setShape","transform","sqrt","Sub","extendFrom","defaultShape","thisShape","init","_default","ArrayCtor","Float32Array","v","lenSquare","lengthSquare","distance","v1","v2","dist","distanceSquare","distSquare","out","add","scaleAndAdd","sub","mul","div","dot","normalize","negate","lerp","applyTransform","min","lt","rb","lb","rt","vec2","matrix","v2ApplyTransform","mathMin","mathMax","BoundingRect","union","other","maxX","maxY","calculateTransform","sx","sy","translate","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","_vector","v2Create","v2DistSquare","mathPow","pow","mathSqrt","THREE_SQRT","_v0","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p0","p1","p2","p3","onet","quadraticAt","cubicDerivativeAt","cubicRootAt","roots","A","B","C","t1","disc","K","t2","discSqrt","Y1","Y2","T","theta","acos","ASqrt","tmp","cos","t3","sin","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x1","y1","x2","y2","x3","y3","prev","next","d1","d2","interval","Infinity","_t","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","Style","Element","RectText","__clipPaths","invisible","z","z2","zlevel","draggable","dragging","silent","culling","cursor","rectHover","progressive","incremental","globalScaleRatio","beforeBrush","afterBrush","rectContain","traverse","coord","animateStyle","setStyle","useStyle","calculateTextPosition","ContextCachedBy","NONE","STYLE_BIND","PLAIN_TEXT","WILL_BE_RESTORED","curve","bbox","dpr","devicePixelRatio","CMD","M","L","Q","Z","R","min2","max2","mathCos","mathSin","mathAbs","hasTypedArray","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_len","_lineDash","_dashOffset","_dashIdx","_dashSum","moveTo","addData","lineTo","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","arc","cx","cy","startAngle","endAngle","anticlockwise","arcTo","radius","h","closePath","toStatic","lineDashSum","setData","appendPath","appendSize","appendPathData","k","cmd","_expandData","_prevCmd","newData","dash","idx","dashSum","dx","dy","nDash","bezierLen","tmpLen","Number","MAX_VALUE","xi","yi","fromLine","fromCubic","fromQuadratic","rx","ry","fromArc","ux","uy","dTheta","psi","fs","scaleX","scaleY","rotate","dev","__DEV__","global","identity","m1","m2","out0","out1","out2","out3","out4","out5","rad","aa","ac","atx","ab","ad","aty","st","ct","vx","vy","invert","det","imageHelper","_util","textWidthCache","textWidthCacheCounter","STYLE_REG","getWidth","font","textLines","split","measureText","adjustTextX","textAlign","adjustTextY","textVerticalAlign","textPosition","textDistance","halfHeight","truncateText","containerWidth","ellipsis","options","prepareTruncateOptions","truncateSingleLine","join","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","j","subLength","estimateLength","floor","substr","charCode","charCodeAt","getLineHeight","parsePlainText","padding","textLineHeight","truncate","lineHeight","lines","outerHeight","canCacheByTextString","truncOuterHeight","truncOuterWidth","outerWidth","parseRichText","contentBlock","lastIndex","exec","matchedIndex","index","pushTokens","substring","contentHeight","pendingList","stlPadding","textPadding","truncateWidth","truncateHeight","line","tokens","tokenStyle","token","styleName","rich","tokenHeight","textHeight","textWidth","tokenWidth","tokenWidthNotSpecified","charAt","percentWidth","textBackgroundColor","bgImg","findExistImage","isImageReady","paddingW","remianTruncWidth","parseInt","block","isEmptyStr","strs","isLineHolder","tokensLen","DEFAULT_FONT","getRichTextRect","getPlainTextRect","adjustTextPositionOnRect","makeFont","fontSize","fontFamily","fontStyle","fontWeight","textFont","globalImageCache","imageOnLoad","cachedImgObj","__cachedImgObj","onload","onerror","pending","pendingWrap","cbPayload","hostEl","newImageOrSrc","createOrUpdateImage","__zrImageSrc","Image","put","src","round","position","positiveOrNegative","doubledPosition","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originX","originY","originWidth","originHeight","env","normalizeToArray","isIdInner","cptOption","id","innerUniqueIndex","has","defaultEmphasis","opt","subOpts","emphasis","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","Date","isDataItemOption","mappingToExists","exists","newCptOptions","exist","option","makeIdAndName","mapResult","idMap","item","existCpt","keyInfo","idNum","isNameSpecified","componentModel","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","seriesId","dataIndices","dataIndex","otherDataIndices","lenj","isData","queryDataIndex","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeInner","random","toFixed","hostObj","parseFinder","ecModel","finder","defaultMainType","parsedKey","match","mainType","queryType","toLowerCase","includeMainTypes","queryParam","models","queryComponents","setAttribute","dom","getAttribute","getTooltipRenderMode","renderModeOption","domSupported","groupData","getKey","buckets","keys","wx","getSystemInfoSync","browser","os","node","wxa","canvasSupported","svgSupported","touchEventsSupported","jd","jda","self","worker","navigator","ua","firefox","ie","edge","weChat","test","version","SVGRect","pointerEventsSupported","detect","userAgent","enableClassCheck","_sourceType","SOURCE_FORMAT_ORIGINAL","SERIES_LAYOUT_BY_COLUMN","SOURCE_FORMAT_UNKNOWN","SOURCE_FORMAT_TYPED_ARRAY","SOURCE_FORMAT_KEYED_COLUMNS","Source","fields","fromDataset","sourceFormat","seriesLayoutBy","dimensionsDefine","encodeDefine","startIndex","dimensionsDetectCount","seriesDataToSource","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_OBJECT_ROWS","SERIES_LAYOUT_BY_ROW","SHADOW_PROPS","propName","guid","Eventful","Transformable","Animatable","ignore","clipPath","isGroup","drift","decomposeTransform","beforeUpdate","afterUpdate","update","updateTransform","hide","show","attr","setClipPath","zr","addSelfToZr","removeClipPath","removeSelfFromZr","animators","animation","addAnimator","removeAnimator","vector","mIdentity","rotation","origin","transformableProto","needLocalTransform","scaleTmp","parent","parentHasTransform","getLocalTransform","relX","relY","invTransform","tmpTransform","originTransform","setLocalTransform","atan2","transformCoordToGlobal","LRU","kCSSColorTable","clampCssByte","clampCssFloat","f","parseCssInt","parseFloat","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","parse","cached","iv","op","ep","fname","params","alpha","pop","hsla2rgba","hsla","rgba","fastLerp","normalizedValue","colors","leftIndex","rightIndex","ceil","leftColor","rightColor","dv","fastMapToColor","fullOutput","color","stringify","mapToColor","arrColor","lift","level","colorArr","toHex","modifyHSL","H","S","G","vMin","vMax","delta","deltaR","deltaG","deltaB","rgba2hsla","modifyAlpha","LinkedList","head","tail","linkedListProto","insert","entry","Entry","insertEntry","remove","clear","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","list","removed","leastUsedEntry","debugMode","textContain","roundRectHelper","fixShadow","_constant","VALID_TEXT_ALIGN","left","right","center","VALID_TEXT_VERTICAL_ALIGN","top","bottom","middle","SHADOW_STYLE_COMMON_PROPS","_tmpTextPositionResult","_tmpBoxPositionResult","normalizeStyle","textBaseline","applyTextRotation","textRotation","textOrigin","placeToken","lineTop","needDrawBackground","drawBackground","getTextXForPadding","setCtx","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","textStroke","getStroke","textStrokeWidth","textFill","getFill","strokeText","fillText","textBorderWidth","textBorderColor","isPlainBg","textBoxShadowBlur","textBoxShadowColor","textBoxShadowOffsetX","textBoxShadowOffsetY","textBorderRadius","onBgImageLoaded","drawImage","getBoxPosition","baseX","baseY","parsePercent","res","textOffset","maxValue","lastIndexOf","normalizeTextStyle","renderText","__attrCachedBy","__textCotentBlock","boxPos","boxX","boxY","xLeft","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","drawRichText","renderRichText","prevStyle","needDrawBg","checkCache","cachedByMe","styleFont","computedFont","__computedFont","__styleFont","textX","textY","propItem","styleProp","ctxProp","textStrokeWidthPrev","strokeWidthChanged","strokeChanged","renderPlainText","needDrawText","r1","r2","r3","r4","total","PI","PI2","normalizeRadian","angle","smoothSpline","smoothBezier","points","smooth","controlPoints","smoothConstraint","cp1","cp2","Gradient","addColorStop","echarts","registerVisual","util","completeDimensions","extendSeriesModel","visualColorAccessPath","optionUpdated","gridSize","getInitialData","dimensions","List","initData","defaultOption","amplitude","waveLength","phase","period","direction","waveAnimation","animationEasing","animationEasingUpdate","animationDuration","animationDurationUpdate","outline","borderDistance","itemStyle","borderColor","borderWidth","shadowBlur","shadowColor","backgroundStyle","label","insideColor","align","baseline","_sourceHelper","guessOrdinal","BE_ORDINAL","OTHER_DIMENSIONS","DataDimensionInfo","genName","fromZero","sysDims","isInstance","dimsDef","dataDimNameMap","coordDimNameMap","dimCount","optDimCount","sysDimItem","sysDimItemDimsDef","getDimCount","dimDefItem","userDimName","resultItem","displayName","encodeDef","encodeDefaulter","dataDims","coordDim","validDataDims","resultDimIdx","applyDim","availDimIdx","coordDimIndex","otherDims","sysDimIndex","sysDimItemOtherDims","ordinalMeta","sysDimItemDimsDefItem","defaultTooltip","generateCoord","generateCoordCount","extra","isExtraCoord","Must","itemName","seriesName","_model","Might","Not","inner","normalizeDimensionsDefine","nameMap","count","arrayRowsTravelFirst","maxLoop","getDatasetModel","seriesModel","getComponent","datasetIndex","doGuessOrdinal","dimIndex","dimName","dimType","sample","detectValue","row","beStr","isFinite","detectSourceFormat","datasetModel","getSource","resetSourceDefaulter","datasetMap","prepareSource","seriesOption","sourceHeader","datasetOption","completeResult","firstIndex","objectRowsCollectDimensions","colArr","completeBySourceData","encode","makeSeriesEncodeForAxisCoordSys","coordDimensions","baseCategoryDimIndex","categoryWayValueDimStart","encodeItemName","encodeSeriesName","uid","coordDimInfo","coordDimIdx","getDataDimCountOnCoordDim","datasetRecord","categoryWayDim","valueWayDim","pushDim","dimIdxArr","idxFrom","idxCount","coordDimName","start","makeSeriesEncodeForNameBased","potentialNameDimIndex","dim","idxResult","idxRes0","idxRes1","guessRecords","guessResult","isPureNumber","fulfilled","nameDimIndex","e","IS_CONTAINER","parseClassType","componentType","ret","main","classBase","superCall","methodName","superApply","enableClassExtend","RootClass","mandatoryMethods","$constructor","proto","ExtendedClass","Clz","classAttr","enableClassManagement","entity","storage","registerClass","Clazz","checkClassType","container","makeContainer","getClass","componentMainType","subType","throwWhenNotFound","getClassesByMainType","hasClass","getAllClassMainTypes","types","hasSubTypes","registerWhenExtend","originalExtend","setReadOnly","properties","getOrCreateEncodeArr","summarizeDimensions","summary","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","userOutput","dimensionNames","dimItem","getDimensionInfo","otherDim","encodeArr","dataDimsOnCoord","encodeFirstDimNotExtra","dimArr","encodeLabel","encodeTooltip","tooltip","getDimensionTypeByAxis","axisType","numberUtil","number","symbolUtil","LiquidLayout","extendChartView","render","api","group","removeAll","getData","itemModel","getItemModel","getHeight","size","outlineDistance","outlineBorderWidth","showOutline","outterRadius","innerRadius","paddingRadius","isFillContainer","symbol","getOutline","wavePath","strokePath","getPath","getModel","getItemStyle","fillPath","graphic","Group","getBackground","oldData","_data","waves","isForClipping","makePath","bouding","createSymbol","Circle","outlinePath","getWave","isInverse","oldWave","radiusX","radiusY","itemStyleModel","waterLevel","normalStyle","seriesColor","wave","inverse","_waterLevel","hoverStyle","setHoverStyle","clip","setWaveAnimation","maxSpeed","speed","cnt","defaultSpeed","phaseOffset","console","error","when","during","diff","initProps","setItemGraphicEl","newIdx","oldIdx","waveElement","getItemGraphicEl","newWave","shapeAttrs","styleAttrs","updateProps","execute","labelModel","textOption","formatted","getFormattedLabel","defaultVal","defaultLabel","getName","isNaN","outsideTextRect","Rect","setText","insideTextRect","insColor","boundingCircle","CompoundPath","paths","getText","dispose","Triangle","extendShape","Diamond","Pin","asin","tanX","tanY","cpLen","cpLen2","Arrow","symbolCtors","Line","roundRect","square","circle","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","__isEmptyBrush","keepAspect","symbolPath","isEmpty","makeImage","setColor","pathTool","colorTool","ZImage","Text","Sector","Ring","Polygon","Polyline","BezierCurve","Arc","LinearGradient","RadialGradient","IncrementalDisplayable","subPixelOptimizeUtil","EMPTY_OBJ","_highlightNextDigit","_highlightKeyMap","_customShapeMap","registerShape","ShapeClass","layout","createFromString","centerGraphic","resizePath","boundingRect","aspect","mergePath","hasFillOrStroke","fillOrStroke","liftedColorMap","liftedColorCount","singleEnterEmphasis","el","hoverStl","__hoverStl","__highlighted","useHoverLayer","painter","elTarget","targetStyle","addHover","rollbackDefaultTextStyle","__hoverStlDirty","__cachedNormalStl","__cachedNormalZ2","elStyle","cacheElementStl","setDefaultHoverFillStroke","applyDefaultTextStyle","liftedColor","liftColor","singleEnterNormal","highlighted","removeHover","normalStl","normalZ2","traverseUpdate","updater","commonParam","trigger","fromState","toState","child","__highDownOnUpdate","setElementHoverStyle","onElementMouseOver","shouldSilent","__highByOuter","onElementMouseOut","onElementEmphasisEvent","highlightDigit","onElementNormalEvent","__highDownSilentOnTouch","zrByTouch","setAsHighDownDispatcher","asDispatcher","disable","highDownSilentOnTouch","highDownOnUpdate","__highDownDispatcher","method","setTextStyle","textStyle","textStyleModel","specifiedTextStyle","isEmphasis","setTextStyleCommon","isRectText","getTextPosition","getShallow","labelRotate","richResult","globalTextStyle","richItemNames","richItemNameMap","parentModel","getRichItemNames","richTextStyle","setTokenTextStyle","forceRich","isBlock","getAutoColor","insideRollbackOpt","autoColor","textTag","disableBox","insideRollback","useInsideStyle","useInsideStyleCache","useAutoColorCache","animateOrSetProps","isUpdate","props","animatableModel","isAnimationEnabled","postfix","duration","animationDelay","getAnimationDelayParams","animateTo","stopAnimation","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","crossProduct2d","b1a1x","b1a1y","q","Z2_EMPHASIS_LIFT","CACHED_LABEL_STYLE_PROPERTIES","extendPath","extendFromString","getShapeClass","imageUrl","img","param","isHighDownDispatcher","getHighlightDigit","highlightKey","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","baseText","labelFetcher","labelDataIndex","labelDimIndex","labelProp","showNormal","showEmphasis","defaultText","normalStyleText","emphasisStyleText","modifyLabelStyle","normalStyleProps","emphasisStyleProps","defaultColor","getFont","gTextStyleModel","getTransform","ancestor","mat","transformDirection","hBase","vBase","vertex","groupTransition","g1","g2","elMap","elMap1","anid","oldEl","newProp","getAnimatableProps","clipPointsByRect","point","clipRectByRect","targetRect","createIcon","iconStr","linePolygonIntersect","transformPath","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","createPathOptions","pathProxy","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","off","ctlPtx","ctlPty","createPathProxyFromString","pathEls","pathList","pathEl","pathBundle","STYLE_COMMON_PROPS","createLinearGradient","createRadialGradient","styleProto","shadowOffsetX","shadowOffsetY","textRect","transformText","blend","notCheckCache","globalCompositeOperation","otherStyle","newStyle","canvasGradient","idStart","arrySlice","eventProcessor","_$handlers","_$eventProcessor","on","eventful","event","query","handler","isOnce","_h","host","normalizeQuery","wrap","one","callAtLast","zrEventfulCallAtLast","lastWrap","splice","isSilent","newList","argLen","hItem","afterTrigger","triggerWithContext","Animator","logError","animatable","time","delay","easing","callback","forceAnimate","reverse","animateToShallow","objShallow","propertyCount","setAttrByPath","done","animatingShape","pathSplitted","animator","forwardToLast","stop","animateFrom","Clip","arraySlice","defaultGetter","defaultSetter","interpolateNumber","percent","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isArraySame","catmullRomInterpolateArray","catmullRomInterpolate","v0","cloneValue","rgba2String","createTrackClip","oneTrackDone","keyframes","_getter","setter","_setter","useSpline","trackLen","trackMaxTime","firstVal","isValueArray","isValueColor","isValueString","lastValue","getArrayDim","sort","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","_target","lastFrame","lastFramePercent","life","_loop","_delay","onframe","frame","range","ondestroy","_tracks","_clipCount","_doneList","_onframeList","_clipList","tracks","pause","_paused","resume","isPaused","_doneCallback","doneList","lastClip","clipCount","addClip","oldOnFrame","clipList","removeClip","getClips","easingFuncs","_life","_initialized","gap","onrestart","_pausedTime","step","globalTime","deltaTime","_startTime","easingFunc","schedule","fire","restart","_needsRemove","remainder","eventType","arg","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","textHelper","tmpRect","save","restore","end","extremity","xDim","yDim","fromPoints","tx","ty","vec2Min","vec2Max","cubic","quadratic","windingLine","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","dir","x_","containPath","isStroke","_x","_l","_a","Pattern","repeat","createPattern","mathAtan2","nPoint","_image","sWidth","sHeight","_children","__storage","children","childAt","childOfName","childCount","_doAdd","addBefore","nextSibling","addToStorage","addChildrenToStorage","delFromStorage","delChildrenFromStorage","eachChild","includeChildren","tmpMat","childRect","fixClipWithShadow","r0","clockwise","unitX","unitY","shadowTemp","orignalBrush","modified","clipPaths","polyHelper","v2Distance","interpolate","isLoop","segs","pos","w2","w3","v2Min","v2Max","v2Scale","v2Add","v2Clone","v2Sub","constraint","prevPoint","nextPoint","cps","d0","sum","cp0","shift","subPixelOptimizeOutputShape","pointAt","_curve","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","tangentAt","_updatePathDirty","globalCoord","Displayble","IncrementalDisplayble","_displayables","_temporaryDisplayables","_cursor","notClear","clearDisplaybles","addDisplayable","displayable","notPersistent","addDisplayables","displayables","eachPendingDisplayable","getWaterPositions","stage","curves","waveRight","seriesType","getTargetSeries","paletteScope","seiresModelMap","eachSeriesByType","__paletteScope","reset","dataAll","getRawData","idxMap","rawIdx","getRawIndex","filteredIdx","singleDataColor","getItemVisual","singleDataBorderColor","getColorFromPalette","setItemVisual"],"mappings":"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","file":"echarts-liquidfill.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"echarts\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"echarts\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"echarts-liquidfill\"] = factory(require(\"echarts\"));\n\telse\n\t\troot[\"echarts-liquidfill\"] = factory(root[\"echarts\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","/**\n * @module zrender/core/util\n */\n// mergeDate\nvar BUILTIN_OBJECT = {\n  '[object Function]': 1,\n  '[object RegExp]': 1,\n  '[object Date]': 1,\n  '[object Error]': 1,\n  '[object CanvasGradient]': 1,\n  '[object CanvasPattern]': 1,\n  // For node-canvas\n  '[object Image]': 1,\n  '[object Canvas]': 1\n};\nvar TYPED_ARRAY = {\n  '[object Int8Array]': 1,\n  '[object Uint8Array]': 1,\n  '[object Uint8ClampedArray]': 1,\n  '[object Int16Array]': 1,\n  '[object Uint16Array]': 1,\n  '[object Int32Array]': 1,\n  '[object Uint32Array]': 1,\n  '[object Float32Array]': 1,\n  '[object Float64Array]': 1\n};\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  // Clear ctx instance for different environment\n  if (name === 'createCanvas') {\n    _ctx = null;\n  }\n\n  methods[name] = fn;\n}\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\n\n\nfunction clone(source) {\n  if (source == null || typeof source !== 'object') {\n    return source;\n  }\n\n  var result = source;\n  var typeStr = objToString.call(source);\n\n  if (typeStr === '[object Array]') {\n    if (!isPrimitive(source)) {\n      result = [];\n\n      for (var i = 0, len = source.length; i < len; i++) {\n        result[i] = clone(source[i]);\n      }\n    }\n  } else if (TYPED_ARRAY[typeStr]) {\n    if (!isPrimitive(source)) {\n      var Ctor = source.constructor;\n\n      if (source.constructor.from) {\n        result = Ctor.from(source);\n      } else {\n        result = new Ctor(source.length);\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone(source[i]);\n        }\n      }\n    }\n  } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n    result = {};\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        result[key] = clone(source[key]);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\n\n\nfunction merge(target, source, overwrite) {\n  // We should escapse that source is string\n  // and enter for ... in ...\n  if (!isObject(source) || !isObject(target)) {\n    return overwrite ? clone(source) : target;\n  }\n\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      var targetProp = target[key];\n      var sourceProp = source[key];\n\n      if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n        // merge\n        merge(targetProp, sourceProp, overwrite);\n      } else if (overwrite || !(key in target)) {\n        // overwritetrue\n        // NOTE target[key] \n        target[key] = clone(source[key], true);\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\n\n\nfunction mergeAll(targetAndSources, overwrite) {\n  var result = targetAndSources[0];\n\n  for (var i = 1, len = targetAndSources.length; i < len; i++) {\n    result = merge(result, targetAndSources[i], overwrite);\n  }\n\n  return result;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\n\n\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\n\n\nfunction defaults(target, source, overlay) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar createCanvas = function () {\n  return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n  return document.createElement('canvas');\n}; // FIXME\n\n\nvar _ctx;\n\nfunction getContext() {\n  if (!_ctx) {\n    // Use util.createCanvas instead of createCanvas\n    // because createCanvas may be overwritten in different environment\n    _ctx = createCanvas().getContext('2d');\n  }\n\n  return _ctx;\n}\n/**\n * index\n * @memberOf module:zrender/core/util\n */\n\n\nfunction indexOf(array, value) {\n  if (array) {\n    if (array.indexOf) {\n      return array.indexOf(value);\n    }\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n/**\n * \n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz \n * @param {Function} baseClazz \n */\n\n\nfunction inherits(clazz, baseClazz) {\n  var clazzPrototype = clazz.prototype;\n\n  function F() {}\n\n  F.prototype = baseClazz.prototype;\n  clazz.prototype = new F();\n\n  for (var prop in clazzPrototype) {\n    if (clazzPrototype.hasOwnProperty(prop)) {\n      clazz.prototype[prop] = clazzPrototype[prop];\n    }\n  }\n\n  clazz.prototype.constructor = clazz;\n  clazz.superClass = baseClazz;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\n\n\nfunction mixin(target, source, overlay) {\n  target = 'prototype' in target ? target.prototype : target;\n  source = 'prototype' in source ? source.prototype : source;\n  defaults(target, source, overlay);\n}\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\n\n\nfunction isArrayLike(data) {\n  if (!data) {\n    return;\n  }\n\n  if (typeof data === 'string') {\n    return false;\n  }\n\n  return typeof data.length === 'number';\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\n\n\nfunction each(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.forEach && obj.forEach === nativeForEach) {\n    obj.forEach(cb, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      cb.call(context, obj[i], i, obj);\n    }\n  } else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cb.call(context, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction map(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.map && obj.map === nativeMap) {\n    return obj.map(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      result.push(cb.call(context, obj[i], i, obj));\n    }\n\n    return result;\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction reduce(obj, cb, memo, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.reduce && obj.reduce === nativeReduce) {\n    return obj.reduce(cb, memo, context);\n  } else {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      memo = cb.call(context, memo, obj[i], i, obj);\n    }\n\n    return memo;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction filter(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.filter && obj.filter === nativeFilter) {\n    return obj.filter(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        result.push(obj[i]);\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\n\n\nfunction find(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  for (var i = 0, len = obj.length; i < len; i++) {\n    if (cb.call(context, obj[i], i, obj)) {\n      return obj[i];\n    }\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\n\n\nfunction bind(func, context) {\n  var args = nativeSlice.call(arguments, 2);\n  return function () {\n    return func.apply(context, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\n\n\nfunction curry(func) {\n  var args = nativeSlice.call(arguments, 1);\n  return function () {\n    return func.apply(this, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isArray(value) {\n  return objToString.call(value) === '[object Array]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isString(value) {\n  return objToString.call(value) === '[object String]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type === 'function' || !!value && type === 'object';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isBuiltInObject(value) {\n  return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isTypedArray(value) {\n  return !!TYPED_ARRAY[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isDom(value) {\n  return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n}\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction eqNaN(value) {\n  /* eslint-disable-next-line no-self-compare */\n  return value !== value;\n}\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\n\n\nfunction retrieve(values) {\n  for (var i = 0, len = arguments.length; i < len; i++) {\n    if (arguments[i] != null) {\n      return arguments[i];\n    }\n  }\n}\n\nfunction retrieve2(value0, value1) {\n  return value0 != null ? value0 : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n  return value0 != null ? value0 : value1 != null ? value1 : value2;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\n\n\nfunction slice() {\n  return Function.call.apply(nativeSlice, arguments);\n}\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\n\n\nfunction normalizeCssArray(val) {\n  if (typeof val === 'number') {\n    return [val, val, val, val];\n  }\n\n  var len = val.length;\n\n  if (len === 2) {\n    // vertical | horizontal\n    return [val[0], val[1], val[0], val[1]];\n  } else if (len === 3) {\n    // top | horizontal | bottom\n    return [val[0], val[1], val[2], val[1]];\n  }\n\n  return val;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\n\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {string} str string to be trimed\n * @return {string} trimed string\n */\n\n\nfunction trim(str) {\n  if (str == null) {\n    return null;\n  } else if (typeof str.trim === 'function') {\n    return str.trim();\n  } else {\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n  }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\n\nfunction setAsPrimitive(obj) {\n  obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n  return obj[primitiveKey];\n}\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\n\n\nfunction HashMap(obj) {\n  var isArr = isArray(obj); // Key should not be set on this, otherwise\n  // methods get/set/... may be overrided.\n\n  this.data = {};\n  var thisMap = this;\n  obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n  function visit(value, key) {\n    isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n  }\n}\n\nHashMap.prototype = {\n  constructor: HashMap,\n  // Do not provide `has` method to avoid defining what is `has`.\n  // (We usually treat `null` and `undefined` as the same, different\n  // from ES6 Map).\n  get: function (key) {\n    return this.data.hasOwnProperty(key) ? this.data[key] : null;\n  },\n  set: function (key, value) {\n    // Comparing with invocation chaining, `return value` is more commonly\n    // used in this case: `var someVal = map.set('a', genVal());`\n    return this.data[key] = value;\n  },\n  // Although util.each can be performed on this hashMap directly, user\n  // should not use the exposed keys, who are prefixed.\n  each: function (cb, context) {\n    context !== void 0 && (cb = bind(cb, context));\n    /* eslint-disable guard-for-in */\n\n    for (var key in this.data) {\n      this.data.hasOwnProperty(key) && cb(this.data[key], key);\n    }\n    /* eslint-enable guard-for-in */\n\n  },\n  // Do not use this method if performance sensitive.\n  removeKey: function (key) {\n    delete this.data[key];\n  }\n};\n\nfunction createHashMap(obj) {\n  return new HashMap(obj);\n}\n\nfunction concatArray(a, b) {\n  var newArray = new a.constructor(a.length + b.length);\n\n  for (var i = 0; i < a.length; i++) {\n    newArray[i] = a[i];\n  }\n\n  var offset = a.length;\n\n  for (i = 0; i < b.length; i++) {\n    newArray[i + offset] = b[i];\n  }\n\n  return newArray;\n}\n\nfunction noop() {}\n\nexports.$override = $override;\nexports.clone = clone;\nexports.merge = merge;\nexports.mergeAll = mergeAll;\nexports.extend = extend;\nexports.defaults = defaults;\nexports.createCanvas = createCanvas;\nexports.getContext = getContext;\nexports.indexOf = indexOf;\nexports.inherits = inherits;\nexports.mixin = mixin;\nexports.isArrayLike = isArrayLike;\nexports.each = each;\nexports.map = map;\nexports.reduce = reduce;\nexports.filter = filter;\nexports.find = find;\nexports.bind = bind;\nexports.curry = curry;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isBuiltInObject = isBuiltInObject;\nexports.isTypedArray = isTypedArray;\nexports.isDom = isDom;\nexports.eqNaN = eqNaN;\nexports.retrieve = retrieve;\nexports.retrieve2 = retrieve2;\nexports.retrieve3 = retrieve3;\nexports.slice = slice;\nexports.normalizeCssArray = normalizeCssArray;\nexports.assert = assert;\nexports.trim = trim;\nexports.setAsPrimitive = setAsPrimitive;\nexports.isPrimitive = isPrimitive;\nexports.createHashMap = createHashMap;\nexports.concatArray = concatArray;\nexports.noop = noop;","var Displayable = require(\"./Displayable\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar pathContain = require(\"../contain/path\");\n\nvar Pattern = require(\"./Pattern\");\n\nvar getCanvasPattern = Pattern.prototype.getCanvasPattern;\nvar abs = Math.abs;\nvar pathProxyForDraw = new PathProxy(true);\n/**\n * @alias module:zrender/graphic/Path\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\nfunction Path(opts) {\n  Displayable.call(this, opts);\n  /**\n   * @type {module:zrender/core/PathProxy}\n   * @readOnly\n   */\n\n  this.path = null;\n}\n\nPath.prototype = {\n  constructor: Path,\n  type: 'path',\n  __dirtyPath: true,\n  strokeContainThreshold: 5,\n  // This item default to be false. But in map series in echarts,\n  // in order to improve performance, it should be set to true,\n  // so the shorty segment won't draw.\n  segmentIgnoreThreshold: 0,\n\n  /**\n   * See `module:zrender/src/graphic/helper/subPixelOptimize`.\n   * @type {boolean}\n   */\n  subPixelOptimize: false,\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var path = this.path || pathProxyForDraw;\n    var hasStroke = style.hasStroke();\n    var hasFill = style.hasFill();\n    var fill = style.fill;\n    var stroke = style.stroke;\n    var hasFillGradient = hasFill && !!fill.colorStops;\n    var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n    var hasFillPattern = hasFill && !!fill.image;\n    var hasStrokePattern = hasStroke && !!stroke.image;\n    style.bind(ctx, this, prevEl);\n    this.setTransform(ctx);\n\n    if (this.__dirty) {\n      var rect; // Update gradient because bounding rect may changed\n\n      if (hasFillGradient) {\n        rect = rect || this.getBoundingRect();\n        this._fillGradient = style.getGradient(ctx, fill, rect);\n      }\n\n      if (hasStrokeGradient) {\n        rect = rect || this.getBoundingRect();\n        this._strokeGradient = style.getGradient(ctx, stroke, rect);\n      }\n    } // Use the gradient or pattern\n\n\n    if (hasFillGradient) {\n      // PENDING If may have affect the state\n      ctx.fillStyle = this._fillGradient;\n    } else if (hasFillPattern) {\n      ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n    }\n\n    if (hasStrokeGradient) {\n      ctx.strokeStyle = this._strokeGradient;\n    } else if (hasStrokePattern) {\n      ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n    }\n\n    var lineDash = style.lineDash;\n    var lineDashOffset = style.lineDashOffset;\n    var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n    var scale = this.getGlobalScale();\n    path.setScale(scale[0], scale[1], this.segmentIgnoreThreshold); // Proxy context\n    // Rebuild path in following 2 cases\n    // 1. Path is dirty\n    // 2. Path needs javascript implemented lineDash stroking.\n    //    In this case, lineDash information will not be saved in PathProxy\n\n    if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n      path.beginPath(ctx); // Setting line dash before build path\n\n      if (lineDash && !ctxLineDash) {\n        path.setLineDash(lineDash);\n        path.setLineDashOffset(lineDashOffset);\n      }\n\n      this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n      if (this.path) {\n        this.__dirtyPath = false;\n      }\n    } else {\n      // Replay path building\n      ctx.beginPath();\n      this.path.rebuildPath(ctx);\n    }\n\n    if (hasFill) {\n      if (style.fillOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        path.fill(ctx);\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        path.fill(ctx);\n      }\n    }\n\n    if (lineDash && ctxLineDash) {\n      ctx.setLineDash(lineDash);\n      ctx.lineDashOffset = lineDashOffset;\n    }\n\n    if (hasStroke) {\n      if (style.strokeOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        path.stroke(ctx);\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        path.stroke(ctx);\n      }\n    }\n\n    if (lineDash && ctxLineDash) {\n      // PENDING\n      // Remove lineDash\n      ctx.setLineDash([]);\n    } // Draw rect text\n\n\n    if (style.text != null) {\n      // Only restore transform when needs draw text.\n      this.restoreTransform(ctx);\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n  // Like in circle\n  buildPath: function (ctx, shapeCfg, inBundle) {},\n  createPathProxy: function () {\n    this.path = new PathProxy();\n  },\n  getBoundingRect: function () {\n    var rect = this._rect;\n    var style = this.style;\n    var needsUpdateRect = !rect;\n\n    if (needsUpdateRect) {\n      var path = this.path;\n\n      if (!path) {\n        // Create path on demand.\n        path = this.path = new PathProxy();\n      }\n\n      if (this.__dirtyPath) {\n        path.beginPath();\n        this.buildPath(path, this.shape, false);\n      }\n\n      rect = path.getBoundingRect();\n    }\n\n    this._rect = rect;\n\n    if (style.hasStroke()) {\n      // Needs update rect with stroke lineWidth when\n      // 1. Element changes scale or lineWidth\n      // 2. Shape is changed\n      var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n      if (this.__dirty || needsUpdateRect) {\n        rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n        var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n        if (!style.hasFill()) {\n          w = Math.max(w, this.strokeContainThreshold || 4);\n        } // Consider line width\n        // Line scale can't be 0;\n\n\n        if (lineScale > 1e-10) {\n          rectWithStroke.width += w / lineScale;\n          rectWithStroke.height += w / lineScale;\n          rectWithStroke.x -= w / lineScale / 2;\n          rectWithStroke.y -= w / lineScale / 2;\n        }\n      } // Return rect with stroke\n\n\n      return rectWithStroke;\n    }\n\n    return rect;\n  },\n  contain: function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    var style = this.style;\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      var pathData = this.path.data;\n\n      if (style.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n        if (lineScale > 1e-10) {\n          // Only add extra hover lineWidth when there are no fill\n          if (!style.hasFill()) {\n            lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n          }\n\n          if (pathContain.containStroke(pathData, lineWidth / lineScale, x, y)) {\n            return true;\n          }\n        }\n      }\n\n      if (style.hasFill()) {\n        return pathContain.contain(pathData, x, y);\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param  {boolean} dirtyPath\n   */\n  dirty: function (dirtyPath) {\n    if (dirtyPath == null) {\n      dirtyPath = true;\n    } // Only mark dirty, not mark clean\n\n\n    if (dirtyPath) {\n      this.__dirtyPath = dirtyPath;\n      this._rect = null;\n    }\n\n    this.__dirty = this.__dirtyText = true;\n    this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n    if (this.__clipTarget) {\n      this.__clipTarget.dirty();\n    }\n  },\n\n  /**\n   * Alias for animate('shape')\n   * @param {boolean} loop\n   */\n  animateShape: function (loop) {\n    return this.animate('shape', loop);\n  },\n  // Overwrite attrKV\n  attrKV: function (key, value) {\n    // FIXME\n    if (key === 'shape') {\n      this.setShape(value);\n      this.__dirtyPath = true;\n      this._rect = null;\n    } else {\n      Displayable.prototype.attrKV.call(this, key, value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setShape: function (key, value) {\n    var shape = this.shape; // Path from string may not have shape\n\n    if (shape) {\n      if (zrUtil.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            shape[name] = key[name];\n          }\n        }\n      } else {\n        shape[key] = value;\n      }\n\n      this.dirty(true);\n    }\n\n    return this;\n  },\n  getLineScale: function () {\n    var m = this.transform; // Get the line scale.\n    // Determinant of `m` means how much the area is enlarged by the\n    // transformation. So its square root can be used as a scale factor\n    // for width.\n\n    return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n  }\n};\n/**\n *  Path element, \n * Extend a path element\n * @param {Object} props\n * @param {string} props.type Path type\n * @param {Function} props.init Initialize\n * @param {Function} props.buildPath Overwrite buildPath method\n * @param {Object} [props.style] Extended default style config\n * @param {Object} [props.shape] Extended default shape config\n */\n\nPath.extend = function (defaults) {\n  var Sub = function (opts) {\n    Path.call(this, opts);\n\n    if (defaults.style) {\n      // Extend default style\n      this.style.extendFrom(defaults.style, false);\n    } // Extend default shape\n\n\n    var defaultShape = defaults.shape;\n\n    if (defaultShape) {\n      this.shape = this.shape || {};\n      var thisShape = this.shape;\n\n      for (var name in defaultShape) {\n        if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n          thisShape[name] = defaultShape[name];\n        }\n      }\n    }\n\n    defaults.init && defaults.init.call(this, opts);\n  };\n\n  zrUtil.inherits(Sub, Path); // FIXME  extend position, rotation \n\n  for (var name in defaults) {\n    // Extending prototype values and methods\n    if (name !== 'style' && name !== 'shape') {\n      Sub.prototype[name] = defaults[name];\n    }\n  }\n\n  return Sub;\n};\n\nzrUtil.inherits(Path, Displayable);\nvar _default = Path;\nmodule.exports = _default;","/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * \n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\n\nfunction create(x, y) {\n  var out = new ArrayCtor(2);\n\n  if (x == null) {\n    x = 0;\n  }\n\n  if (y == null) {\n    y = 0;\n  }\n\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction copy(out, v) {\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction clone(v) {\n  var out = new ArrayCtor(2);\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} \n */\n\n\nfunction set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction add(out, v1, v2) {\n  out[0] = v1[0] + v2[0];\n  out[1] = v1[1] + v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\n\n\nfunction scaleAndAdd(out, v1, v2, a) {\n  out[0] = v1[0] + v2[0] * a;\n  out[1] = v1[1] + v2[1] * a;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction sub(out, v1, v2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\n\nfunction len(v) {\n  return Math.sqrt(lenSquare(v));\n}\n\nvar length = len; // jshint ignore:line\n\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\nfunction lenSquare(v) {\n  return v[0] * v[0] + v[1] * v[1];\n}\n\nvar lengthSquare = lenSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\nfunction mul(out, v1, v2) {\n  out[0] = v1[0] * v2[0];\n  out[1] = v1[1] * v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction div(out, v1, v2) {\n  out[0] = v1[0] / v2[0];\n  out[1] = v1[1] / v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction dot(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\n\n\nfunction scale(out, v, s) {\n  out[0] = v[0] * s;\n  out[1] = v[1] * s;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\n\nfunction normalize(out, v) {\n  var d = len(v);\n\n  if (d === 0) {\n    out[0] = 0;\n    out[1] = 0;\n  } else {\n    out[0] = v[0] / d;\n    out[1] = v[1] / d;\n  }\n\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction distance(v1, v2) {\n  return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\n\nvar dist = distance;\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\nfunction distanceSquare(v1, v2) {\n  return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\n\nvar distSquare = distanceSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\nfunction negate(out, v) {\n  out[0] = -v[0];\n  out[1] = -v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\n\n\nfunction lerp(out, v1, v2, t) {\n  out[0] = v1[0] + t * (v2[0] - v1[0]);\n  out[1] = v1[1] + t * (v2[1] - v1[1]);\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\n\n\nfunction applyTransform(out, v, m) {\n  var x = v[0];\n  var y = v[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction min(out, v1, v2) {\n  out[0] = Math.min(v1[0], v2[0]);\n  out[1] = Math.min(v1[1], v2[1]);\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction max(out, v1, v2) {\n  out[0] = Math.max(v1[0], v2[0]);\n  out[1] = Math.max(v1[1], v2[1]);\n  return out;\n}\n\nexports.create = create;\nexports.copy = copy;\nexports.clone = clone;\nexports.set = set;\nexports.add = add;\nexports.scaleAndAdd = scaleAndAdd;\nexports.sub = sub;\nexports.len = len;\nexports.length = length;\nexports.lenSquare = lenSquare;\nexports.lengthSquare = lengthSquare;\nexports.mul = mul;\nexports.div = div;\nexports.dot = dot;\nexports.scale = scale;\nexports.normalize = normalize;\nexports.distance = distance;\nexports.dist = dist;\nexports.distanceSquare = distanceSquare;\nexports.distSquare = distSquare;\nexports.negate = negate;\nexports.lerp = lerp;\nexports.applyTransform = applyTransform;\nexports.min = min;\nexports.max = max;","var vec2 = require(\"./vector\");\n\nvar matrix = require(\"./matrix\");\n\n/**\n * @module echarts/core/BoundingRect\n */\nvar v2ApplyTransform = vec2.applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n/**\n * @alias module:echarts/core/BoundingRect\n */\n\nfunction BoundingRect(x, y, width, height) {\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n  /**\n   * @type {number}\n   */\n\n\n  this.x = x;\n  /**\n   * @type {number}\n   */\n\n  this.y = y;\n  /**\n   * @type {number}\n   */\n\n  this.width = width;\n  /**\n   * @type {number}\n   */\n\n  this.height = height;\n}\n\nBoundingRect.prototype = {\n  constructor: BoundingRect,\n\n  /**\n   * @param {module:echarts/core/BoundingRect} other\n   */\n  union: function (other) {\n    var x = mathMin(other.x, this.x);\n    var y = mathMin(other.y, this.y);\n    this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n    this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n    this.x = x;\n    this.y = y;\n  },\n\n  /**\n   * @param {Array.<number>} m\n   * @methods\n   */\n  applyTransform: function () {\n    var lt = [];\n    var rb = [];\n    var lb = [];\n    var rt = [];\n    return function (m) {\n      // In case usage like this\n      // el.getBoundingRect().applyTransform(el.transform)\n      // And element has no transform\n      if (!m) {\n        return;\n      }\n\n      lt[0] = lb[0] = this.x;\n      lt[1] = rt[1] = this.y;\n      rb[0] = rt[0] = this.x + this.width;\n      rb[1] = lb[1] = this.y + this.height;\n      v2ApplyTransform(lt, lt, m);\n      v2ApplyTransform(rb, rb, m);\n      v2ApplyTransform(lb, lb, m);\n      v2ApplyTransform(rt, rt, m);\n      this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n      this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n      var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n      var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n      this.width = maxX - this.x;\n      this.height = maxY - this.y;\n    };\n  }(),\n\n  /**\n   * Calculate matrix of transforming from self to target rect\n   * @param  {module:zrender/core/BoundingRect} b\n   * @return {Array.<number>}\n   */\n  calculateTransform: function (b) {\n    var a = this;\n    var sx = b.width / a.width;\n    var sy = b.height / a.height;\n    var m = matrix.create(); // \n\n    matrix.translate(m, m, [-a.x, -a.y]);\n    matrix.scale(m, m, [sx, sy]);\n    matrix.translate(m, m, [b.x, b.y]);\n    return m;\n  },\n\n  /**\n   * @param {(module:echarts/core/BoundingRect|Object)} b\n   * @return {boolean}\n   */\n  intersect: function (b) {\n    if (!b) {\n      return false;\n    }\n\n    if (!(b instanceof BoundingRect)) {\n      // Normalize negative width/height.\n      b = BoundingRect.create(b);\n    }\n\n    var a = this;\n    var ax0 = a.x;\n    var ax1 = a.x + a.width;\n    var ay0 = a.y;\n    var ay1 = a.y + a.height;\n    var bx0 = b.x;\n    var bx1 = b.x + b.width;\n    var by0 = b.y;\n    var by1 = b.y + b.height;\n    return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n  },\n  contain: function (x, y) {\n    var rect = this;\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n  },\n\n  /**\n   * @return {module:echarts/core/BoundingRect}\n   */\n  clone: function () {\n    return new BoundingRect(this.x, this.y, this.width, this.height);\n  },\n\n  /**\n   * Copy from another rect\n   */\n  copy: function (other) {\n    this.x = other.x;\n    this.y = other.y;\n    this.width = other.width;\n    this.height = other.height;\n  },\n  plain: function () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  }\n};\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\n\nBoundingRect.create = function (rect) {\n  return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\nvar _default = BoundingRect;\nmodule.exports = _default;","var _vector = require(\"./vector\");\n\nvar v2Create = _vector.create;\nvar v2DistSquare = _vector.distSquare;\n\n/**\n * \n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3; // \n\nvar _v0 = v2Create();\n\nvar _v1 = v2Create();\n\nvar _v2 = v2Create();\n\nfunction isAroundZero(val) {\n  return val > -EPSILON && val < EPSILON;\n}\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n  // Evaluate roots of cubic functions\n  var a = p3 + 3 * (p1 - p2) - p0;\n  var b = 3 * (p2 - p1 * 2 + p0);\n  var c = 3 * (p1 - p0);\n  var d = p0 - val;\n  var A = b * b - 3 * a * c;\n  var B = b * c - 9 * a * d;\n  var C = c * c - 3 * b * d;\n  var n = 0;\n\n  if (isAroundZero(A) && isAroundZero(B)) {\n    if (isAroundZero(b)) {\n      roots[0] = 0;\n    } else {\n      var t1 = -c / b; //t1, t2, t3, b is not zero\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = B * B - 4 * A * C;\n\n    if (isAroundZero(disc)) {\n      var K = B / A;\n      var t1 = -b / a + K; // t1, a is not zero\n\n      var t2 = -K / 2; // t2, t3\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n      var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n      if (Y1 < 0) {\n        Y1 = -mathPow(-Y1, ONE_THIRD);\n      } else {\n        Y1 = mathPow(Y1, ONE_THIRD);\n      }\n\n      if (Y2 < 0) {\n        Y2 = -mathPow(-Y2, ONE_THIRD);\n      } else {\n        Y2 = mathPow(Y2, ONE_THIRD);\n      }\n\n      var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else {\n      var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n      var theta = Math.acos(T) / 3;\n      var ASqrt = mathSqrt(A);\n      var tmp = Math.cos(theta);\n      var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n      var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n      var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n\n      if (t3 >= 0 && t3 <= 1) {\n        roots[n++] = t3;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} \n */\n\n\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n  var b = 6 * p2 - 12 * p1 + 6 * p0;\n  var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      extrema[0] = -b / (2 * a);\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        extrema[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p23 = (p3 - p2) * t + p2;\n  var p012 = (p12 - p01) * t + p01;\n  var p123 = (p23 - p12) * t + p12;\n  var p0123 = (p123 - p012) * t + p012; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012;\n  out[3] = p0123; // Seg1\n\n  out[4] = p0123;\n  out[5] = p123;\n  out[6] = p23;\n  out[7] = p3;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] \n * @return {number}\n */\n\n\nfunction cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var prev;\n  var next;\n  var d1;\n  var d2;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n    _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n    d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval; // t - interval\n\n    _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n    _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n    d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = cubicAt(x0, x1, x2, x3, next);\n      _v2[1] = cubicAt(y0, y1, y2, y3, next);\n      d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = cubicAt(x0, x1, x2, x3, t);\n    out[1] = cubicAt(y0, y1, y2, y3, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n  return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n  var a = p0 - 2 * p1 + p2;\n  var b = 2 * (p1 - p0);\n  var c = p0 - val;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      var t1 = -b / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\n\n\nfunction quadraticExtremum(p0, p1, p2) {\n  var divider = p0 + p2 - 2 * p1;\n\n  if (divider === 0) {\n    // p1 is center of p0 and p2\n    return 0.5;\n  } else {\n    return (p0 - p1) / divider;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p012 = (p12 - p01) * t + p01; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012; // Seg1\n\n  out[3] = p012;\n  out[4] = p12;\n  out[5] = p2;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out \n * @return {number}\n */\n\n\nfunction quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = quadraticAt(x0, x1, x2, _t);\n    _v1[1] = quadraticAt(y0, y1, y2, _t);\n    var d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval; // t - interval\n\n    _v1[0] = quadraticAt(x0, x1, x2, prev);\n    _v1[1] = quadraticAt(y0, y1, y2, prev);\n    var d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = quadraticAt(x0, x1, x2, next);\n      _v2[1] = quadraticAt(y0, y1, y2, next);\n      var d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = quadraticAt(x0, x1, x2, t);\n    out[1] = quadraticAt(y0, y1, y2, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n\nexports.cubicAt = cubicAt;\nexports.cubicDerivativeAt = cubicDerivativeAt;\nexports.cubicRootAt = cubicRootAt;\nexports.cubicExtrema = cubicExtrema;\nexports.cubicSubdivide = cubicSubdivide;\nexports.cubicProjectPoint = cubicProjectPoint;\nexports.quadraticAt = quadraticAt;\nexports.quadraticDerivativeAt = quadraticDerivativeAt;\nexports.quadraticRootAt = quadraticRootAt;\nexports.quadraticExtremum = quadraticExtremum;\nexports.quadraticSubdivide = quadraticSubdivide;\nexports.quadraticProjectPoint = quadraticProjectPoint;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","var zrUtil = require(\"../core/util\");\n\nvar Style = require(\"./Style\");\n\nvar Element = require(\"../Element\");\n\nvar RectText = require(\"./mixin/RectText\");\n\n/**\n * Base class of all displayable graphic objects\n * @module zrender/graphic/Displayable\n */\n\n/**\n * @alias module:zrender/graphic/Displayable\n * @extends module:zrender/Element\n * @extends module:zrender/graphic/mixin/RectText\n */\nfunction Displayable(opts) {\n  opts = opts || {};\n  Element.call(this, opts); // Extend properties\n\n  for (var name in opts) {\n    if (opts.hasOwnProperty(name) && name !== 'style') {\n      this[name] = opts[name];\n    }\n  }\n  /**\n   * @type {module:zrender/graphic/Style}\n   */\n\n\n  this.style = new Style(opts.style, this);\n  this._rect = null; // Shapes for cascade clipping.\n  // Can only be `null`/`undefined` or an non-empty array, MUST NOT be an empty array.\n  // because it is easy to only using null to check whether clipPaths changed.\n\n  this.__clipPaths = null; // FIXME Stateful must be mixined after style is setted\n  // Stateful.call(this, opts);\n}\n\nDisplayable.prototype = {\n  constructor: Displayable,\n  type: 'displayable',\n\n  /**\n   * Dirty flag. From which painter will determine if this displayable object needs brush.\n   * @name module:zrender/graphic/Displayable#__dirty\n   * @type {boolean}\n   */\n  __dirty: true,\n\n  /**\n   * Whether the displayable object is visible. when it is true, the displayable object\n   * is not drawn, but the mouse event can still trigger the object.\n   * @name module:/zrender/graphic/Displayable#invisible\n   * @type {boolean}\n   * @default false\n   */\n  invisible: false,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z: 0,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z2: 0,\n\n  /**\n   * The z level determines the displayable object can be drawn in which layer canvas.\n   * @name module:/zrender/graphic/Displayable#zlevel\n   * @type {number}\n   * @default 0\n   */\n  zlevel: 0,\n\n  /**\n   * Whether it can be dragged.\n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  draggable: false,\n\n  /**\n   * Whether is it dragging.\n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  dragging: false,\n\n  /**\n   * Whether to respond to mouse events.\n   * @name module:/zrender/graphic/Displayable#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * If enable culling\n   * @type {boolean}\n   * @default false\n   */\n  culling: false,\n\n  /**\n   * Mouse cursor when hovered\n   * @name module:/zrender/graphic/Displayable#cursor\n   * @type {string}\n   */\n  cursor: 'pointer',\n\n  /**\n   * If hover area is bounding rect\n   * @name module:/zrender/graphic/Displayable#rectHover\n   * @type {string}\n   */\n  rectHover: false,\n\n  /**\n   * Render the element progressively when the value >= 0,\n   * usefull for large data.\n   * @type {boolean}\n   */\n  progressive: false,\n\n  /**\n   * @type {boolean}\n   */\n  incremental: false,\n\n  /**\n   * Scale ratio for global scale.\n   * @type {boolean}\n   */\n  globalScaleRatio: 1,\n  beforeBrush: function (ctx) {},\n  afterBrush: function (ctx) {},\n\n  /**\n   * Graphic drawing method.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  // Interface\n  brush: function (ctx, prevEl) {},\n\n  /**\n   * Get the minimum bounding box.\n   * @return {module:zrender/core/BoundingRect}\n   */\n  // Interface\n  getBoundingRect: function () {},\n\n  /**\n   * If displayable element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  contain: function (x, y) {\n    return this.rectContain(x, y);\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    cb.call(context, this);\n  },\n\n  /**\n   * If bounding rect of element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  rectContain: function (x, y) {\n    var coord = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    return rect.contain(coord[0], coord[1]);\n  },\n\n  /**\n   * Mark displayable element dirty and refresh next frame\n   */\n  dirty: function () {\n    this.__dirty = this.__dirtyText = true;\n    this._rect = null;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * If displayable object binded any event\n   * @return {boolean}\n   */\n  // TODO, events bound by bind\n  // isSilent: function () {\n  //     return !(\n  //         this.hoverable || this.draggable\n  //         || this.onmousemove || this.onmouseover || this.onmouseout\n  //         || this.onmousedown || this.onmouseup || this.onclick\n  //         || this.ondragenter || this.ondragover || this.ondragleave\n  //         || this.ondrop\n  //     );\n  // },\n\n  /**\n   * Alias for animate('style')\n   * @param {boolean} loop\n   */\n  animateStyle: function (loop) {\n    return this.animate('style', loop);\n  },\n  attrKV: function (key, value) {\n    if (key !== 'style') {\n      Element.prototype.attrKV.call(this, key, value);\n    } else {\n      this.style.set(value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setStyle: function (key, value) {\n    this.style.set(key, value);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * Use given style object\n   * @param  {Object} obj\n   */\n  useStyle: function (obj) {\n    this.style = new Style(obj, this);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * The string value of `textPosition` needs to be calculated to a real postion.\n   * For example, `'inside'` is calculated to `[rect.width/2, rect.height/2]`\n   * by default. See `contain/text.js#calculateTextPosition` for more details.\n   * But some coutom shapes like \"pin\", \"flag\" have center that is not exactly\n   * `[width/2, height/2]`. So we provide this hook to customize the calculation\n   * for those shapes. It will be called if the `style.textPosition` is a string.\n   * @param {Obejct} [out] Prepared out object. If not provided, this method should\n   *        be responsible for creating one.\n   * @param {module:zrender/graphic/Style} style\n   * @param {Object} rect {x, y, width, height}\n   * @return {Obejct} out The same as the input out.\n   *         {\n   *             x: number. mandatory.\n   *             y: number. mandatory.\n   *             textAlign: string. optional. use style.textAlign by default.\n   *             textVerticalAlign: string. optional. use style.textVerticalAlign by default.\n   *         }\n   */\n  calculateTextPosition: null\n};\nzrUtil.inherits(Displayable, Element);\nzrUtil.mixin(Displayable, RectText); // zrUtil.mixin(Displayable, Stateful);\n\nvar _default = Displayable;\nmodule.exports = _default;","var ContextCachedBy = {\n  NONE: 0,\n  STYLE_BIND: 1,\n  PLAIN_TEXT: 2\n}; // Avoid confused with 0/false.\n\nvar WILL_BE_RESTORED = 9;\nexports.ContextCachedBy = ContextCachedBy;\nexports.WILL_BE_RESTORED = WILL_BE_RESTORED;","var curve = require(\"./curve\");\n\nvar vec2 = require(\"./vector\");\n\nvar bbox = require(\"./bbox\");\n\nvar BoundingRect = require(\"./BoundingRect\");\n\nvar _config = require(\"../config\");\n\nvar dpr = _config.devicePixelRatio;\n\n/**\n * Path `buildPath``ctx`, pathpathCommands\n *  isInsidePath boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n// TODO getTotalLength, getPointAtLength\n\n/* global Float32Array */\nvar CMD = {\n  M: 1,\n  L: 2,\n  C: 3,\n  Q: 4,\n  A: 5,\n  Z: 6,\n  // Rect\n  R: 7\n}; // var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathSqrt = Math.sqrt;\nvar mathAbs = Math.abs;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\n\nvar PathProxy = function (notSaveData) {\n  this._saveData = !(notSaveData || false);\n\n  if (this._saveData) {\n    /**\n     * Path data. Stored as flat array\n     * @type {Array.<Object>}\n     */\n    this.data = [];\n  }\n\n  this._ctx = null;\n};\n/**\n * Path\n * @return {Object}\n */\n\n\nPathProxy.prototype = {\n  constructor: PathProxy,\n  _xi: 0,\n  _yi: 0,\n  _x0: 0,\n  _y0: 0,\n  // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n  _ux: 0,\n  _uy: 0,\n  _len: 0,\n  _lineDash: null,\n  _dashOffset: 0,\n  _dashIdx: 0,\n  _dashSum: 0,\n\n  /**\n   * @readOnly\n   */\n  setScale: function (sx, sy, segmentIgnoreThreshold) {\n    // Compat. Previously there is no segmentIgnoreThreshold.\n    segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n    this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n    this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n  },\n  getContext: function () {\n    return this._ctx;\n  },\n\n  /**\n   * @param  {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  beginPath: function (ctx) {\n    this._ctx = ctx;\n    ctx && ctx.beginPath();\n    ctx && (this.dpr = ctx.dpr); // Reset\n\n    if (this._saveData) {\n      this._len = 0;\n    }\n\n    if (this._lineDash) {\n      this._lineDash = null;\n      this._dashOffset = 0;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  moveTo: function (x, y) {\n    this.addData(CMD.M, x, y);\n    this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n    // xi, yi , x0, y0  closePath \n    //  beginPath  lineTo x0, y0 \n    //  lineTo dashed line  IE10- \n\n    this._x0 = x;\n    this._y0 = y;\n    this._xi = x;\n    this._yi = y;\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  lineTo: function (x, y) {\n    var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n    || this._len < 5;\n    this.addData(CMD.L, x, y);\n\n    if (this._ctx && exceedUnit) {\n      this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n    }\n\n    if (exceedUnit) {\n      this._xi = x;\n      this._yi = y;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @param  {number} x3\n   * @param  {number} y3\n   * @return {module:zrender/core/PathProxy}\n   */\n  bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n    this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n    }\n\n    this._xi = x3;\n    this._yi = y3;\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @return {module:zrender/core/PathProxy}\n   */\n  quadraticCurveTo: function (x1, y1, x2, y2) {\n    this.addData(CMD.Q, x1, y1, x2, y2);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n    }\n\n    this._xi = x2;\n    this._yi = y2;\n    return this;\n  },\n\n  /**\n   * @param  {number} cx\n   * @param  {number} cy\n   * @param  {number} r\n   * @param  {number} startAngle\n   * @param  {number} endAngle\n   * @param  {boolean} anticlockwise\n   * @return {module:zrender/core/PathProxy}\n   */\n  arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n    this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n    this._xi = mathCos(endAngle) * r + cx;\n    this._yi = mathSin(endAngle) * r + cy;\n    return this;\n  },\n  // TODO\n  arcTo: function (x1, y1, x2, y2, radius) {\n    if (this._ctx) {\n      this._ctx.arcTo(x1, y1, x2, y2, radius);\n    }\n\n    return this;\n  },\n  // TODO\n  rect: function (x, y, w, h) {\n    this._ctx && this._ctx.rect(x, y, w, h);\n    this.addData(CMD.R, x, y, w, h);\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/PathProxy}\n   */\n  closePath: function () {\n    this.addData(CMD.Z);\n    var ctx = this._ctx;\n    var x0 = this._x0;\n    var y0 = this._y0;\n\n    if (ctx) {\n      this._needsDash() && this._dashedLineTo(x0, y0);\n      ctx.closePath();\n    }\n\n    this._xi = x0;\n    this._yi = y0;\n    return this;\n  },\n\n  /**\n   * Context  rebuildPath  fill\n   * stroke \n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  fill: function (ctx) {\n    ctx && ctx.fill();\n    this.toStatic();\n  },\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  stroke: function (ctx) {\n    ctx && ctx.stroke();\n    this.toStatic();\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDash: function (lineDash) {\n    if (lineDash instanceof Array) {\n      this._lineDash = lineDash;\n      this._dashIdx = 0;\n      var lineDashSum = 0;\n\n      for (var i = 0; i < lineDash.length; i++) {\n        lineDashSum += lineDash[i];\n      }\n\n      this._dashSum = lineDashSum;\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDashOffset: function (offset) {\n    this._dashOffset = offset;\n    return this;\n  },\n\n  /**\n   *\n   * @return {boolean}\n   */\n  len: function () {\n    return this._len;\n  },\n\n  /**\n   *  Path \n   */\n  setData: function (data) {\n    var len = data.length;\n\n    if (!(this.data && this.data.length === len) && hasTypedArray) {\n      this.data = new Float32Array(len);\n    }\n\n    for (var i = 0; i < len; i++) {\n      this.data[i] = data[i];\n    }\n\n    this._len = len;\n  },\n\n  /**\n   * \n   * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n   */\n  appendPath: function (path) {\n    if (!(path instanceof Array)) {\n      path = [path];\n    }\n\n    var len = path.length;\n    var appendSize = 0;\n    var offset = this._len;\n\n    for (var i = 0; i < len; i++) {\n      appendSize += path[i].len();\n    }\n\n    if (hasTypedArray && this.data instanceof Float32Array) {\n      this.data = new Float32Array(offset + appendSize);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var appendPathData = path[i].data;\n\n      for (var k = 0; k < appendPathData.length; k++) {\n        this.data[offset++] = appendPathData[k];\n      }\n    }\n\n    this._len = offset;\n  },\n\n  /**\n   *  Path \n   * \n   */\n  addData: function (cmd) {\n    if (!this._saveData) {\n      return;\n    }\n\n    var data = this.data;\n\n    if (this._len + arguments.length > data.length) {\n      //  Float32Array\n      // \n      this._expandData();\n\n      data = this.data;\n    }\n\n    for (var i = 0; i < arguments.length; i++) {\n      data[this._len++] = arguments[i];\n    }\n\n    this._prevCmd = cmd;\n  },\n  _expandData: function () {\n    // Only if data is Float32Array\n    if (!(this.data instanceof Array)) {\n      var newData = [];\n\n      for (var i = 0; i < this._len; i++) {\n        newData[i] = this.data[i];\n      }\n\n      this.data = newData;\n    }\n  },\n\n  /**\n   * If needs js implemented dashed line\n   * @return {boolean}\n   * @private\n   */\n  _needsDash: function () {\n    return this._lineDash;\n  },\n  _dashedLineTo: function (x1, y1) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    var dist = mathSqrt(dx * dx + dy * dy);\n    var x = x0;\n    var y = y0;\n    var dash;\n    var nDash = lineDash.length;\n    var idx;\n    dx /= dist;\n    dy /= dist;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum;\n    x -= offset * dx;\n    y -= offset * dy;\n\n    while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n      idx = this._dashIdx;\n      dash = lineDash[idx];\n      x += dx * dash;\n      y += dy * dash;\n      this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n      if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n        continue;\n      }\n\n      ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n    } // Offset for next lineTo\n\n\n    dx = x - x1;\n    dy = y - y1;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  // Not accurate dashed line to\n  _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var t;\n    var dx;\n    var dy;\n    var cubicAt = curve.cubicAt;\n    var bezierLen = 0;\n    var idx = this._dashIdx;\n    var nDash = lineDash.length;\n    var x;\n    var y;\n    var tmpLen = 0;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum; // Bezier approx length\n\n    for (t = 0; t < 1; t += 0.1) {\n      dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n      dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n      bezierLen += mathSqrt(dx * dx + dy * dy);\n    } // Find idx after add offset\n\n\n    for (; idx < nDash; idx++) {\n      tmpLen += lineDash[idx];\n\n      if (tmpLen > offset) {\n        break;\n      }\n    }\n\n    t = (tmpLen - offset) / bezierLen;\n\n    while (t <= 1) {\n      x = cubicAt(x0, x1, x2, x3, t);\n      y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n      // Bad result if dash is long\n\n      idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n      t += lineDash[idx] / bezierLen;\n      idx = (idx + 1) % nDash;\n    } // Finish the last segment and calculate the new offset\n\n\n    idx % 2 !== 0 && ctx.lineTo(x3, y3);\n    dx = x3 - x;\n    dy = y3 - y;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  _dashedQuadraticTo: function (x1, y1, x2, y2) {\n    // Convert quadratic to cubic using degree elevation\n    var x3 = x2;\n    var y3 = y2;\n    x2 = (x2 + 2 * x1) / 3;\n    y2 = (y2 + 2 * y1) / 3;\n    x1 = (this._xi + 2 * x1) / 3;\n    y1 = (this._yi + 2 * y1) / 3;\n\n    this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n  },\n\n  /**\n   *  Float32Array \n   * Convert dynamic array to static Float32Array\n   */\n  toStatic: function () {\n    var data = this.data;\n\n    if (data instanceof Array) {\n      data.length = this._len;\n\n      if (hasTypedArray) {\n        this.data = new Float32Array(data);\n      }\n    }\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function () {\n    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n    max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n    var data = this.data;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          min2[0] = x0;\n          min2[1] = y0;\n          max2[0] = x0;\n          max2[1] = y0;\n          break;\n\n        case CMD.L:\n          bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.C:\n          bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.Q:\n          bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++];\n          var endAngle = data[i++] + startAngle; // TODO Arc \n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n\n          if (i === 1) {\n            //  arc \n            // \n            x0 = mathCos(startAngle) * rx + cx;\n            y0 = mathSin(startAngle) * ry + cy;\n          }\n\n          bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++]; // Use fromLine\n\n          bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n          break;\n\n        case CMD.Z:\n          xi = x0;\n          yi = y0;\n          break;\n      } // Union\n\n\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * Rebuild path from current data\n   * Rebuild path will not consider javascript implemented line dash.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  rebuildPath: function (ctx) {\n    var d = this.data;\n    var x0;\n    var y0;\n    var xi;\n    var yi;\n    var x;\n    var y;\n    var ux = this._ux;\n    var uy = this._uy;\n    var len = this._len;\n\n    for (var i = 0; i < len;) {\n      var cmd = d[i++];\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = d[i];\n        yi = d[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = xi = d[i++];\n          y0 = yi = d[i++];\n          ctx.moveTo(xi, yi);\n          break;\n\n        case CMD.L:\n          x = d[i++];\n          y = d[i++]; // Not draw too small seg between\n\n          if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n            ctx.lineTo(x, y);\n            xi = x;\n            yi = y;\n          }\n\n          break;\n\n        case CMD.C:\n          ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.Q:\n          ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.A:\n          var cx = d[i++];\n          var cy = d[i++];\n          var rx = d[i++];\n          var ry = d[i++];\n          var theta = d[i++];\n          var dTheta = d[i++];\n          var psi = d[i++];\n          var fs = d[i++];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          var isEllipse = Math.abs(rx - ry) > 1e-3;\n          var endAngle = theta + dTheta;\n\n          if (isEllipse) {\n            ctx.translate(cx, cy);\n            ctx.rotate(psi);\n            ctx.scale(scaleX, scaleY);\n            ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n            ctx.scale(1 / scaleX, 1 / scaleY);\n            ctx.rotate(-psi);\n            ctx.translate(-cx, -cy);\n          } else {\n            ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n          }\n\n          if (i === 1) {\n            //  arc \n            // \n            x0 = mathCos(theta) * rx + cx;\n            y0 = mathSin(theta) * ry + cy;\n          }\n\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = d[i];\n          y0 = yi = d[i + 1];\n          ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n          break;\n\n        case CMD.Z:\n          ctx.closePath();\n          xi = x0;\n          yi = y0;\n      }\n    }\n  }\n};\nPathProxy.CMD = CMD;\nvar _default = PathProxy;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// (1) The code `if (__DEV__) ...` can be removed by build tool.\n// (2) If intend to use `__DEV__`, this module should be imported. Use a global\n// variable `__DEV__` may cause that miss the declaration (see #6535), or the\n// declaration is behind of the using position (for example in `Model.extent`,\n// And tools like rollup can not analysis the dependency if not import).\nvar dev; // In browser\n\nif (typeof window !== 'undefined') {\n  dev = window.__DEV__;\n} // In node\nelse if (typeof global !== 'undefined') {\n    dev = global.__DEV__;\n  }\n\nif (typeof dev === 'undefined') {\n  dev = true;\n}\n\nvar __DEV__ = dev;\nexports.__DEV__ = __DEV__;","/**\n * 3x2\n * @exports zrender/tool/matrix\n */\n\n/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * Create a identity matrix.\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Clone a new matrix.\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction clone(a) {\n  var b = create();\n  copy(b, a);\n  return b;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\nexports.clone = clone;","var BoundingRect = require(\"../core/BoundingRect\");\n\nvar imageHelper = require(\"../graphic/helper/image\");\n\nvar _util = require(\"../core/util\");\n\nvar getContext = _util.getContext;\nvar extend = _util.extend;\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar trim = _util.trim;\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nvar DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\n\n\nfunction getWidth(text, font) {\n  font = font || DEFAULT_FONT;\n  var key = text + ':' + font;\n\n  if (textWidthCache[key]) {\n    return textWidthCache[key];\n  }\n\n  var textLines = (text + '').split('\\n');\n  var width = 0;\n\n  for (var i = 0, l = textLines.length; i < l; i++) {\n    // textContain.measureText may be overrided in SVG or VML\n    width = Math.max(measureText(textLines[i], font).width, width);\n  }\n\n  if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n    textWidthCacheCounter = 0;\n    textWidthCache = {};\n  }\n\n  textWidthCacheCounter++;\n  textWidthCache[key] = width;\n  return width;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\n\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n  var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n  var outerWidth = getWidth(text, font);\n\n  if (textPadding) {\n    outerWidth += textPadding[1] + textPadding[3];\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n  rect.lineHeight = contentBlock.lineHeight;\n  return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  var contentBlock = parseRichText(text, {\n    rich: rich,\n    truncate: truncate,\n    font: font,\n    textAlign: textAlign,\n    textPadding: textPadding,\n    textLineHeight: textLineHeight\n  });\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\n\n\nfunction adjustTextX(x, width, textAlign) {\n  // FIXME Right to left language\n  if (textAlign === 'right') {\n    x -= width;\n  } else if (textAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\n\n\nfunction adjustTextY(y, height, textVerticalAlign) {\n  if (textVerticalAlign === 'middle') {\n    y -= height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y -= height;\n  }\n\n  return y;\n}\n/**\n * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n * @public\n * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction calculateTextPosition(out, style, rect) {\n  var textPosition = style.textPosition;\n  var distance = style.textDistance;\n  var x = rect.x;\n  var y = rect.y;\n  distance = distance || 0;\n  var height = rect.height;\n  var width = rect.width;\n  var halfHeight = height / 2;\n  var textAlign = 'left';\n  var textVerticalAlign = 'top';\n\n  switch (textPosition) {\n    case 'left':\n      x -= distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'right':\n      x += distance + width;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'top':\n      x += width / 2;\n      y -= distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'bottom':\n      x += width / 2;\n      y += height + distance;\n      textAlign = 'center';\n      break;\n\n    case 'inside':\n      x += width / 2;\n      y += halfHeight;\n      textAlign = 'center';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideLeft':\n      x += distance;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideRight':\n      x += width - distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideTop':\n      x += width / 2;\n      y += distance;\n      textAlign = 'center';\n      break;\n\n    case 'insideBottom':\n      x += width / 2;\n      y += height - distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideTopLeft':\n      x += distance;\n      y += distance;\n      break;\n\n    case 'insideTopRight':\n      x += width - distance;\n      y += distance;\n      textAlign = 'right';\n      break;\n\n    case 'insideBottomLeft':\n      x += distance;\n      y += height - distance;\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideBottomRight':\n      x += width - distance;\n      y += height - distance;\n      textAlign = 'right';\n      textVerticalAlign = 'bottom';\n      break;\n  }\n\n  out = out || {};\n  out.x = x;\n  out.y = y;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n/**\n * To be removed. But still do not remove in case that some one has imported it.\n * @deprecated\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n  var dummyStyle = {\n    textPosition: textPosition,\n    textDistance: distance\n  };\n  return calculateTextPosition({}, dummyStyle, rect);\n}\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\n\n\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n  if (!containerWidth) {\n    return '';\n  }\n\n  var textLines = (text + '').split('\\n');\n  options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n  // It is not appropriate that every line has '...' when truncate multiple lines.\n\n  for (var i = 0, len = textLines.length; i < len; i++) {\n    textLines[i] = truncateSingleLine(textLines[i], options);\n  }\n\n  return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n  options = extend({}, options);\n  options.font = font;\n  var ellipsis = retrieve2(ellipsis, '...');\n  options.maxIterations = retrieve2(options.maxIterations, 2);\n  var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n  // Other languages?\n\n  options.cnCharWidth = getWidth('', font); // FIXME\n  // Consider proportional font?\n\n  var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n  options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n  // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n  var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n  for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n    contentWidth -= ascCharWidth;\n  }\n\n  var ellipsisWidth = getWidth(ellipsis, font);\n\n  if (ellipsisWidth > contentWidth) {\n    ellipsis = '';\n    ellipsisWidth = 0;\n  }\n\n  contentWidth = containerWidth - ellipsisWidth;\n  options.ellipsis = ellipsis;\n  options.ellipsisWidth = ellipsisWidth;\n  options.contentWidth = contentWidth;\n  options.containerWidth = containerWidth;\n  return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n  var containerWidth = options.containerWidth;\n  var font = options.font;\n  var contentWidth = options.contentWidth;\n\n  if (!containerWidth) {\n    return '';\n  }\n\n  var lineWidth = getWidth(textLine, font);\n\n  if (lineWidth <= containerWidth) {\n    return textLine;\n  }\n\n  for (var j = 0;; j++) {\n    if (lineWidth <= contentWidth || j >= options.maxIterations) {\n      textLine += options.ellipsis;\n      break;\n    }\n\n    var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n    textLine = textLine.substr(0, subLength);\n    lineWidth = getWidth(textLine, font);\n  }\n\n  if (textLine === '') {\n    textLine = options.placeholder;\n  }\n\n  return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n  var width = 0;\n  var i = 0;\n\n  for (var len = text.length; i < len && width < contentWidth; i++) {\n    var charCode = text.charCodeAt(i);\n    width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n  }\n\n  return i;\n}\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\n\n\nfunction getLineHeight(font) {\n  // FIXME A rough approach.\n  return getWidth('', font);\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\n\n\nfunction measureText(text, font) {\n  return methods.measureText(text, font);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nmethods.measureText = function (text, font) {\n  var ctx = getContext();\n  ctx.font = font || DEFAULT_FONT;\n  return ctx.measureText(text);\n};\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight, canCacheByTextString}\n *  Notice: for performance, do not calculate outerWidth util needed.\n *  `canCacheByTextString` means the result `lines` is only determined by the input `text`.\n *  Thus we can simply comparing the `input` text to determin whether the result changed,\n *  without travel the result `lines`.\n */\n\n\nfunction parsePlainText(text, font, padding, textLineHeight, truncate) {\n  text != null && (text += '');\n  var lineHeight = retrieve2(textLineHeight, getLineHeight(font));\n  var lines = text ? text.split('\\n') : [];\n  var height = lines.length * lineHeight;\n  var outerHeight = height;\n  var canCacheByTextString = true;\n\n  if (padding) {\n    outerHeight += padding[0] + padding[2];\n  }\n\n  if (text && truncate) {\n    canCacheByTextString = false;\n    var truncOuterHeight = truncate.outerHeight;\n    var truncOuterWidth = truncate.outerWidth;\n\n    if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n      text = '';\n      lines = [];\n    } else if (truncOuterWidth != null) {\n      var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n        minChar: truncate.minChar,\n        placeholder: truncate.placeholder\n      }); // FIXME\n      // It is not appropriate that every line has '...' when truncate multiple lines.\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        lines[i] = truncateSingleLine(lines[i], options);\n      }\n    }\n  }\n\n  return {\n    lines: lines,\n    height: height,\n    outerHeight: outerHeight,\n    lineHeight: lineHeight,\n    canCacheByTextString: canCacheByTextString\n  };\n}\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\n\n\nfunction parseRichText(text, style) {\n  var contentBlock = {\n    lines: [],\n    width: 0,\n    height: 0\n  };\n  text != null && (text += '');\n\n  if (!text) {\n    return contentBlock;\n  }\n\n  var lastIndex = STYLE_REG.lastIndex = 0;\n  var result;\n\n  while ((result = STYLE_REG.exec(text)) != null) {\n    var matchedIndex = result.index;\n\n    if (matchedIndex > lastIndex) {\n      pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n    }\n\n    pushTokens(contentBlock, result[2], result[1]);\n    lastIndex = STYLE_REG.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    pushTokens(contentBlock, text.substring(lastIndex, text.length));\n  }\n\n  var lines = contentBlock.lines;\n  var contentHeight = 0;\n  var contentWidth = 0; // For `textWidth: 100%`\n\n  var pendingList = [];\n  var stlPadding = style.textPadding;\n  var truncate = style.truncate;\n  var truncateWidth = truncate && truncate.outerWidth;\n  var truncateHeight = truncate && truncate.outerHeight;\n\n  if (stlPadding) {\n    truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n    truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n  } // Calculate layout info of tokens.\n\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var lineHeight = 0;\n    var lineWidth = 0;\n\n    for (var j = 0; j < line.tokens.length; j++) {\n      var token = line.tokens[j];\n      var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n      var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n      var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n      var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n      // as box height of the block.\n      tokenStyle.textHeight, getLineHeight(font));\n      textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n      token.height = tokenHeight;\n      token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n      token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n      token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n      if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n        return {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n      }\n\n      token.textWidth = getWidth(token.text, font);\n      var tokenWidth = tokenStyle.textWidth;\n      var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n      // line when box width is needed to be auto.\n\n      if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n        token.percentWidth = tokenWidth;\n        pendingList.push(token);\n        tokenWidth = 0; // Do not truncate in this case, because there is no user case\n        // and it is too complicated.\n      } else {\n        if (tokenWidthNotSpecified) {\n          tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n          // `getBoundingRect()` will not get correct result.\n\n          var textBackgroundColor = tokenStyle.textBackgroundColor;\n          var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n          // (1) If image is not loaded, it will be loaded at render phase and call\n          // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n          // image, and then the right size will be calculated here at the next tick.\n          // See `graphic/helper/text.js`.\n          // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n          // use `imageHelper.findExistImage` to find cached image.\n          // `imageHelper.findExistImage` will always be called here before\n          // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n          // which ensures that image will not be rendered before correct size calcualted.\n\n          if (bgImg) {\n            bgImg = imageHelper.findExistImage(bgImg);\n\n            if (imageHelper.isImageReady(bgImg)) {\n              tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n            }\n          }\n        }\n\n        var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n        tokenWidth += paddingW;\n        var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n        if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n          if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n            token.text = '';\n            token.textWidth = tokenWidth = 0;\n          } else {\n            token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n              minChar: truncate.minChar\n            });\n            token.textWidth = getWidth(token.text, font);\n            tokenWidth = token.textWidth + paddingW;\n          }\n        }\n      }\n\n      lineWidth += token.width = tokenWidth;\n      tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n    }\n\n    line.width = lineWidth;\n    line.lineHeight = lineHeight;\n    contentHeight += lineHeight;\n    contentWidth = Math.max(contentWidth, lineWidth);\n  }\n\n  contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n  contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n  if (stlPadding) {\n    contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n    contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n  }\n\n  for (var i = 0; i < pendingList.length; i++) {\n    var token = pendingList[i];\n    var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n    token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n  }\n\n  return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n  var isEmptyStr = str === '';\n  var strs = str.split('\\n');\n  var lines = block.lines;\n\n  for (var i = 0; i < strs.length; i++) {\n    var text = strs[i];\n    var token = {\n      styleName: styleName,\n      text: text,\n      isLineHolder: !text && !isEmptyStr\n    }; // The first token should be appended to the last line.\n\n    if (!i) {\n      var tokens = (lines[lines.length - 1] || (lines[0] = {\n        tokens: []\n      })).tokens; // Consider cases:\n      // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n      // (which is a placeholder) should be replaced by new token.\n      // (2) A image backage, where token likes {a|}.\n      // (3) A redundant '' will affect textAlign in line.\n      // (4) tokens with the same tplName should not be merged, because\n      // they should be displayed in different box (with border and padding).\n\n      var tokensLen = tokens.length;\n      tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n      // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n      (text || !tokensLen || isEmptyStr) && tokens.push(token);\n    } // Other tokens always start a new line.\n    else {\n        // If there is '', insert it as a placeholder.\n        lines.push({\n          tokens: [token]\n        });\n      }\n  }\n}\n\nfunction makeFont(style) {\n  // FIXME in node-canvas fontWeight is before fontStyle\n  // Use `fontSize` `fontFamily` to check whether font properties are defined.\n  var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n  style.fontFamily || 'sans-serif'].join(' ');\n  return font && trim(font) || style.textFont || style.font;\n}\n\nexports.DEFAULT_FONT = DEFAULT_FONT;\nexports.$override = $override;\nexports.getWidth = getWidth;\nexports.getBoundingRect = getBoundingRect;\nexports.adjustTextX = adjustTextX;\nexports.adjustTextY = adjustTextY;\nexports.calculateTextPosition = calculateTextPosition;\nexports.adjustTextPositionOnRect = adjustTextPositionOnRect;\nexports.truncateText = truncateText;\nexports.getLineHeight = getLineHeight;\nexports.measureText = measureText;\nexports.parsePlainText = parsePlainText;\nexports.parseRichText = parseRichText;\nexports.makeFont = makeFont;","var LRU = require(\"../../core/LRU\");\n\nvar globalImageCache = new LRU(50);\n/**\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\nfunction findExistImage(newImageOrSrc) {\n  if (typeof newImageOrSrc === 'string') {\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    return cachedImgObj && cachedImgObj.image;\n  } else {\n    return newImageOrSrc;\n  }\n}\n/**\n * Caution: User should cache loaded images, but not just count on LRU.\n * Consider if required images more than LRU size, will dead loop occur?\n *\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n * @param {Function} [cb] params: (image, cbPayload)\n * @param {Object} [cbPayload] Payload on cb calling.\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\n\nfunction createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n  if (!newImageOrSrc) {\n    return image;\n  } else if (typeof newImageOrSrc === 'string') {\n    // Image should not be loaded repeatly.\n    if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n      return image;\n    } // Only when there is no existent image or existent image src\n    // is different, this method is responsible for load.\n\n\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    var pendingWrap = {\n      hostEl: hostEl,\n      cb: cb,\n      cbPayload: cbPayload\n    };\n\n    if (cachedImgObj) {\n      image = cachedImgObj.image;\n      !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n    } else {\n      image = new Image();\n      image.onload = image.onerror = imageOnLoad;\n      globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n        image: image,\n        pending: [pendingWrap]\n      });\n      image.src = image.__zrImageSrc = newImageOrSrc;\n    }\n\n    return image;\n  } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n  else {\n      return newImageOrSrc;\n    }\n}\n\nfunction imageOnLoad() {\n  var cachedImgObj = this.__cachedImgObj;\n  this.onload = this.onerror = this.__cachedImgObj = null;\n\n  for (var i = 0; i < cachedImgObj.pending.length; i++) {\n    var pendingWrap = cachedImgObj.pending[i];\n    var cb = pendingWrap.cb;\n    cb && cb(this, pendingWrap.cbPayload);\n    pendingWrap.hostEl.dirty();\n  }\n\n  cachedImgObj.pending.length = 0;\n}\n\nfunction isImageReady(image) {\n  return image && image.width && image.height;\n}\n\nexports.findExistImage = findExistImage;\nexports.createOrUpdateImage = createOrUpdateImage;\nexports.isImageReady = isImageReady;","/**\n * Sub-pixel optimize for canvas rendering, prevent from blur\n * when rendering a thin vertical/horizontal line.\n */\nvar round = Math.round;\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} outputShape The modification will be performed on `outputShape`.\n *                 `outputShape` and `inputShape` can be the same object.\n *                 `outputShape` object can be used repeatly, because all of\n *                 the `x1`, `x2`, `y1`, `y2` will be assigned in this method.\n * @param {Object} [inputShape]\n * @param {number} [inputShape.x1]\n * @param {number} [inputShape.y1]\n * @param {number} [inputShape.x2]\n * @param {number} [inputShape.y2]\n * @param {Object} [style]\n * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n */\n\nfunction subPixelOptimizeLine(outputShape, inputShape, style) {\n  if (!inputShape) {\n    return;\n  }\n\n  var x1 = inputShape.x1;\n  var x2 = inputShape.x2;\n  var y1 = inputShape.y1;\n  var y2 = inputShape.y2;\n  outputShape.x1 = x1;\n  outputShape.x2 = x2;\n  outputShape.y1 = y1;\n  outputShape.y2 = y2;\n  var lineWidth = style && style.lineWidth;\n\n  if (!lineWidth) {\n    return;\n  }\n\n  if (round(x1 * 2) === round(x2 * 2)) {\n    outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n  }\n\n  if (round(y1 * 2) === round(y2 * 2)) {\n    outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n  }\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} outputShape The modification will be performed on `outputShape`.\n *                 `outputShape` and `inputShape` can be the same object.\n *                 `outputShape` object can be used repeatly, because all of\n *                 the `x`, `y`, `width`, `height` will be assigned in this method.\n * @param {Object} [inputShape]\n * @param {number} [inputShape.x]\n * @param {number} [inputShape.y]\n * @param {number} [inputShape.width]\n * @param {number} [inputShape.height]\n * @param {Object} [style]\n * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n */\n\n\nfunction subPixelOptimizeRect(outputShape, inputShape, style) {\n  if (!inputShape) {\n    return;\n  }\n\n  var originX = inputShape.x;\n  var originY = inputShape.y;\n  var originWidth = inputShape.width;\n  var originHeight = inputShape.height;\n  outputShape.x = originX;\n  outputShape.y = originY;\n  outputShape.width = originWidth;\n  outputShape.height = originHeight;\n  var lineWidth = style && style.lineWidth;\n\n  if (!lineWidth) {\n    return;\n  }\n\n  outputShape.x = subPixelOptimize(originX, lineWidth, true);\n  outputShape.y = subPixelOptimize(originY, lineWidth, true);\n  outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n  outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth If `null`/`undefined`/`0`, do not optimize.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nfunction subPixelOptimize(position, lineWidth, positiveOrNegative) {\n  if (!lineWidth) {\n    return position;\n  } // Assure that (position + lineWidth / 2) is near integer edge,\n  // otherwise line will be fuzzy in canvas.\n\n\n  var doubledPosition = round(position * 2);\n  return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"@ftf/zrender/lib/core/util\");\n\nvar env = require(\"@ftf/zrender/lib/core/env\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar isArray = zrUtil.isArray;\n/**\n * Make the name displayable. But we should\n * make sure it is not duplicated with user\n * specified name, so use '\\0';\n */\n\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\n\nfunction normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *          show: false,\n *          position: 'outside',\n *          fontSize: 18\n *     },\n *     emphasis: {\n *          label: { show: true }\n *     }\n * @param {Object} opt\n * @param {string} key\n * @param {Array.<string>} subOpts\n */\n\n\nfunction defaultEmphasis(opt, key, subOpts) {\n  // Caution: performance sensitive.\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\n\nvar TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n\n/**\n * The method do not ensure performance.\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retieves value from data.\n * @param {string|number|Date|Array|Object} dataItem\n * @return {number|string|Date|Array.<number|string|Date>}\n */\n\nfunction getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n * @param {string|number|Date|Array|Object} dataItem\n */\n\n\nfunction isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n/**\n * Mapping to exists for merge.\n *\n * @public\n * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n * @param {Object|Array.<Object>} newCptOptions\n * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          index of which is the same as exists.\n */\n\n\nfunction mappingToExists(exists, newCptOptions) {\n  // Mapping by the order by original option (but not order of\n  // new option) in merge mode. Because we should ensure\n  // some specified index (like xAxisIndex) is consistent with\n  // original option, which is easy to understand, espatially in\n  // media query. And in most case, merge option is used to\n  // update partial option but not be expected to change order.\n  newCptOptions = (newCptOptions || []).slice();\n  var result = zrUtil.map(exists || [], function (obj, index) {\n    return {\n      exist: obj\n    };\n  }); // Mapping by id or name if specified.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    } // id has highest priority.\n\n\n    for (var i = 0; i < result.length; i++) {\n      if (!result[i].option // Consider name: two map to one.\n      && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Consider name: two map to one.\n      // Can not match when both ids exist but different.\n      && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n  }); // Otherwise mapping by index.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    }\n\n    var i = 0;\n\n    for (; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Existing model that already has id should be able to\n      // mapped to (because after mapping performed model may\n      // be assigned with a id, whish should not affect next\n      // mapping), except those has inner id.\n      && !isIdInner(exist) // Caution:\n      // Do not overwrite id. But name can be overwritten,\n      // because axis use name as 'show label text'.\n      // 'exist' always has id and name and we dont\n      // need to check it.\n      && cptOption.id == null) {\n        result[i].option = cptOption;\n        break;\n      }\n    }\n\n    if (i >= result.length) {\n      result.push({\n        option: cptOption\n      });\n    }\n  });\n  return result;\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n *\n * @public\n * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          which order is the same as exists.\n * @return {Array.<Object>} The input.\n */\n\n\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = zrUtil.createHashMap();\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    existCpt && idMap.set(existCpt.id, item);\n  });\n  each(mapResult, function (item, index) {\n    var opt = item.option;\n    zrUtil.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  }); // Make name and id.\n\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    var opt = item.option;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    } // name can be overwitten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n\n\n    keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name // Avoid diffferent series has the same name,\n    // because name may be used like in color pallet.\n    : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n    if (existCpt) {\n      keyInfo.id = existCpt.id;\n    } else if (opt.id != null) {\n      keyInfo.id = opt.id + '';\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n\nfunction isNameSpecified(componentModel) {\n  var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\n\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\n/**\n * @public\n * @param {Object} cptOption\n * @return {boolean}\n */\n\n\nfunction isIdInner(cptOption) {\n  return isObject(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n */\n\n\nfunction compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = sourceBatch[i].seriesId;\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n */\n\n\nfunction queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return zrUtil.isArray(payload.dataIndex) ? zrUtil.map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return zrUtil.isArray(payload.name) ? zrUtil.map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * var inner = zrUitl.makeInner();\n *\n * function some1(hostObj) {\n *      inner(hostObj).someProperty = 1212;\n *      ...\n * }\n * function some2() {\n *      var fields = inner(this);\n *      fields.someProperty1 = 1212;\n *      fields.someProperty2 = 'xx';\n *      ...\n * }\n *\n * @return {Function}\n */\n\n\nfunction makeInner() {\n  // Consider different scope by es module import.\n  var key = '__\\0ec_inner_' + innerUniqueIndex++ + '_' + Math.random().toFixed(5);\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\n\nvar innerUniqueIndex = 0;\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex, seriesId, seriesName,\n *            geoIndex, geoId, geoName,\n *            bmapIndex, bmapId, bmapName,\n *            xAxisIndex, xAxisId, xAxisName,\n *            yAxisIndex, yAxisId, yAxisName,\n *            gridIndex, gridId, gridName,\n *            ... (can be extended)\n *        }\n *        Each properties can be number|string|Array.<number>|Array.<string>\n *        For example, a finder could be\n *        {\n *            seriesIndex: 3,\n *            geoId: ['aa', 'cc'],\n *            gridName: ['xx', 'rr']\n *        }\n *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n *        If nothing or null/undefined specified, return nothing.\n * @param {Object} [opt]\n * @param {string} [opt.defaultMainType]\n * @param {Array.<string>} [opt.includeMainTypes]\n * @return {Object} result like:\n *        {\n *            seriesModels: [seriesModel1, seriesModel2],\n *            seriesModel: seriesModel1, // The first model\n *            geoModels: [geoModel1, geoModel2],\n *            geoModel: geoModel1, // The first model\n *            ...\n *        }\n */\n\nfunction parseFinder(ecModel, finder, opt) {\n  if (zrUtil.isString(finder)) {\n    var obj = {};\n    obj[finder + 'Index'] = 0;\n    finder = obj;\n  }\n\n  var defaultMainType = opt && opt.defaultMainType;\n\n  if (defaultMainType && !has(finder, defaultMainType + 'Index') && !has(finder, defaultMainType + 'Id') && !has(finder, defaultMainType + 'Name')) {\n    finder[defaultMainType + 'Index'] = 0;\n  }\n\n  var result = {};\n  each(finder, function (value, key) {\n    var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      result[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && zrUtil.indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    var queryParam = {\n      mainType: mainType\n    };\n\n    if (queryType !== 'index' || value !== 'all') {\n      queryParam[queryType] = value;\n    }\n\n    var models = ecModel.queryComponents(queryParam);\n    result[mainType + 'Models'] = models;\n    result[mainType + 'Model'] = models[0];\n  });\n  return result;\n}\n\nfunction has(obj, prop) {\n  return obj && obj.hasOwnProperty(prop);\n}\n\nfunction setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\n\nfunction getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\n\nfunction getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    // Using html when `document` exists, use richText otherwise\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\n/**\n * Group a list by key.\n *\n * @param {Array} array\n * @param {Function} getKey\n *        param {*} Array item\n *        return {string} key\n * @return {Object} Result\n *        {Array}: keys,\n *        {module:zrender/core/util/HashMap} buckets: {key -> Array}\n */\n\n\nfunction groupData(array, getKey) {\n  var buckets = zrUtil.createHashMap();\n  var keys = [];\n  zrUtil.each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\n\nexports.normalizeToArray = normalizeToArray;\nexports.defaultEmphasis = defaultEmphasis;\nexports.TEXT_STYLE_OPTIONS = TEXT_STYLE_OPTIONS;\nexports.getDataItemValue = getDataItemValue;\nexports.isDataItemOption = isDataItemOption;\nexports.mappingToExists = mappingToExists;\nexports.makeIdAndName = makeIdAndName;\nexports.isNameSpecified = isNameSpecified;\nexports.isIdInner = isIdInner;\nexports.compressBatches = compressBatches;\nexports.queryDataIndex = queryDataIndex;\nexports.makeInner = makeInner;\nexports.parseFinder = parseFinder;\nexports.setAttribute = setAttribute;\nexports.getAttribute = getAttribute;\nexports.getTooltipRenderMode = getTooltipRenderMode;\nexports.groupData = groupData;","/**\n * echarts\n *\n * @desc echartsCanvasJavascript\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\n\n/* global wx */\nvar env = {};\n\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n  // In Weixin Application\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    wxa: true,\n    // Weixin Application\n    canvasSupported: true,\n    svgSupported: false,\n    touchEventsSupported: true,\n    domSupported: false\n  };\n} else if (typeof jd === 'object' && typeof jd.getSystemInfoSync === 'function') {\n  // In JingDong Application\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    jda: true,\n    // JingDong Application\n    canvasSupported: true,\n    svgSupported: false,\n    touchEventsSupported: true,\n    domSupported: false\n  };\n} else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n  // In worker\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    worker: true,\n    canvasSupported: true,\n    domSupported: false\n  };\n} else if (typeof navigator === 'undefined') {\n  // In node\n  env = {\n    browser: {},\n    os: {},\n    node: true,\n    worker: false,\n    // Assume canvas is supported\n    canvasSupported: true,\n    svgSupported: true,\n    domSupported: false\n  };\n} else {\n  env = detect(navigator.userAgent);\n}\n\nvar _default = env; // Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n  var os = {};\n  var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n  // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n  // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n  // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n  // var touchpad = webos && ua.match(/TouchPad/);\n  // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n  // var silk = ua.match(/Silk\\/([\\d._]+)/);\n  // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n  // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n  // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n  // var playbook = ua.match(/PlayBook/);\n  // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n  var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n  // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n  var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n  || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n  var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n  var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n  // - discern (more) between multiple browsers on android\n  // - decide if kindle fire in silk mode is android or not\n  // - Firefox on Android doesn't specify the Android version\n  // - possibly devide in os, device and browser hashes\n  // if (browser.webkit = !!webkit) browser.version = webkit[1];\n  // if (android) os.android = true, os.version = android[2];\n  // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n  // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n  // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n  // if (webos) os.webos = true, os.version = webos[2];\n  // if (touchpad) os.touchpad = true;\n  // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n  // if (bb10) os.bb10 = true, os.version = bb10[2];\n  // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n  // if (playbook) browser.playbook = true;\n  // if (kindle) os.kindle = true, os.version = kindle[1];\n  // if (silk) browser.silk = true, browser.version = silk[1];\n  // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n  // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n  if (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n  } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n  // if (webview) browser.webview = true;\n\n\n  if (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n  }\n\n  if (edge) {\n    browser.edge = true;\n    browser.version = edge[1];\n  } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n  // not be set on win phone. So we do not consider Win Phone.\n\n\n  if (weChat) {\n    browser.weChat = true;\n  } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n  //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n  // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n  //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n  //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n  return {\n    browser: browser,\n    os: os,\n    node: false,\n    // canvas\n    // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n    canvasSupported: !!document.createElement('canvas').getContext,\n    svgSupported: typeof SVGRect !== 'undefined',\n    // works on most browsers\n    // IE10/11 does not support touch event, and MS Edge supports them but not by\n    // default, so we dont check navigator.maxTouchPoints for them here.\n    touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n    // <http://caniuse.com/#search=pointer%20event>.\n    pointerEventsSupported: // (1) Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n    // events currently. So we dont use that on other browsers unless tested sufficiently.\n    // For example, in iOS 13 Mobile Chromium 78, if the touching behavior starts page\n    // scroll, the `pointermove` event can not be fired any more. That will break some\n    // features like \"pan horizontally to move something and pan vertically to page scroll\".\n    // The horizontal pan probably be interrupted by the casually triggered page scroll.\n    // (2) Although IE 10 supports pointer event, it use old style and is different from the\n    // standard. So we exclude that. (IE 10 is hardly used on touch device)\n    'onpointerdown' in window && (browser.edge || browser.ie && browser.version >= 11),\n    // passiveSupported: detectPassiveSupport()\n    domSupported: typeof document !== 'undefined'\n  };\n} // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n// function detectPassiveSupport() {\n//     // Test via a getter in the options object to see if the passive property is accessed\n//     var supportsPassive = false;\n//     try {\n//         var opts = Object.defineProperty({}, 'passive', {\n//             get: function() {\n//                 supportsPassive = true;\n//             }\n//         });\n//         window.addEventListener('testPassive', function() {}, opts);\n//     } catch (e) {\n//     }\n//     return supportsPassive;\n// }\n\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"@ftf/zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar isTypedArray = _util.isTypedArray;\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassCheck = _clazz.enableClassCheck;\n\nvar _sourceType = require(\"./helper/sourceType\");\n\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\nvar SERIES_LAYOUT_BY_COLUMN = _sourceType.SERIES_LAYOUT_BY_COLUMN;\nvar SOURCE_FORMAT_UNKNOWN = _sourceType.SOURCE_FORMAT_UNKNOWN;\nvar SOURCE_FORMAT_TYPED_ARRAY = _sourceType.SOURCE_FORMAT_TYPED_ARRAY;\nvar SOURCE_FORMAT_KEYED_COLUMNS = _sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [sourceFormat]\n *\n * + \"original\":\n * This format is only used in series.data, where\n * itemStyle can be specified in data item.\n *\n * + \"arrayRows\":\n * [\n *     ['product', 'score', 'amount'],\n *     ['Matcha Latte', 89.3, 95.8],\n *     ['Milk Tea', 92.1, 89.4],\n *     ['Cheese Cocoa', 94.4, 91.2],\n *     ['Walnut Brownie', 85.4, 76.9]\n * ]\n *\n * + \"objectRows\":\n * [\n *     {product: 'Matcha Latte', score: 89.3, amount: 95.8},\n *     {product: 'Milk Tea', score: 92.1, amount: 89.4},\n *     {product: 'Cheese Cocoa', score: 94.4, amount: 91.2},\n *     {product: 'Walnut Brownie', score: 85.4, amount: 76.9}\n * ]\n *\n * + \"keyedColumns\":\n * {\n *     'product': ['Matcha Latte', 'Milk Tea', 'Cheese Cocoa', 'Walnut Brownie'],\n *     'count': [823, 235, 1042, 988],\n *     'score': [95.8, 81.4, 91.2, 76.9]\n * }\n *\n * + \"typedArray\"\n *\n * + \"unknown\"\n */\n\n/**\n * @constructor\n * @param {Object} fields\n * @param {string} fields.sourceFormat\n * @param {Array|Object} fields.fromDataset\n * @param {Array|Object} [fields.data]\n * @param {string} [seriesLayoutBy='column']\n * @param {Array.<Object|string>} [dimensionsDefine]\n * @param {Objet|HashMap} [encodeDefine]\n * @param {number} [startIndex=0]\n * @param {number} [dimensionsDetectCount]\n */\nfunction Source(fields) {\n  /**\n   * @type {boolean}\n   */\n  this.fromDataset = fields.fromDataset;\n  /**\n   * Not null/undefined.\n   * @type {Array|Object}\n   */\n\n  this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []);\n  /**\n   * See also \"detectSourceFormat\".\n   * Not null/undefined.\n   * @type {string}\n   */\n\n  this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN;\n  /**\n   * 'row' or 'column'\n   * Not null/undefined.\n   * @type {string} seriesLayoutBy\n   */\n\n  this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN;\n  /**\n   * dimensions definition in option.\n   * can be null/undefined.\n   * @type {Array.<Object|string>}\n   */\n\n  this.dimensionsDefine = fields.dimensionsDefine;\n  /**\n   * encode definition in option.\n   * can be null/undefined.\n   * @type {Objet|HashMap}\n   */\n\n  this.encodeDefine = fields.encodeDefine && createHashMap(fields.encodeDefine);\n  /**\n   * Not null/undefined, uint.\n   * @type {number}\n   */\n\n  this.startIndex = fields.startIndex || 0;\n  /**\n   * Can be null/undefined (when unknown), uint.\n   * @type {number}\n   */\n\n  this.dimensionsDetectCount = fields.dimensionsDetectCount;\n}\n/**\n * Wrap original series data for some compatibility cases.\n */\n\n\nSource.seriesDataToSource = function (data) {\n  return new Source({\n    data: data,\n    sourceFormat: isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL,\n    fromDataset: false\n  });\n};\n\nenableClassCheck(Source);\nvar _default = Source;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Avoid typo.\nvar SOURCE_FORMAT_ORIGINAL = 'original';\nvar SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\nvar SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\nvar SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\nvar SOURCE_FORMAT_UNKNOWN = 'unknown'; // ??? CHANGE A NAME\n\nvar SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\nvar SERIES_LAYOUT_BY_COLUMN = 'column';\nvar SERIES_LAYOUT_BY_ROW = 'row';\nexports.SOURCE_FORMAT_ORIGINAL = SOURCE_FORMAT_ORIGINAL;\nexports.SOURCE_FORMAT_ARRAY_ROWS = SOURCE_FORMAT_ARRAY_ROWS;\nexports.SOURCE_FORMAT_OBJECT_ROWS = SOURCE_FORMAT_OBJECT_ROWS;\nexports.SOURCE_FORMAT_KEYED_COLUMNS = SOURCE_FORMAT_KEYED_COLUMNS;\nexports.SOURCE_FORMAT_UNKNOWN = SOURCE_FORMAT_UNKNOWN;\nexports.SOURCE_FORMAT_TYPED_ARRAY = SOURCE_FORMAT_TYPED_ARRAY;\nexports.SERIES_LAYOUT_BY_COLUMN = SERIES_LAYOUT_BY_COLUMN;\nexports.SERIES_LAYOUT_BY_ROW = SERIES_LAYOUT_BY_ROW;","var SHADOW_PROPS = {\n  'shadowBlur': 1,\n  'shadowOffsetX': 1,\n  'shadowOffsetY': 1,\n  'textShadowBlur': 1,\n  'textShadowOffsetX': 1,\n  'textShadowOffsetY': 1,\n  'textBoxShadowBlur': 1,\n  'textBoxShadowOffsetX': 1,\n  'textBoxShadowOffsetY': 1\n};\n\nfunction _default(ctx, propName, value) {\n  if (SHADOW_PROPS.hasOwnProperty(propName)) {\n    return value *= ctx.dpr;\n  }\n\n  return value;\n}\n\nmodule.exports = _default;","var guid = require(\"./core/guid\");\n\nvar Eventful = require(\"./mixin/Eventful\");\n\nvar Transformable = require(\"./mixin/Transformable\");\n\nvar Animatable = require(\"./mixin/Animatable\");\n\nvar zrUtil = require(\"./core/util\");\n\n/**\n * @alias module:zrender/Element\n * @constructor\n * @extends {module:zrender/mixin/Animatable}\n * @extends {module:zrender/mixin/Transformable}\n * @extends {module:zrender/mixin/Eventful}\n */\nvar Element = function (opts) {\n  // jshint ignore:line\n  Transformable.call(this, opts);\n  Eventful.call(this, opts);\n  Animatable.call(this, opts);\n  /**\n   * ID\n   * @type {string}\n   */\n\n  this.id = opts.id || guid();\n};\n\nElement.prototype = {\n  /**\n   * \n   * Element type\n   * @type {string}\n   */\n  type: 'element',\n\n  /**\n   * \n   * Element name\n   * @type {string}\n   */\n  name: '',\n\n  /**\n   * ZRender  element  zrender \n   * ZRender instance will be assigned when element is associated with zrender\n   * @name module:/zrender/Element#__zr\n   * @type {module:zrender/ZRender}\n   */\n  __zr: null,\n\n  /**\n   * true\n   * If ignore drawing and events of the element object\n   * @name module:/zrender/Element#ignore\n   * @type {boolean}\n   * @default false\n   */\n  ignore: false,\n\n  /**\n   * (shape) Group \n   * \n   * @type {module:zrender/graphic/Path}\n   * @see http://www.w3.org/TR/2dcontext/#clipping-region\n   * @readOnly\n   */\n  clipPath: null,\n\n  /**\n   *  Group\n   * @type {boolean}\n   */\n  isGroup: false,\n\n  /**\n   * Drift element\n   * @param  {number} dx dx on the global space\n   * @param  {number} dy dy on the global space\n   */\n  drift: function (dx, dy) {\n    switch (this.draggable) {\n      case 'horizontal':\n        dy = 0;\n        break;\n\n      case 'vertical':\n        dx = 0;\n        break;\n    }\n\n    var m = this.transform;\n\n    if (!m) {\n      m = this.transform = [1, 0, 0, 1, 0, 0];\n    }\n\n    m[4] += dx;\n    m[5] += dy;\n    this.decomposeTransform();\n    this.dirty(false);\n  },\n\n  /**\n   * Hook before update\n   */\n  beforeUpdate: function () {},\n\n  /**\n   * Hook after update\n   */\n  afterUpdate: function () {},\n\n  /**\n   * Update each frame\n   */\n  update: function () {\n    this.updateTransform();\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {},\n\n  /**\n   * @protected\n   */\n  attrKV: function (key, value) {\n    if (key === 'position' || key === 'scale' || key === 'origin') {\n      // Copy the array\n      if (value) {\n        var target = this[key];\n\n        if (!target) {\n          target = this[key] = [];\n        }\n\n        target[0] = value[0];\n        target[1] = value[1];\n      }\n    } else {\n      this[key] = value;\n    }\n  },\n\n  /**\n   * Hide the element\n   */\n  hide: function () {\n    this.ignore = true;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * Show the element\n   */\n  show: function () {\n    this.ignore = false;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * @param {string|Object} key\n   * @param {*} value\n   */\n  attr: function (key, value) {\n    if (typeof key === 'string') {\n      this.attrKV(key, value);\n    } else if (zrUtil.isObject(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.attrKV(name, key[name]);\n        }\n      }\n    }\n\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * @param {module:zrender/graphic/Path} clipPath\n   */\n  setClipPath: function (clipPath) {\n    var zr = this.__zr;\n\n    if (zr) {\n      clipPath.addSelfToZr(zr);\n    } // Remove previous clip path\n\n\n    if (this.clipPath && this.clipPath !== clipPath) {\n      this.removeClipPath();\n    }\n\n    this.clipPath = clipPath;\n    clipPath.__zr = zr;\n    clipPath.__clipTarget = this;\n    this.dirty(false);\n  },\n\n  /**\n   */\n  removeClipPath: function () {\n    var clipPath = this.clipPath;\n\n    if (clipPath) {\n      if (clipPath.__zr) {\n        clipPath.removeSelfFromZr(clipPath.__zr);\n      }\n\n      clipPath.__zr = null;\n      clipPath.__clipTarget = null;\n      this.clipPath = null;\n      this.dirty(false);\n    }\n  },\n\n  /**\n   * Add self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  addSelfToZr: function (zr) {\n    this.__zr = zr; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.addAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.addSelfToZr(zr);\n    }\n  },\n\n  /**\n   * Remove self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  removeSelfFromZr: function (zr) {\n    this.__zr = null; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.removeAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.removeSelfFromZr(zr);\n    }\n  }\n};\nzrUtil.mixin(Element, Animatable);\nzrUtil.mixin(Element, Transformable);\nzrUtil.mixin(Element, Eventful);\nvar _default = Element;\nmodule.exports = _default;","var matrix = require(\"../core/matrix\");\n\nvar vector = require(\"../core/vector\");\n\n/**\n * \n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function (opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * \n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * \n * , position, rotation, scaletransformtransform\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\nvar scaleTmp = [];\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // \n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // \n\n\n  this.transform = m;\n  var globalScaleRatio = this.globalScaleRatio;\n\n  if (globalScaleRatio != null && globalScaleRatio !== 1) {\n    this.getGlobalScale(scaleTmp);\n    var relX = scaleTmp[0] < 0 ? -1 : 1;\n    var relY = scaleTmp[1] < 0 ? -1 : 1;\n    var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n    var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n    m[0] *= sx;\n    m[1] *= sx;\n    m[2] *= sy;\n    m[3] *= sy;\n  }\n\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * transformcontext\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\nvar originTransform = matrix.create();\n\ntransformableProto.setLocalTransform = function (m) {\n  if (!m) {\n    // TODO return or set identity?\n    return;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * `transform``position`, `rotation`, `scale`\n */\n\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var origin = this.origin;\n\n  if (origin && (origin[0] || origin[1])) {\n    originTransform[4] = origin[0];\n    originTransform[5] = origin[1];\n    matrix.mul(tmpTransform, m, originTransform);\n    tmpTransform[4] -= origin[0];\n    tmpTransform[5] -= origin[1];\n    m = tmpTransform;\n  }\n\n  this.setLocalTransform(m);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function (out) {\n  var m = this.transform;\n  out = out || [];\n\n  if (!m) {\n    out[0] = 1;\n    out[1] = 1;\n    return out;\n  }\n\n  out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    out[0] = -out[0];\n  }\n\n  if (m[3] < 0) {\n    out[1] = -out[1];\n  }\n\n  return out;\n};\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;","var LRU = require(\"../core/LRU\");\n\nvar kCSSColorTable = {\n  'transparent': [0, 0, 0, 0],\n  'aliceblue': [240, 248, 255, 1],\n  'antiquewhite': [250, 235, 215, 1],\n  'aqua': [0, 255, 255, 1],\n  'aquamarine': [127, 255, 212, 1],\n  'azure': [240, 255, 255, 1],\n  'beige': [245, 245, 220, 1],\n  'bisque': [255, 228, 196, 1],\n  'black': [0, 0, 0, 1],\n  'blanchedalmond': [255, 235, 205, 1],\n  'blue': [0, 0, 255, 1],\n  'blueviolet': [138, 43, 226, 1],\n  'brown': [165, 42, 42, 1],\n  'burlywood': [222, 184, 135, 1],\n  'cadetblue': [95, 158, 160, 1],\n  'chartreuse': [127, 255, 0, 1],\n  'chocolate': [210, 105, 30, 1],\n  'coral': [255, 127, 80, 1],\n  'cornflowerblue': [100, 149, 237, 1],\n  'cornsilk': [255, 248, 220, 1],\n  'crimson': [220, 20, 60, 1],\n  'cyan': [0, 255, 255, 1],\n  'darkblue': [0, 0, 139, 1],\n  'darkcyan': [0, 139, 139, 1],\n  'darkgoldenrod': [184, 134, 11, 1],\n  'darkgray': [169, 169, 169, 1],\n  'darkgreen': [0, 100, 0, 1],\n  'darkgrey': [169, 169, 169, 1],\n  'darkkhaki': [189, 183, 107, 1],\n  'darkmagenta': [139, 0, 139, 1],\n  'darkolivegreen': [85, 107, 47, 1],\n  'darkorange': [255, 140, 0, 1],\n  'darkorchid': [153, 50, 204, 1],\n  'darkred': [139, 0, 0, 1],\n  'darksalmon': [233, 150, 122, 1],\n  'darkseagreen': [143, 188, 143, 1],\n  'darkslateblue': [72, 61, 139, 1],\n  'darkslategray': [47, 79, 79, 1],\n  'darkslategrey': [47, 79, 79, 1],\n  'darkturquoise': [0, 206, 209, 1],\n  'darkviolet': [148, 0, 211, 1],\n  'deeppink': [255, 20, 147, 1],\n  'deepskyblue': [0, 191, 255, 1],\n  'dimgray': [105, 105, 105, 1],\n  'dimgrey': [105, 105, 105, 1],\n  'dodgerblue': [30, 144, 255, 1],\n  'firebrick': [178, 34, 34, 1],\n  'floralwhite': [255, 250, 240, 1],\n  'forestgreen': [34, 139, 34, 1],\n  'fuchsia': [255, 0, 255, 1],\n  'gainsboro': [220, 220, 220, 1],\n  'ghostwhite': [248, 248, 255, 1],\n  'gold': [255, 215, 0, 1],\n  'goldenrod': [218, 165, 32, 1],\n  'gray': [128, 128, 128, 1],\n  'green': [0, 128, 0, 1],\n  'greenyellow': [173, 255, 47, 1],\n  'grey': [128, 128, 128, 1],\n  'honeydew': [240, 255, 240, 1],\n  'hotpink': [255, 105, 180, 1],\n  'indianred': [205, 92, 92, 1],\n  'indigo': [75, 0, 130, 1],\n  'ivory': [255, 255, 240, 1],\n  'khaki': [240, 230, 140, 1],\n  'lavender': [230, 230, 250, 1],\n  'lavenderblush': [255, 240, 245, 1],\n  'lawngreen': [124, 252, 0, 1],\n  'lemonchiffon': [255, 250, 205, 1],\n  'lightblue': [173, 216, 230, 1],\n  'lightcoral': [240, 128, 128, 1],\n  'lightcyan': [224, 255, 255, 1],\n  'lightgoldenrodyellow': [250, 250, 210, 1],\n  'lightgray': [211, 211, 211, 1],\n  'lightgreen': [144, 238, 144, 1],\n  'lightgrey': [211, 211, 211, 1],\n  'lightpink': [255, 182, 193, 1],\n  'lightsalmon': [255, 160, 122, 1],\n  'lightseagreen': [32, 178, 170, 1],\n  'lightskyblue': [135, 206, 250, 1],\n  'lightslategray': [119, 136, 153, 1],\n  'lightslategrey': [119, 136, 153, 1],\n  'lightsteelblue': [176, 196, 222, 1],\n  'lightyellow': [255, 255, 224, 1],\n  'lime': [0, 255, 0, 1],\n  'limegreen': [50, 205, 50, 1],\n  'linen': [250, 240, 230, 1],\n  'magenta': [255, 0, 255, 1],\n  'maroon': [128, 0, 0, 1],\n  'mediumaquamarine': [102, 205, 170, 1],\n  'mediumblue': [0, 0, 205, 1],\n  'mediumorchid': [186, 85, 211, 1],\n  'mediumpurple': [147, 112, 219, 1],\n  'mediumseagreen': [60, 179, 113, 1],\n  'mediumslateblue': [123, 104, 238, 1],\n  'mediumspringgreen': [0, 250, 154, 1],\n  'mediumturquoise': [72, 209, 204, 1],\n  'mediumvioletred': [199, 21, 133, 1],\n  'midnightblue': [25, 25, 112, 1],\n  'mintcream': [245, 255, 250, 1],\n  'mistyrose': [255, 228, 225, 1],\n  'moccasin': [255, 228, 181, 1],\n  'navajowhite': [255, 222, 173, 1],\n  'navy': [0, 0, 128, 1],\n  'oldlace': [253, 245, 230, 1],\n  'olive': [128, 128, 0, 1],\n  'olivedrab': [107, 142, 35, 1],\n  'orange': [255, 165, 0, 1],\n  'orangered': [255, 69, 0, 1],\n  'orchid': [218, 112, 214, 1],\n  'palegoldenrod': [238, 232, 170, 1],\n  'palegreen': [152, 251, 152, 1],\n  'paleturquoise': [175, 238, 238, 1],\n  'palevioletred': [219, 112, 147, 1],\n  'papayawhip': [255, 239, 213, 1],\n  'peachpuff': [255, 218, 185, 1],\n  'peru': [205, 133, 63, 1],\n  'pink': [255, 192, 203, 1],\n  'plum': [221, 160, 221, 1],\n  'powderblue': [176, 224, 230, 1],\n  'purple': [128, 0, 128, 1],\n  'red': [255, 0, 0, 1],\n  'rosybrown': [188, 143, 143, 1],\n  'royalblue': [65, 105, 225, 1],\n  'saddlebrown': [139, 69, 19, 1],\n  'salmon': [250, 128, 114, 1],\n  'sandybrown': [244, 164, 96, 1],\n  'seagreen': [46, 139, 87, 1],\n  'seashell': [255, 245, 238, 1],\n  'sienna': [160, 82, 45, 1],\n  'silver': [192, 192, 192, 1],\n  'skyblue': [135, 206, 235, 1],\n  'slateblue': [106, 90, 205, 1],\n  'slategray': [112, 128, 144, 1],\n  'slategrey': [112, 128, 144, 1],\n  'snow': [255, 250, 250, 1],\n  'springgreen': [0, 255, 127, 1],\n  'steelblue': [70, 130, 180, 1],\n  'tan': [210, 180, 140, 1],\n  'teal': [0, 128, 128, 1],\n  'thistle': [216, 191, 216, 1],\n  'tomato': [255, 99, 71, 1],\n  'turquoise': [64, 224, 208, 1],\n  'violet': [238, 130, 238, 1],\n  'wheat': [245, 222, 179, 1],\n  'white': [255, 255, 255, 1],\n  'whitesmoke': [245, 245, 245, 1],\n  'yellow': [255, 255, 0, 1],\n  'yellowgreen': [154, 205, 50, 1]\n};\n\nfunction clampCssByte(i) {\n  // Clamp to integer 0 .. 255.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampCssAngle(i) {\n  // Clamp to integer 0 .. 360.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 360 ? 360 : i;\n}\n\nfunction clampCssFloat(f) {\n  // Clamp to float 0.0 .. 1.0.\n  return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parseCssInt(str) {\n  // int or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssByte(parseFloat(str) / 100 * 255);\n  }\n\n  return clampCssByte(parseInt(str, 10));\n}\n\nfunction parseCssFloat(str) {\n  // float or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssFloat(parseFloat(str) / 100);\n  }\n\n  return clampCssFloat(parseFloat(str));\n}\n\nfunction cssHueToRgb(m1, m2, h) {\n  if (h < 0) {\n    h += 1;\n  } else if (h > 1) {\n    h -= 1;\n  }\n\n  if (h * 6 < 1) {\n    return m1 + (m2 - m1) * h * 6;\n  }\n\n  if (h * 2 < 1) {\n    return m2;\n  }\n\n  if (h * 3 < 2) {\n    return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n  }\n\n  return m1;\n}\n\nfunction lerpNumber(a, b, p) {\n  return a + (b - a) * p;\n}\n\nfunction setRgba(out, r, g, b, a) {\n  out[0] = r;\n  out[1] = g;\n  out[2] = b;\n  out[3] = a;\n  return out;\n}\n\nfunction copyRgba(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\n\nfunction putToCache(colorStr, rgbaArr) {\n  // Reuse removed array\n  if (lastRemovedArr) {\n    copyRgba(lastRemovedArr, rgbaArr);\n  }\n\n  lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n}\n/**\n * @param {string} colorStr\n * @param {Array.<number>} out\n * @return {Array.<number>}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction parse(colorStr, rgbaArr) {\n  if (!colorStr) {\n    return;\n  }\n\n  rgbaArr = rgbaArr || [];\n  var cached = colorCache.get(colorStr);\n\n  if (cached) {\n    return copyRgba(rgbaArr, cached);\n  } // colorStr may be not string\n\n\n  colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n  var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n  if (str in kCSSColorTable) {\n    copyRgba(rgbaArr, kCSSColorTable[str]);\n    putToCache(colorStr, rgbaArr);\n    return rgbaArr;\n  } // #abc and #abc123 syntax.\n\n\n  if (str.charAt(0) === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xfff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xffffff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    }\n\n    return;\n  }\n\n  var op = str.indexOf('(');\n  var ep = str.indexOf(')');\n\n  if (op !== -1 && ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op + 1, ep - (op + 1)).split(',');\n    var alpha = 1; // To allow case fallthrough.\n\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        alpha = parseCssFloat(params.pop());\n      // jshint ignore:line\n      // Fall through.\n\n      case 'rgb':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsla':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        params[3] = parseCssFloat(params[3]);\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsl':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      default:\n        return;\n    }\n  }\n\n  setRgba(rgbaArr, 0, 0, 0, 1);\n  return;\n}\n/**\n * @param {Array.<number>} hsla\n * @param {Array.<number>} rgba\n * @return {Array.<number>} rgba\n */\n\n\nfunction hsla2rgba(hsla, rgba) {\n  var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n  // NOTE(deanm): According to the CSS spec s/l should only be\n  // percentages, but we don't bother and let float or percentage.\n\n  var s = parseCssFloat(hsla[1]);\n  var l = parseCssFloat(hsla[2]);\n  var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n  var m1 = l * 2 - m2;\n  rgba = rgba || [];\n  setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n  if (hsla.length === 4) {\n    rgba[3] = hsla[3];\n  }\n\n  return rgba;\n}\n/**\n * @param {Array.<number>} rgba\n * @return {Array.<number>} hsla\n */\n\n\nfunction rgba2hsla(rgba) {\n  if (!rgba) {\n    return;\n  } // RGB from 0 to 255\n\n\n  var R = rgba[0] / 255;\n  var G = rgba[1] / 255;\n  var B = rgba[2] / 255;\n  var vMin = Math.min(R, G, B); // Min. value of RGB\n\n  var vMax = Math.max(R, G, B); // Max. value of RGB\n\n  var delta = vMax - vMin; // Delta RGB value\n\n  var L = (vMax + vMin) / 2;\n  var H;\n  var S; // HSL results from 0 to 1\n\n  if (delta === 0) {\n    H = 0;\n    S = 0;\n  } else {\n    if (L < 0.5) {\n      S = delta / (vMax + vMin);\n    } else {\n      S = delta / (2 - vMax - vMin);\n    }\n\n    var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n    var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n    var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n    if (R === vMax) {\n      H = deltaB - deltaG;\n    } else if (G === vMax) {\n      H = 1 / 3 + deltaR - deltaB;\n    } else if (B === vMax) {\n      H = 2 / 3 + deltaG - deltaR;\n    }\n\n    if (H < 0) {\n      H += 1;\n    }\n\n    if (H > 1) {\n      H -= 1;\n    }\n  }\n\n  var hsla = [H * 360, S, L];\n\n  if (rgba[3] != null) {\n    hsla.push(rgba[3]);\n  }\n\n  return hsla;\n}\n/**\n * @param {string} color\n * @param {number} level\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction lift(color, level) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    for (var i = 0; i < 3; i++) {\n      if (level < 0) {\n        colorArr[i] = colorArr[i] * (1 - level) | 0;\n      } else {\n        colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n      }\n\n      if (colorArr[i] > 255) {\n        colorArr[i] = 255;\n      } else if (color[i] < 0) {\n        colorArr[i] = 0;\n      }\n    }\n\n    return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n  }\n}\n/**\n * @param {string} color\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction toHex(color) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n  }\n}\n/**\n * Map value to color. Faster than lerp methods because color is represented by rgba array.\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<Array.<number>>} colors List of rgba color array\n * @param {Array.<number>} [out] Mapped gba color array\n * @return {Array.<number>} will be null/undefined if input illegal.\n */\n\n\nfunction fastLerp(normalizedValue, colors, out) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  out = out || [];\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = colors[leftIndex];\n  var rightColor = colors[rightIndex];\n  var dv = value - leftIndex;\n  out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n  out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n  out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n  out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n  return out;\n}\n/**\n * @deprecated\n */\n\n\nvar fastMapToColor = fastLerp;\n/**\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<string>} colors Color list.\n * @param {boolean=} fullOutput Default false.\n * @return {(string|Object)} Result color. If fullOutput,\n *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n * @memberOf module:zrender/util/color\n */\n\nfunction lerp(normalizedValue, colors, fullOutput) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = parse(colors[leftIndex]);\n  var rightColor = parse(colors[rightIndex]);\n  var dv = value - leftIndex;\n  var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n  return fullOutput ? {\n    color: color,\n    leftIndex: leftIndex,\n    rightIndex: rightIndex,\n    value: value\n  } : color;\n}\n/**\n * @deprecated\n */\n\n\nvar mapToColor = lerp;\n/**\n * @param {string} color\n * @param {number=} h 0 ~ 360, ignore when null.\n * @param {number=} s 0 ~ 1, ignore when null.\n * @param {number=} l 0 ~ 1, ignore when null.\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\nfunction modifyHSL(color, h, s, l) {\n  color = parse(color);\n\n  if (color) {\n    color = rgba2hsla(color);\n    h != null && (color[0] = clampCssAngle(h));\n    s != null && (color[1] = parseCssFloat(s));\n    l != null && (color[2] = parseCssFloat(l));\n    return stringify(hsla2rgba(color), 'rgba');\n  }\n}\n/**\n * @param {string} color\n * @param {number=} alpha 0 ~ 1\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\n\nfunction modifyAlpha(color, alpha) {\n  color = parse(color);\n\n  if (color && alpha != null) {\n    color[3] = clampCssFloat(alpha);\n    return stringify(color, 'rgba');\n  }\n}\n/**\n * @param {Array.<number>} arrColor like [12,33,44,0.4]\n * @param {string} type 'rgba', 'hsva', ...\n * @return {string} Result color. (If input illegal, return undefined).\n */\n\n\nfunction stringify(arrColor, type) {\n  if (!arrColor || !arrColor.length) {\n    return;\n  }\n\n  var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n  if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n    colorStr += ',' + arrColor[3];\n  }\n\n  return type + '(' + colorStr + ')';\n}\n\nexports.parse = parse;\nexports.lift = lift;\nexports.toHex = toHex;\nexports.fastLerp = fastLerp;\nexports.fastMapToColor = fastMapToColor;\nexports.lerp = lerp;\nexports.mapToColor = mapToColor;\nexports.modifyHSL = modifyHSL;\nexports.modifyAlpha = modifyAlpha;\nexports.stringify = stringify;","// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function () {\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n  this.head = null;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.tail = null;\n  this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\n\nlinkedListProto.insert = function (val) {\n  var entry = new Entry(val);\n  this.insertEntry(entry);\n  return entry;\n};\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.insertEntry = function (entry) {\n  if (!this.head) {\n    this.head = this.tail = entry;\n  } else {\n    this.tail.next = entry;\n    entry.prev = this.tail;\n    entry.next = null;\n    this.tail = entry;\n  }\n\n  this._len++;\n};\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.remove = function (entry) {\n  var prev = entry.prev;\n  var next = entry.next;\n\n  if (prev) {\n    prev.next = next;\n  } else {\n    // Is head\n    this.head = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  } else {\n    // Is tail\n    this.tail = prev;\n  }\n\n  entry.next = entry.prev = null;\n  this._len--;\n};\n/**\n * @return {number}\n */\n\n\nlinkedListProto.len = function () {\n  return this._len;\n};\n/**\n * Clear list\n */\n\n\nlinkedListProto.clear = function () {\n  this.head = this.tail = null;\n  this._len = 0;\n};\n/**\n * @constructor\n * @param {} val\n */\n\n\nvar Entry = function (val) {\n  /**\n   * @type {}\n   */\n  this.value = val;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.next;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.prev;\n};\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\n\n\nvar LRU = function (maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n  this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\n\nLRUProto.put = function (key, value) {\n  var list = this._list;\n  var map = this._map;\n  var removed = null;\n\n  if (map[key] == null) {\n    var len = list.len(); // Reuse last removed entry\n\n    var entry = this._lastRemovedEntry;\n\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = list.head;\n      list.remove(leastUsedEntry);\n      delete map[leastUsedEntry.key];\n      removed = leastUsedEntry.value;\n      this._lastRemovedEntry = leastUsedEntry;\n    }\n\n    if (entry) {\n      entry.value = value;\n    } else {\n      entry = new Entry(value);\n    }\n\n    entry.key = key;\n    list.insertEntry(entry);\n    map[key] = entry;\n  }\n\n  return removed;\n};\n/**\n * @param  {string} key\n * @return {}\n */\n\n\nLRUProto.get = function (key) {\n  var entry = this._map[key];\n  var list = this._list;\n\n  if (entry != null) {\n    // Put the latest used entry in the tail\n    if (entry !== list.tail) {\n      list.remove(entry);\n      list.insertEntry(entry);\n    }\n\n    return entry.value;\n  }\n};\n/**\n * Clear the cache\n */\n\n\nLRUProto.clear = function () {\n  this._list.clear();\n\n  this._map = {};\n};\n\nvar _default = LRU;\nmodule.exports = _default;","var dpr = 1; // If in browser environment\n\nif (typeof window !== 'undefined') {\n  dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n/**\n * config\n * @exports zrender/config\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\n\n/**\n * Debug log mode:\n * 0: Do nothing, for release.\n * 1: console.error, for debug.\n */\n\n\nvar debugMode = 0; // retina \n\nvar devicePixelRatio = dpr;\nexports.debugMode = debugMode;\nexports.devicePixelRatio = devicePixelRatio;","var _util = require(\"../../core/util\");\n\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar each = _util.each;\nvar normalizeCssArray = _util.normalizeCssArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\n\nvar textContain = require(\"../../contain/text\");\n\nvar roundRectHelper = require(\"./roundRect\");\n\nvar imageHelper = require(\"./image\");\n\nvar fixShadow = require(\"./fixShadow\");\n\nvar _constant = require(\"../constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\nvar DEFAULT_FONT = textContain.DEFAULT_FONT; // TODO: Have not support 'start', 'end' yet.\n\nvar VALID_TEXT_ALIGN = {\n  left: 1,\n  right: 1,\n  center: 1\n};\nvar VALID_TEXT_VERTICAL_ALIGN = {\n  top: 1,\n  bottom: 1,\n  middle: 1\n}; // Different from `STYLE_COMMON_PROPS` of `graphic/Style`,\n// the default value of shadowColor is `'transparent'`.\n\nvar SHADOW_STYLE_COMMON_PROPS = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']];\nvar _tmpTextPositionResult = {};\nvar _tmpBoxPositionResult = {};\n/**\n * @param {module:zrender/graphic/Style} style\n * @return {module:zrender/graphic/Style} The input style.\n */\n\nfunction normalizeTextStyle(style) {\n  normalizeStyle(style);\n  each(style.rich, normalizeStyle);\n  return style;\n}\n\nfunction normalizeStyle(style) {\n  if (style) {\n    style.font = textContain.makeFont(style);\n    var textAlign = style.textAlign;\n    textAlign === 'middle' && (textAlign = 'center');\n    style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n    var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n    textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n    style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n    var textPadding = style.textPadding;\n\n    if (textPadding) {\n      style.textPadding = normalizeCssArray(style.textPadding);\n    }\n  }\n}\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {string} text\n * @param {module:zrender/graphic/Style} style\n * @param {Object|boolean} [rect] {x, y, width, height}\n *                  If set false, rect text is not used.\n * @param {Element|module:zrender/graphic/helper/constant.WILL_BE_RESTORED} [prevEl] For ctx prop cache.\n */\n\n\nfunction renderText(hostEl, ctx, text, style, rect, prevEl) {\n  style.rich ? renderRichText(hostEl, ctx, text, style, rect, prevEl) : renderPlainText(hostEl, ctx, text, style, rect, prevEl);\n} // Avoid setting to ctx according to prevEl if possible for\n// performance in scenarios of large amount text.\n\n\nfunction renderPlainText(hostEl, ctx, text, style, rect, prevEl) {\n  'use strict';\n\n  var needDrawBg = needDrawBackground(style);\n  var prevStyle;\n  var checkCache = false;\n  var cachedByMe = ctx.__attrCachedBy === ContextCachedBy.PLAIN_TEXT; // Only take and check cache for `Text` el, but not RectText.\n\n  if (prevEl !== WILL_BE_RESTORED) {\n    if (prevEl) {\n      prevStyle = prevEl.style;\n      checkCache = !needDrawBg && cachedByMe && prevStyle;\n    } // Prevent from using cache in `Style::bind`, because of the case:\n    // ctx property is modified by other properties than `Style::bind`\n    // used, and Style::bind is called next.\n\n\n    ctx.__attrCachedBy = needDrawBg ? ContextCachedBy.NONE : ContextCachedBy.PLAIN_TEXT;\n  } // Since this will be restored, prevent from using these props to check cache in the next\n  // entering of this method. But do not need to clear other cache like `Style::bind`.\n  else if (cachedByMe) {\n      ctx.__attrCachedBy = ContextCachedBy.NONE;\n    }\n\n  var styleFont = style.font || DEFAULT_FONT; // PENDING\n  // Only `Text` el set `font` and keep it (`RectText` will restore). So theoretically\n  // we can make font cache on ctx, which can cache for text el that are discontinuous.\n  // But layer save/restore needed to be considered.\n  // if (styleFont !== ctx.__fontCache) {\n  //     ctx.font = styleFont;\n  //     if (prevEl !== WILL_BE_RESTORED) {\n  //         ctx.__fontCache = styleFont;\n  //     }\n  // }\n\n  if (!checkCache || styleFont !== (prevStyle.font || DEFAULT_FONT)) {\n    ctx.font = styleFont;\n  } // Use the final font from context-2d, because the final\n  // font might not be the style.font when it is illegal.\n  // But get `ctx.font` might be time consuming.\n\n\n  var computedFont = hostEl.__computedFont;\n\n  if (hostEl.__styleFont !== styleFont) {\n    hostEl.__styleFont = styleFont;\n    computedFont = hostEl.__computedFont = ctx.font;\n  }\n\n  var textPadding = style.textPadding;\n  var textLineHeight = style.textLineHeight;\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirtyText) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parsePlainText(text, computedFont, textPadding, textLineHeight, style.truncate);\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var textLines = contentBlock.lines;\n  var lineHeight = contentBlock.lineHeight;\n  var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign || 'left';\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var textX = baseX;\n  var textY = boxY;\n\n  if (needDrawBg || textPadding) {\n    // Consider performance, do not call getTextWidth util necessary.\n    var textWidth = textContain.getWidth(text, computedFont);\n    var outerWidth = textWidth;\n    textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n    var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n    needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    if (textPadding) {\n      textX = getTextXForPadding(baseX, textAlign, textPadding);\n      textY += textPadding[0];\n    }\n  } // Always set textAlign and textBase line, because it is difficute to calculate\n  // textAlign from prevEl, and we dont sure whether textAlign will be reset if\n  // font set happened.\n\n\n  ctx.textAlign = textAlign; // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  ctx.textBaseline = 'middle'; // Set text opacity\n\n  ctx.globalAlpha = style.opacity || 1; // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n  for (var i = 0; i < SHADOW_STYLE_COMMON_PROPS.length; i++) {\n    var propItem = SHADOW_STYLE_COMMON_PROPS[i];\n    var styleProp = propItem[0];\n    var ctxProp = propItem[1];\n    var val = style[styleProp];\n\n    if (!checkCache || val !== prevStyle[styleProp]) {\n      ctx[ctxProp] = fixShadow(ctx, ctxProp, val || propItem[2]);\n    }\n  } // `textBaseline` is set as 'middle'.\n\n\n  textY += lineHeight / 2;\n  var textStrokeWidth = style.textStrokeWidth;\n  var textStrokeWidthPrev = checkCache ? prevStyle.textStrokeWidth : null;\n  var strokeWidthChanged = !checkCache || textStrokeWidth !== textStrokeWidthPrev;\n  var strokeChanged = !checkCache || strokeWidthChanged || style.textStroke !== prevStyle.textStroke;\n  var textStroke = getStroke(style.textStroke, textStrokeWidth);\n  var textFill = getFill(style.textFill);\n\n  if (textStroke) {\n    if (strokeWidthChanged) {\n      ctx.lineWidth = textStrokeWidth;\n    }\n\n    if (strokeChanged) {\n      ctx.strokeStyle = textStroke;\n    }\n  }\n\n  if (textFill) {\n    if (!checkCache || style.textFill !== prevStyle.textFill) {\n      ctx.fillStyle = textFill;\n    }\n  } // Optimize simply, in most cases only one line exists.\n\n\n  if (textLines.length === 1) {\n    // Fill after stroke so the outline will not cover the main part.\n    textStroke && ctx.strokeText(textLines[0], textX, textY);\n    textFill && ctx.fillText(textLines[0], textX, textY);\n  } else {\n    for (var i = 0; i < textLines.length; i++) {\n      // Fill after stroke so the outline will not cover the main part.\n      textStroke && ctx.strokeText(textLines[i], textX, textY);\n      textFill && ctx.fillText(textLines[i], textX, textY);\n      textY += lineHeight;\n    }\n  }\n}\n\nfunction renderRichText(hostEl, ctx, text, style, rect, prevEl) {\n  // Do not do cache for rich text because of the complexity.\n  // But `RectText` this will be restored, do not need to clear other cache like `Style::bind`.\n  if (prevEl !== WILL_BE_RESTORED) {\n    ctx.__attrCachedBy = ContextCachedBy.NONE;\n  }\n\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirtyText) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parseRichText(text, style);\n  }\n\n  drawRichText(hostEl, ctx, contentBlock, style, rect);\n}\n\nfunction drawRichText(hostEl, ctx, contentBlock, style, rect) {\n  var contentWidth = contentBlock.width;\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var textPadding = style.textPadding;\n  var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var xLeft = boxX;\n  var lineTop = boxY;\n\n  if (textPadding) {\n    xLeft += textPadding[3];\n    lineTop += textPadding[0];\n  }\n\n  var xRight = xLeft + contentWidth;\n  needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n  for (var i = 0; i < contentBlock.lines.length; i++) {\n    var line = contentBlock.lines[i];\n    var tokens = line.tokens;\n    var tokenCount = tokens.length;\n    var lineHeight = line.lineHeight;\n    var usedWidth = line.width;\n    var leftIndex = 0;\n    var lineXLeft = xLeft;\n    var lineXRight = xRight;\n    var rightIndex = tokenCount - 1;\n    var token;\n\n    while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n      usedWidth -= token.width;\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n      usedWidth -= token.width;\n      lineXRight -= token.width;\n      rightIndex--;\n    } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n    lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n    while (leftIndex <= rightIndex) {\n      token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    lineTop += lineHeight;\n  }\n}\n\nfunction applyTextRotation(ctx, style, rect, x, y) {\n  // textRotation only apply in RectText.\n  if (rect && style.textRotation) {\n    var origin = style.textOrigin;\n\n    if (origin === 'center') {\n      x = rect.width / 2 + rect.x;\n      y = rect.height / 2 + rect.y;\n    } else if (origin) {\n      x = origin[0] + rect.x;\n      y = origin[1] + rect.y;\n    }\n\n    ctx.translate(x, y); // Positive: anticlockwise\n\n    ctx.rotate(-style.textRotation);\n    ctx.translate(-x, -y);\n  }\n}\n\nfunction placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n  var tokenStyle = style.rich[token.styleName] || {};\n  tokenStyle.text = token.text; // 'ctx.textBaseline' is always set as 'middle', for sake of\n  // the bias of \"Microsoft YaHei\".\n\n  var textVerticalAlign = token.textVerticalAlign;\n  var y = lineTop + lineHeight / 2;\n\n  if (textVerticalAlign === 'top') {\n    y = lineTop + token.height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y = lineTop + lineHeight - token.height / 2;\n  }\n\n  !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n  var textPadding = token.textPadding;\n\n  if (textPadding) {\n    x = getTextXForPadding(x, textAlign, textPadding);\n    y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n  }\n\n  setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n  setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n  setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n  setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle');\n  setCtx(ctx, 'font', token.font || DEFAULT_FONT);\n  var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n  var textFill = getFill(tokenStyle.textFill || style.textFill);\n  var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n    ctx.strokeText(token.text, x, y);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n    ctx.fillText(token.text, x, y);\n  }\n}\n\nfunction needDrawBackground(style) {\n  return !!(style.textBackgroundColor || style.textBorderWidth && style.textBorderColor);\n} // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius, text}\n// shape: {x, y, width, height}\n\n\nfunction drawBackground(hostEl, ctx, style, x, y, width, height) {\n  var textBackgroundColor = style.textBackgroundColor;\n  var textBorderWidth = style.textBorderWidth;\n  var textBorderColor = style.textBorderColor;\n  var isPlainBg = isString(textBackgroundColor);\n  setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n  if (isPlainBg || textBorderWidth && textBorderColor) {\n    ctx.beginPath();\n    var textBorderRadius = style.textBorderRadius;\n\n    if (!textBorderRadius) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        r: textBorderRadius\n      });\n    }\n\n    ctx.closePath();\n  }\n\n  if (isPlainBg) {\n    setCtx(ctx, 'fillStyle', textBackgroundColor);\n\n    if (style.fillOpacity != null) {\n      var originalGlobalAlpha = ctx.globalAlpha;\n      ctx.globalAlpha = style.fillOpacity * style.opacity;\n      ctx.fill();\n      ctx.globalAlpha = originalGlobalAlpha;\n    } else {\n      ctx.fill();\n    }\n  } else if (isObject(textBackgroundColor)) {\n    var image = textBackgroundColor.image;\n    image = imageHelper.createOrUpdateImage(image, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n    if (image && imageHelper.isImageReady(image)) {\n      ctx.drawImage(image, x, y, width, height);\n    }\n  }\n\n  if (textBorderWidth && textBorderColor) {\n    setCtx(ctx, 'lineWidth', textBorderWidth);\n    setCtx(ctx, 'strokeStyle', textBorderColor);\n\n    if (style.strokeOpacity != null) {\n      var originalGlobalAlpha = ctx.globalAlpha;\n      ctx.globalAlpha = style.strokeOpacity * style.opacity;\n      ctx.stroke();\n      ctx.globalAlpha = originalGlobalAlpha;\n    } else {\n      ctx.stroke();\n    }\n  }\n}\n\nfunction onBgImageLoaded(image, textBackgroundColor) {\n  // Replace image, so that `contain/text.js#parseRichText`\n  // will get correct result in next tick.\n  textBackgroundColor.image = image;\n}\n\nfunction getBoxPosition(out, hostEl, style, rect) {\n  var baseX = style.x || 0;\n  var baseY = style.y || 0;\n  var textAlign = style.textAlign;\n  var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n  if (rect) {\n    var textPosition = style.textPosition;\n\n    if (textPosition instanceof Array) {\n      // Percent\n      baseX = rect.x + parsePercent(textPosition[0], rect.width);\n      baseY = rect.y + parsePercent(textPosition[1], rect.height);\n    } else {\n      var res = hostEl && hostEl.calculateTextPosition ? hostEl.calculateTextPosition(_tmpTextPositionResult, style, rect) : textContain.calculateTextPosition(_tmpTextPositionResult, style, rect);\n      baseX = res.x;\n      baseY = res.y; // Default align and baseline when has textPosition\n\n      textAlign = textAlign || res.textAlign;\n      textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n    } // textOffset is only support in RectText, otherwise\n    // we have to adjust boundingRect for textOffset.\n\n\n    var textOffset = style.textOffset;\n\n    if (textOffset) {\n      baseX += textOffset[0];\n      baseY += textOffset[1];\n    }\n  }\n\n  out = out || {};\n  out.baseX = baseX;\n  out.baseY = baseY;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n\nfunction setCtx(ctx, prop, value) {\n  ctx[prop] = fixShadow(ctx, prop, value);\n  return ctx[prop];\n}\n/**\n * @param {string} [stroke] If specified, do not check style.textStroke.\n * @param {string} [lineWidth] If specified, do not check style.textStroke.\n * @param {number} style\n */\n\n\nfunction getStroke(stroke, lineWidth) {\n  return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n  : stroke.image || stroke.colorStops ? '#000' : stroke;\n}\n\nfunction getFill(fill) {\n  return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n  : fill.image || fill.colorStops ? '#000' : fill;\n}\n\nfunction parsePercent(value, maxValue) {\n  if (typeof value === 'string') {\n    if (value.lastIndexOf('%') >= 0) {\n      return parseFloat(value) / 100 * maxValue;\n    }\n\n    return parseFloat(value);\n  }\n\n  return value;\n}\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n  return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n}\n/**\n * @param {string} text\n * @param {module:zrender/Style} style\n * @return {boolean}\n */\n\n\nfunction needDrawText(text, style) {\n  return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n}\n\nexports.normalizeTextStyle = normalizeTextStyle;\nexports.renderText = renderText;\nexports.getBoxPosition = getBoxPosition;\nexports.getStroke = getStroke;\nexports.getFill = getFill;\nexports.parsePercent = parsePercent;\nexports.needDrawText = needDrawText;","/**\n * @param {Object} ctx\n * @param {Object} shape\n * @param {number} shape.x\n * @param {number} shape.y\n * @param {number} shape.width\n * @param {number} shape.height\n * @param {number} shape.r\n */\nfunction buildPath(ctx, shape) {\n  var x = shape.x;\n  var y = shape.y;\n  var width = shape.width;\n  var height = shape.height;\n  var r = shape.r;\n  var r1;\n  var r2;\n  var r3;\n  var r4; // Convert width and height to positive for better borderRadius\n\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n\n  if (typeof r === 'number') {\n    r1 = r2 = r3 = r4 = r;\n  } else if (r instanceof Array) {\n    if (r.length === 1) {\n      r1 = r2 = r3 = r4 = r[0];\n    } else if (r.length === 2) {\n      r1 = r3 = r[0];\n      r2 = r4 = r[1];\n    } else if (r.length === 3) {\n      r1 = r[0];\n      r2 = r4 = r[1];\n      r3 = r[2];\n    } else {\n      r1 = r[0];\n      r2 = r[1];\n      r3 = r[2];\n      r4 = r[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = 0;\n  }\n\n  var total;\n\n  if (r1 + r2 > width) {\n    total = r1 + r2;\n    r1 *= width / total;\n    r2 *= width / total;\n  }\n\n  if (r3 + r4 > width) {\n    total = r3 + r4;\n    r3 *= width / total;\n    r4 *= width / total;\n  }\n\n  if (r2 + r3 > height) {\n    total = r2 + r3;\n    r2 *= height / total;\n    r3 *= height / total;\n  }\n\n  if (r1 + r4 > height) {\n    total = r1 + r4;\n    r1 *= height / total;\n    r4 *= height / total;\n  }\n\n  ctx.moveTo(x + r1, y);\n  ctx.lineTo(x + width - r2, y);\n  r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n  ctx.lineTo(x + width, y + height - r3);\n  r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n  ctx.lineTo(x + r4, y + height);\n  r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n  ctx.lineTo(x, y + r1);\n  r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n\nexports.buildPath = buildPath;","var PI2 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n  angle %= PI2;\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle;\n}\n\nexports.normalizeRadian = normalizeRadian;","var smoothSpline = require(\"./smoothSpline\");\n\nvar smoothBezier = require(\"./smoothBezier\");\n\nfunction buildPath(ctx, shape, closePath) {\n  var points = shape.points;\n  var smooth = shape.smooth;\n\n  if (points && points.length >= 2) {\n    if (smooth && smooth !== 'spline') {\n      var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n      ctx.moveTo(points[0][0], points[0][1]);\n      var len = points.length;\n\n      for (var i = 0; i < (closePath ? len : len - 1); i++) {\n        var cp1 = controlPoints[i * 2];\n        var cp2 = controlPoints[i * 2 + 1];\n        var p = points[(i + 1) % len];\n        ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n      }\n    } else {\n      if (smooth === 'spline') {\n        points = smoothSpline(points, closePath);\n      }\n\n      ctx.moveTo(points[0][0], points[0][1]);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n        ctx.lineTo(points[i][0], points[i][1]);\n      }\n    }\n\n    closePath && ctx.closePath();\n  }\n}\n\nexports.buildPath = buildPath;","/**\n * @param {Array.<Object>} colorStops\n */\nvar Gradient = function (colorStops) {\n  this.colorStops = colorStops || [];\n};\n\nGradient.prototype = {\n  constructor: Gradient,\n  addColorStop: function (offset, color) {\n    this.colorStops.push({\n      offset: offset,\n      color: color\n    });\n  }\n};\nvar _default = Gradient;\nmodule.exports = _default;","module.exports = require('./src/liquidFill');\n","var echarts = require('echarts/lib/echarts');\n\nrequire('./liquidFillSeries');\nrequire('./liquidFillView');\n\n\necharts.registerVisual(\n    echarts.util.curry(\n        require('@ftf/echarts/lib/visual/dataColor'), 'liquidFill'\n    )\n);\n","var completeDimensions = require('@ftf/echarts/lib/data/helper/completeDimensions');\nvar echarts = require('echarts/lib/echarts');\n\necharts.extendSeriesModel({\n\n    type: 'series.liquidFill',\n\n    visualColorAccessPath: 'textStyle.normal.color',\n\n    optionUpdated: function () {\n        var option = this.option;\n        option.gridSize = Math.max(Math.floor(option.gridSize), 4);\n    },\n\n    getInitialData: function (option, ecModel) {\n        var dimensions = completeDimensions(['value'], option.data);\n        var list = new echarts.List(dimensions, this);\n        list.initData(option.data);\n        return list;\n    },\n\n    defaultOption: {\n        color: ['#294D99', '#156ACF', '#1598ED', '#45BDFF'],\n        center: ['50%', '50%'],\n        radius: '50%',\n        amplitude: '8%',\n        waveLength: '80%',\n        phase: 'auto',\n        period: 'auto',\n        direction: 'right',\n        shape: 'circle',\n\n        waveAnimation: true,\n        animationEasing: 'linear',\n        animationEasingUpdate: 'linear',\n        animationDuration: 2000,\n        animationDurationUpdate: 1000,\n\n        outline: {\n            show: true,\n            borderDistance: 8,\n            itemStyle: {\n                color: 'none',\n                borderColor: '#294D99',\n                borderWidth: 8,\n                shadowBlur: 20,\n                shadowColor: 'rgba(0, 0, 0, 0.25)'\n            }\n        },\n\n        backgroundStyle: {\n            color: '#E3F7FF'\n        },\n\n        itemStyle: {\n            opacity: 0.95,\n            shadowBlur: 50,\n            shadowColor: 'rgba(0, 0, 0, 0.4)'\n        },\n\n        label: {\n            show: true,\n            color: '#294D99',\n            insideColor: '#fff',\n            fontSize: 50,\n            fontWeight: 'bold',\n\n            align: 'center',\n            baseline: 'middle',\n            position: 'inside'\n        },\n\n        emphasis: {\n            itemStyle: {\n                opacity: 0.8\n            }\n        }\n    }\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"@ftf/zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\nvar isString = _util.isString;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar isObject = _util.isObject;\nvar clone = _util.clone;\n\nvar _model = require(\"../../util/model\");\n\nvar normalizeToArray = _model.normalizeToArray;\n\nvar _sourceHelper = require(\"./sourceHelper\");\n\nvar guessOrdinal = _sourceHelper.guessOrdinal;\nvar BE_ORDINAL = _sourceHelper.BE_ORDINAL;\n\nvar Source = require(\"../Source\");\n\nvar _dimensionHelper = require(\"./dimensionHelper\");\n\nvar OTHER_DIMENSIONS = _dimensionHelper.OTHER_DIMENSIONS;\n\nvar DataDimensionInfo = require(\"../DataDimensionInfo\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @deprecated\n * Use `echarts/data/helper/createDimensions` instead.\n */\n\n/**\n * @see {module:echarts/test/ut/spec/data/completeDimensions}\n *\n * This method builds the relationship between:\n * + \"what the coord sys or series requires (see `sysDims`)\",\n * + \"what the user defines (in `encode` and `dimensions`, see `opt.dimsDef` and `opt.encodeDef`)\"\n * + \"what the data source provids (see `source`)\".\n *\n * Some guess strategy will be adapted if user does not define something.\n * If no 'value' dimension specified, the first no-named dimension will be\n * named as 'value'.\n *\n * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n *      provides not only dim template, but also default order.\n *      properties: 'name', 'type', 'displayName'.\n *      `name` of each item provides default coord name.\n *      [{dimsDef: [string|Object, ...]}, ...] dimsDef of sysDim item provides default dim name, and\n *                                    provide dims count that the sysDim required.\n *      [{ordinalMeta}] can be specified.\n * @param {module:echarts/data/Source|Array|Object} source or data (for compatibal with pervious)\n * @param {Object} [opt]\n * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n *      For example: ['asdf', {name, type}, ...].\n * @param {Object|HashMap} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n * @param {Function} [opt.encodeDefaulter] Called if no `opt.encodeDef` exists.\n *      If not specified, auto find the next available data dim.\n *      param source {module:data/Source}\n *      param dimCount {number}\n *      return {Object} encode Never be `null/undefined`.\n * @param {string} [opt.generateCoord] Generate coord dim with the given name.\n *      If not specified, extra dim names will be:\n *      'value', 'value0', 'value1', ...\n * @param {number} [opt.generateCoordCount] By default, the generated dim name is `generateCoord`.\n *      If `generateCoordCount` specified, the generated dim names will be:\n *      `generateCoord` + 0, `generateCoord` + 1, ...\n *      can be Infinity, indicate that use all of the remain columns.\n * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n * @return {Array.<module:data/DataDimensionInfo>}\n */\nfunction completeDimensions(sysDims, source, opt) {\n  if (!Source.isInstance(source)) {\n    source = Source.seriesDataToSource(source);\n  }\n\n  opt = opt || {};\n  sysDims = (sysDims || []).slice();\n  var dimsDef = (opt.dimsDef || []).slice();\n  var dataDimNameMap = createHashMap();\n  var coordDimNameMap = createHashMap(); // var valueCandidate;\n\n  var result = [];\n  var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimCount); // Apply user defined dims (`name` and `type`) and init result.\n\n  for (var i = 0; i < dimCount; i++) {\n    var dimDefItem = dimsDef[i] = extend({}, isObject(dimsDef[i]) ? dimsDef[i] : {\n      name: dimsDef[i]\n    });\n    var userDimName = dimDefItem.name;\n    var resultItem = result[i] = new DataDimensionInfo(); // Name will be applied later for avoiding duplication.\n\n    if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n      // Only if `series.dimensions` is defined in option\n      // displayName, will be set, and dimension will be diplayed vertically in\n      // tooltip by default.\n      resultItem.name = resultItem.displayName = userDimName;\n      dataDimNameMap.set(userDimName, i);\n    }\n\n    dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n    dimDefItem.displayName != null && (resultItem.displayName = dimDefItem.displayName);\n  }\n\n  var encodeDef = opt.encodeDef;\n\n  if (!encodeDef && opt.encodeDefaulter) {\n    encodeDef = opt.encodeDefaulter(source, dimCount);\n  }\n\n  encodeDef = createHashMap(encodeDef); // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n  encodeDef.each(function (dataDims, coordDim) {\n    dataDims = normalizeToArray(dataDims).slice(); // Note: It is allowed that `dataDims.length` is `0`, e.g., options is\n    // `{encode: {x: -1, y: 1}}`. Should not filter anything in\n    // this case.\n\n    if (dataDims.length === 1 && !isString(dataDims[0]) && dataDims[0] < 0) {\n      encodeDef.set(coordDim, false);\n      return;\n    }\n\n    var validDataDims = encodeDef.set(coordDim, []);\n    each(dataDims, function (resultDimIdx, idx) {\n      // The input resultDimIdx can be dim name or index.\n      isString(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n      if (resultDimIdx != null && resultDimIdx < dimCount) {\n        validDataDims[idx] = resultDimIdx;\n        applyDim(result[resultDimIdx], coordDim, idx);\n      }\n    });\n  }); // Apply templetes and default order from `sysDims`.\n\n  var availDimIdx = 0;\n  each(sysDims, function (sysDimItem, sysDimIndex) {\n    var coordDim;\n    var sysDimItem;\n    var sysDimItemDimsDef;\n    var sysDimItemOtherDims;\n\n    if (isString(sysDimItem)) {\n      coordDim = sysDimItem;\n      sysDimItem = {};\n    } else {\n      coordDim = sysDimItem.name;\n      var ordinalMeta = sysDimItem.ordinalMeta;\n      sysDimItem.ordinalMeta = null;\n      sysDimItem = clone(sysDimItem);\n      sysDimItem.ordinalMeta = ordinalMeta; // `coordDimIndex` should not be set directly.\n\n      sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemOtherDims = sysDimItem.otherDims;\n      sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n    }\n\n    var dataDims = encodeDef.get(coordDim); // negative resultDimIdx means no need to mapping.\n\n    if (dataDims === false) {\n      return;\n    }\n\n    var dataDims = normalizeToArray(dataDims); // dimensions provides default dim sequences.\n\n    if (!dataDims.length) {\n      for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n        while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n          availDimIdx++;\n        }\n\n        availDimIdx < result.length && dataDims.push(availDimIdx++);\n      }\n    } // Apply templates.\n\n\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      var resultItem = result[resultDimIdx];\n      applyDim(defaults(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n      if (resultItem.name == null && sysDimItemDimsDef) {\n        var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];\n        !isObject(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {\n          name: sysDimItemDimsDefItem\n        });\n        resultItem.name = resultItem.displayName = sysDimItemDimsDefItem.name;\n        resultItem.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;\n      } // FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}\n\n\n      sysDimItemOtherDims && defaults(resultItem.otherDims, sysDimItemOtherDims);\n    });\n  });\n\n  function applyDim(resultItem, coordDim, coordDimIndex) {\n    if (OTHER_DIMENSIONS.get(coordDim) != null) {\n      resultItem.otherDims[coordDim] = coordDimIndex;\n    } else {\n      resultItem.coordDim = coordDim;\n      resultItem.coordDimIndex = coordDimIndex;\n      coordDimNameMap.set(coordDim, true);\n    }\n  } // Make sure the first extra dim is 'value'.\n\n\n  var generateCoord = opt.generateCoord;\n  var generateCoordCount = opt.generateCoordCount;\n  var fromZero = generateCoordCount != null;\n  generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;\n  var extra = generateCoord || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n  for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n    var resultItem = result[resultDimIdx] = result[resultDimIdx] || new DataDimensionInfo();\n    var coordDim = resultItem.coordDim;\n\n    if (coordDim == null) {\n      resultItem.coordDim = genName(extra, coordDimNameMap, fromZero);\n      resultItem.coordDimIndex = 0;\n\n      if (!generateCoord || generateCoordCount <= 0) {\n        resultItem.isExtraCoord = true;\n      }\n\n      generateCoordCount--;\n    }\n\n    resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n\n    if (resultItem.type == null && (guessOrdinal(source, resultDimIdx, resultItem.name) === BE_ORDINAL.Must // Consider the case:\n    // {\n    //    dataset: {source: [\n    //        ['2001', 123],\n    //        ['2002', 456],\n    //        ...\n    //        ['The others', 987],\n    //    ]},\n    //    series: {type: 'pie'}\n    // }\n    // The first colum should better be treated as a \"ordinal\" although it\n    // might not able to be detected as an \"ordinal\" by `guessOrdinal`.\n    || resultItem.isExtraCoord && (resultItem.otherDims.itemName != null || resultItem.otherDims.seriesName != null))) {\n      resultItem.type = 'ordinal';\n    }\n  }\n\n  return result;\n} // ??? TODO\n// Originally detect dimCount by data[0]. Should we\n// optimize it to only by sysDims and dimensions and encode.\n// So only necessary dims will be initialized.\n// But\n// (1) custom series should be considered. where other dims\n// may be visited.\n// (2) sometimes user need to calcualte bubble size or use visualMap\n// on other dimensions besides coordSys needed.\n// So, dims that is not used by system, should be shared in storage?\n\n\nfunction getDimCount(source, sysDims, dimsDef, optDimCount) {\n  // Note that the result dimCount should not small than columns count\n  // of data, otherwise `dataDimNameMap` checking will be incorrect.\n  var dimCount = Math.max(source.dimensionsDetectCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);\n  each(sysDims, function (sysDimItem) {\n    var sysDimItemDimsDef = sysDimItem.dimsDef;\n    sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n  });\n  return dimCount;\n}\n\nfunction genName(name, map, fromZero) {\n  if (fromZero || map.get(name) != null) {\n    var i = 0;\n\n    while (map.get(name + i) != null) {\n      i++;\n    }\n\n    name += i;\n  }\n\n  map.set(name, true);\n  return name;\n}\n\nvar _default = completeDimensions;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\nvar getDataItemValue = _model.getDataItemValue;\n\nvar _util = require(\"@ftf/zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\nvar map = _util.map;\nvar isArray = _util.isArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\nvar isTypedArray = _util.isTypedArray;\nvar isArrayLike = _util.isArrayLike;\nvar extend = _util.extend;\nvar assert = _util.assert;\n\nvar Source = require(\"../Source\");\n\nvar _sourceType = require(\"./sourceType\");\n\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\nvar SOURCE_FORMAT_ARRAY_ROWS = _sourceType.SOURCE_FORMAT_ARRAY_ROWS;\nvar SOURCE_FORMAT_OBJECT_ROWS = _sourceType.SOURCE_FORMAT_OBJECT_ROWS;\nvar SOURCE_FORMAT_KEYED_COLUMNS = _sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\nvar SOURCE_FORMAT_UNKNOWN = _sourceType.SOURCE_FORMAT_UNKNOWN;\nvar SOURCE_FORMAT_TYPED_ARRAY = _sourceType.SOURCE_FORMAT_TYPED_ARRAY;\nvar SERIES_LAYOUT_BY_ROW = _sourceType.SERIES_LAYOUT_BY_ROW;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// The result of `guessOrdinal`.\nvar BE_ORDINAL = {\n  Must: 1,\n  // Encounter string but not '-' and not number-like.\n  Might: 2,\n  // Encounter string but number-like.\n  Not: 3 // Other cases\n\n};\nvar inner = makeInner();\n/**\n * @see {module:echarts/data/Source}\n * @param {module:echarts/component/dataset/DatasetModel} datasetModel\n * @return {string} sourceFormat\n */\n\nfunction detectSourceFormat(datasetModel) {\n  var data = datasetModel.option.source;\n  var sourceFormat = SOURCE_FORMAT_UNKNOWN;\n\n  if (isTypedArray(data)) {\n    sourceFormat = SOURCE_FORMAT_TYPED_ARRAY;\n  } else if (isArray(data)) {\n    // FIXME Whether tolerate null in top level array?\n    if (data.length === 0) {\n      sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n    }\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i];\n\n      if (item == null) {\n        continue;\n      } else if (isArray(item)) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n        break;\n      } else if (isObject(item)) {\n        sourceFormat = SOURCE_FORMAT_OBJECT_ROWS;\n        break;\n      }\n    }\n  } else if (isObject(data)) {\n    for (var key in data) {\n      if (data.hasOwnProperty(key) && isArrayLike(data[key])) {\n        sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS;\n        break;\n      }\n    }\n  } else if (data != null) {\n    throw new Error('Invalid data');\n  }\n\n  inner(datasetModel).sourceFormat = sourceFormat;\n}\n/**\n * [Scenarios]:\n * (1) Provide source data directly:\n *     series: {\n *         encode: {...},\n *         dimensions: [...]\n *         seriesLayoutBy: 'row',\n *         data: [[...]]\n *     }\n * (2) Refer to datasetModel.\n *     series: [{\n *         encode: {...}\n *         // Ignore datasetIndex means `datasetIndex: 0`\n *         // and the dimensions defination in dataset is used\n *     }, {\n *         encode: {...},\n *         seriesLayoutBy: 'column',\n *         datasetIndex: 1\n *     }]\n *\n * Get data from series itself or datset.\n * @return {module:echarts/data/Source} source\n */\n\n\nfunction getSource(seriesModel) {\n  return inner(seriesModel).source;\n}\n/**\n * MUST be called before mergeOption of all series.\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction resetSourceDefaulter(ecModel) {\n  // `datasetMap` is used to make default encode.\n  inner(ecModel).datasetMap = createHashMap();\n}\n/**\n * [Caution]:\n * MUST be called after series option merged and\n * before \"series.getInitailData()\" called.\n *\n * [The rule of making default encode]:\n * Category axis (if exists) alway map to the first dimension.\n * Each other axis occupies a subsequent dimension.\n *\n * [Why make default encode]:\n * Simplify the typing of encode in option, avoiding the case like that:\n * series: [{encode: {x: 0, y: 1}}, {encode: {x: 0, y: 2}}, {encode: {x: 0, y: 3}}],\n * where the \"y\" have to be manually typed as \"1, 2, 3, ...\".\n *\n * @param {module:echarts/model/Series} seriesModel\n */\n\n\nfunction prepareSource(seriesModel) {\n  var seriesOption = seriesModel.option;\n  var data = seriesOption.data;\n  var sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;\n  var fromDataset = false;\n  var seriesLayoutBy = seriesOption.seriesLayoutBy;\n  var sourceHeader = seriesOption.sourceHeader;\n  var dimensionsDefine = seriesOption.dimensions;\n  var datasetModel = getDatasetModel(seriesModel);\n\n  if (datasetModel) {\n    var datasetOption = datasetModel.option;\n    data = datasetOption.source;\n    sourceFormat = inner(datasetModel).sourceFormat;\n    fromDataset = true; // These settings from series has higher priority.\n\n    seriesLayoutBy = seriesLayoutBy || datasetOption.seriesLayoutBy;\n    sourceHeader == null && (sourceHeader = datasetOption.sourceHeader);\n    dimensionsDefine = dimensionsDefine || datasetOption.dimensions;\n  }\n\n  var completeResult = completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine);\n  inner(seriesModel).source = new Source({\n    data: data,\n    fromDataset: fromDataset,\n    seriesLayoutBy: seriesLayoutBy,\n    sourceFormat: sourceFormat,\n    dimensionsDefine: completeResult.dimensionsDefine,\n    startIndex: completeResult.startIndex,\n    dimensionsDetectCount: completeResult.dimensionsDetectCount,\n    // Note: dataset option does not have `encode`.\n    encodeDefine: seriesOption.encode\n  });\n} // return {startIndex, dimensionsDefine, dimensionsCount}\n\n\nfunction completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine) {\n  if (!data) {\n    return {\n      dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine)\n    };\n  }\n\n  var dimensionsDetectCount;\n  var startIndex;\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    // Rule: Most of the first line are string: it is header.\n    // Caution: consider a line with 5 string and 1 number,\n    // it still can not be sure it is a head, because the\n    // 5 string may be 5 values of category columns.\n    if (sourceHeader === 'auto' || sourceHeader == null) {\n      arrayRowsTravelFirst(function (val) {\n        // '-' is regarded as null/undefined.\n        if (val != null && val !== '-') {\n          if (isString(val)) {\n            startIndex == null && (startIndex = 1);\n          } else {\n            startIndex = 0;\n          }\n        } // 10 is an experience number, avoid long loop.\n\n      }, seriesLayoutBy, data, 10);\n    } else {\n      startIndex = sourceHeader ? 1 : 0;\n    }\n\n    if (!dimensionsDefine && startIndex === 1) {\n      dimensionsDefine = [];\n      arrayRowsTravelFirst(function (val, index) {\n        dimensionsDefine[index] = val != null ? val : '';\n      }, seriesLayoutBy, data);\n    }\n\n    dimensionsDetectCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW ? data.length : data[0] ? data[0].length : null;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = objectRowsCollectDimensions(data);\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = [];\n      each(data, function (colArr, key) {\n        dimensionsDefine.push(key);\n      });\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var value0 = getDataItemValue(data[0]);\n    dimensionsDetectCount = isArray(value0) && value0.length || 1;\n  } else if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {}\n\n  return {\n    startIndex: startIndex,\n    dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine),\n    dimensionsDetectCount: dimensionsDetectCount\n  };\n} // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n// which is reasonable. But dimension name is duplicated.\n// Returns undefined or an array contains only object without null/undefiend or string.\n\n\nfunction normalizeDimensionsDefine(dimensionsDefine) {\n  if (!dimensionsDefine) {\n    // The meaning of null/undefined is different from empty array.\n    return;\n  }\n\n  var nameMap = createHashMap();\n  return map(dimensionsDefine, function (item, index) {\n    item = extend({}, isObject(item) ? item : {\n      name: item\n    }); // User can set null in dimensions.\n    // We dont auto specify name, othewise a given name may\n    // cause it be refered unexpectedly.\n\n    if (item.name == null) {\n      return item;\n    } // Also consider number form like 2012.\n\n\n    item.name += ''; // User may also specify displayName.\n    // displayName will always exists except user not\n    // specified or dim name is not specified or detected.\n    // (A auto generated dim name will not be used as\n    // displayName).\n\n    if (item.displayName == null) {\n      item.displayName = item.name;\n    }\n\n    var exist = nameMap.get(item.name);\n\n    if (!exist) {\n      nameMap.set(item.name, {\n        count: 1\n      });\n    } else {\n      item.name += '-' + exist.count++;\n    }\n\n    return item;\n  });\n}\n\nfunction arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n  maxLoop == null && (maxLoop = Infinity);\n\n  if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      cb(data[i] ? data[i][0] : null, i);\n    }\n  } else {\n    var value0 = data[0] || [];\n\n    for (var i = 0; i < value0.length && i < maxLoop; i++) {\n      cb(value0[i], i);\n    }\n  }\n}\n\nfunction objectRowsCollectDimensions(data) {\n  var firstIndex = 0;\n  var obj;\n\n  while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n\n\n  if (obj) {\n    var dimensions = [];\n    each(obj, function (value, key) {\n      dimensions.push(key);\n    });\n    return dimensions;\n  }\n}\n/**\n * [The strategy of the arrengment of data dimensions for dataset]:\n * \"value way\": all axes are non-category axes. So series one by one take\n *     several (the number is coordSysDims.length) dimensions from dataset.\n *     The result of data arrengment of data dimensions like:\n *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\n * \"category way\": at least one axis is category axis. So the the first data\n *     dimension is always mapped to the first category axis and shared by\n *     all of the series. The other data dimensions are taken by series like\n *     \"value way\" does.\n *     The result of data arrengment of data dimensions like:\n *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\n *\n * @param {Array.<Object|string>} coordDimensions [{name: <string>, type: <string>, dimsDef: <Array>}, ...]\n * @param {module:model/Series} seriesModel\n * @param {module:data/Source} source\n * @return {Object} encode Never be `null/undefined`.\n */\n\n\nfunction makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\n  var encode = {};\n  var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n  if (!datasetModel || !coordDimensions) {\n    return encode;\n  }\n\n  var encodeItemName = [];\n  var encodeSeriesName = [];\n  var ecModel = seriesModel.ecModel;\n  var datasetMap = inner(ecModel).datasetMap;\n  var key = datasetModel.uid + '_' + source.seriesLayoutBy;\n  var baseCategoryDimIndex;\n  var categoryWayValueDimStart;\n  coordDimensions = coordDimensions.slice();\n  each(coordDimensions, function (coordDimInfo, coordDimIdx) {\n    !isObject(coordDimInfo) && (coordDimensions[coordDimIdx] = {\n      name: coordDimInfo\n    });\n\n    if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\n      baseCategoryDimIndex = coordDimIdx;\n      categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimensions[coordDimIdx]);\n    }\n\n    encode[coordDimInfo.name] = [];\n  });\n  var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n    categoryWayDim: categoryWayValueDimStart,\n    valueWayDim: 0\n  }); // TODO\n  // Auto detect first time axis and do arrangement.\n\n  each(coordDimensions, function (coordDimInfo, coordDimIdx) {\n    var coordDimName = coordDimInfo.name;\n    var count = getDataDimCountOnCoordDim(coordDimInfo); // In value way.\n\n    if (baseCategoryDimIndex == null) {\n      var start = datasetRecord.valueWayDim;\n      pushDim(encode[coordDimName], start, count);\n      pushDim(encodeSeriesName, start, count);\n      datasetRecord.valueWayDim += count; // ??? TODO give a better default series name rule?\n      // especially when encode x y specified.\n      // consider: when mutiple series share one dimension\n      // category axis, series name should better use\n      // the other dimsion name. On the other hand, use\n      // both dimensions name.\n    } // In category way, the first category axis.\n    else if (baseCategoryDimIndex === coordDimIdx) {\n        pushDim(encode[coordDimName], 0, count);\n        pushDim(encodeItemName, 0, count);\n      } // In category way, the other axis.\n      else {\n          var start = datasetRecord.categoryWayDim;\n          pushDim(encode[coordDimName], start, count);\n          pushDim(encodeSeriesName, start, count);\n          datasetRecord.categoryWayDim += count;\n        }\n  });\n\n  function pushDim(dimIdxArr, idxFrom, idxCount) {\n    for (var i = 0; i < idxCount; i++) {\n      dimIdxArr.push(idxFrom + i);\n    }\n  }\n\n  function getDataDimCountOnCoordDim(coordDimInfo) {\n    var dimsDef = coordDimInfo.dimsDef;\n    return dimsDef ? dimsDef.length : 1;\n  }\n\n  encodeItemName.length && (encode.itemName = encodeItemName);\n  encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n  return encode;\n}\n/**\n * Work for data like [{name: ..., value: ...}, ...].\n *\n * @param {module:model/Series} seriesModel\n * @param {module:data/Source} source\n * @return {Object} encode Never be `null/undefined`.\n */\n\n\nfunction makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\n  var encode = {};\n  var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n  if (!datasetModel) {\n    return encode;\n  }\n\n  var sourceFormat = source.sourceFormat;\n  var dimensionsDefine = source.dimensionsDefine;\n  var potentialNameDimIndex;\n\n  if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    each(dimensionsDefine, function (dim, idx) {\n      if ((isObject(dim) ? dim.name : dim) === 'name') {\n        potentialNameDimIndex = idx;\n      }\n    });\n  } // idxResult: {v, n}.\n\n\n  var idxResult = function () {\n    var idxRes0 = {};\n    var idxRes1 = {};\n    var guessRecords = []; // 5 is an experience value.\n\n    for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\n      var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\n      guessRecords.push(guessResult);\n      var isPureNumber = guessResult === BE_ORDINAL.Not; // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\n      // and then find a name dim with the priority:\n      // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\n\n      if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\n        idxRes0.v = i;\n      }\n\n      if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\n        idxRes0.n = i;\n      }\n\n      if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\n        return idxRes0;\n      } // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\n      // find the first BE_ORDINAL.Might as the value dim,\n      // and then find a name dim with the priority:\n      // \"other dim\" > \"the value dim itself\".\n      // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\n      // treated as number.\n\n\n      if (!isPureNumber) {\n        if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\n          idxRes1.v = i;\n        }\n\n        if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\n          idxRes1.n = i;\n        }\n      }\n    }\n\n    function fulfilled(idxResult) {\n      return idxResult.v != null && idxResult.n != null;\n    }\n\n    return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\n  }();\n\n  if (idxResult) {\n    encode.value = idxResult.v; // `potentialNameDimIndex` has highest priority.\n\n    var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n; // By default, label use itemName in charts.\n    // So we dont set encodeLabel here.\n\n    encode.itemName = [nameDimIndex];\n    encode.seriesName = [nameDimIndex];\n  }\n\n  return encode;\n}\n/**\n * If return null/undefined, indicate that should not use datasetModel.\n */\n\n\nfunction getDatasetModel(seriesModel) {\n  var option = seriesModel.option; // Caution: consider the scenario:\n  // A dataset is declared and a series is not expected to use the dataset,\n  // and at the beginning `setOption({series: { noData })` (just prepare other\n  // option but no data), then `setOption({series: {data: [...]}); In this case,\n  // the user should set an empty array to avoid that dataset is used by default.\n\n  var thisData = option.data;\n\n  if (!thisData) {\n    return seriesModel.ecModel.getComponent('dataset', option.datasetIndex || 0);\n  }\n}\n/**\n * The rule should not be complex, otherwise user might not\n * be able to known where the data is wrong.\n * The code is ugly, but how to make it neat?\n *\n * @param {module:echars/data/Source} source\n * @param {number} dimIndex\n * @return {BE_ORDINAL} guess result.\n */\n\n\nfunction guessOrdinal(source, dimIndex) {\n  return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n} // dimIndex may be overflow source data.\n// return {BE_ORDINAL}\n\n\nfunction doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n  var result; // Experience value.\n\n  var maxLoop = 5;\n\n  if (isTypedArray(data)) {\n    return BE_ORDINAL.Not;\n  } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n  // always exists in source.\n\n\n  var dimName;\n  var dimType;\n\n  if (dimensionsDefine) {\n    var dimDefItem = dimensionsDefine[dimIndex];\n\n    if (isObject(dimDefItem)) {\n      dimName = dimDefItem.name;\n      dimType = dimDefItem.type;\n    } else if (isString(dimDefItem)) {\n      dimName = dimDefItem;\n    }\n  }\n\n  if (dimType != null) {\n    return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\n  }\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n      var sample = data[dimIndex];\n\n      for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[startIndex + i])) != null) {\n          return result;\n        }\n      }\n    } else {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var row = data[startIndex + i];\n\n        if (row && (result = detectValue(row[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    if (!dimName) {\n      return BE_ORDINAL.Not;\n    }\n\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      var item = data[i];\n\n      if (item && (result = detectValue(item[dimName])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    if (!dimName) {\n      return BE_ORDINAL.Not;\n    }\n\n    var sample = data[dimName];\n\n    if (!sample || isTypedArray(sample)) {\n      return BE_ORDINAL.Not;\n    }\n\n    for (var i = 0; i < sample.length && i < maxLoop; i++) {\n      if ((result = detectValue(sample[i])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      var item = data[i];\n      var val = getDataItemValue(item);\n\n      if (!isArray(val)) {\n        return BE_ORDINAL.Not;\n      }\n\n      if ((result = detectValue(val[dimIndex])) != null) {\n        return result;\n      }\n    }\n  }\n\n  function detectValue(val) {\n    var beStr = isString(val); // Consider usage convenience, '1', '2' will be treated as \"number\".\n    // `isFinit('')` get `true`.\n\n    if (val != null && isFinite(val) && val !== '') {\n      return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\n    } else if (beStr && val !== '-') {\n      return BE_ORDINAL.Must;\n    }\n  }\n\n  return BE_ORDINAL.Not;\n}\n\nexports.BE_ORDINAL = BE_ORDINAL;\nexports.detectSourceFormat = detectSourceFormat;\nexports.getSource = getSource;\nexports.resetSourceDefaulter = resetSourceDefaulter;\nexports.prepareSource = prepareSource;\nexports.makeSeriesEncodeForAxisCoordSys = makeSeriesEncodeForAxisCoordSys;\nexports.makeSeriesEncodeForNameBased = makeSeriesEncodeForNameBased;\nexports.guessOrdinal = guessOrdinal;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"@ftf/zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\n\nfunction parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n\n  if (componentType) {\n    componentType = componentType.split(TYPE_DELIMITER);\n    ret.main = componentType[0] || '';\n    ret.sub = componentType[1] || '';\n  }\n\n  return ret;\n}\n/**\n * @public\n */\n\n\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\n/**\n * @public\n */\n\n\nfunction enableClassExtend(RootClass, mandatoryMethods) {\n  RootClass.$constructor = RootClass;\n\n  RootClass.extend = function (proto) {\n    var superClass = this;\n\n    var ExtendedClass = function () {\n      if (!proto.$constructor) {\n        superClass.apply(this, arguments);\n      } else {\n        proto.$constructor.apply(this, arguments);\n      }\n    };\n\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    zrUtil.inherits(ExtendedClass, this);\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n}\n\nvar classBase = 0;\n/**\n * Can not use instanceof, consider different scope by\n * cross domain or es module import in ec extensions.\n * Mount a method \"isInstance()\" to Clz.\n */\n\nfunction enableClassCheck(Clz) {\n  var classAttr = ['__\\0is_clz', classBase++, Math.random().toFixed(3)].join('_');\n  Clz.prototype[classAttr] = true;\n\n  Clz.isInstance = function (obj) {\n    return !!(obj && obj[classAttr]);\n  };\n} // superCall should have class info, which can not be fetch from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, do not overrides method f,\n// then when method of class C is called, dead loop occured.\n\n\nfunction superCall(context, methodName) {\n  var args = zrUtil.slice(arguments, 2);\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * @param {Object} entity\n * @param {Object} options\n * @param {boolean} [options.registerWhenExtend]\n * @public\n */\n\n\nfunction enableClassManagement(entity, options) {\n  options = options || {};\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'xxx'\n   *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n   * @type {Object}\n   */\n\n  var storage = {};\n\n  entity.registerClass = function (Clazz, componentType) {\n    if (componentType) {\n      checkClassType(componentType);\n      componentType = parseClassType(componentType);\n\n      if (!componentType.sub) {\n        storage[componentType.main] = Clazz;\n      } else if (componentType.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentType);\n        container[componentType.sub] = Clazz;\n      }\n    }\n\n    return Clazz;\n  };\n\n  entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n    var Clazz = storage[componentMainType];\n\n    if (Clazz && Clazz[IS_CONTAINER]) {\n      Clazz = subType ? Clazz[subType] : null;\n    }\n\n    if (throwWhenNotFound && !Clazz) {\n      throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n    }\n\n    return Clazz;\n  };\n\n  entity.getClassesByMainType = function (componentType) {\n    componentType = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentType.main];\n\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n\n    return result;\n  };\n\n  entity.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    componentType = parseClassType(componentType);\n    return !!storage[componentType.main];\n  };\n  /**\n   * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n\n\n  entity.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   * @param  {string}  mainType\n   * @return {boolean}\n   */\n\n\n  entity.hasSubTypes = function (componentType) {\n    componentType = parseClassType(componentType);\n    var obj = storage[componentType.main];\n    return obj && obj[IS_CONTAINER];\n  };\n\n  entity.parseClassType = parseClassType;\n\n  function makeContainer(componentType) {\n    var container = storage[componentType.main];\n\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentType.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n\n    return container;\n  }\n\n  if (options.registerWhenExtend) {\n    var originalExtend = entity.extend;\n\n    if (originalExtend) {\n      entity.extend = function (proto) {\n        var ExtendedClass = originalExtend.call(this, proto);\n        return entity.registerClass(ExtendedClass, proto.type);\n      };\n    }\n  }\n\n  return entity;\n}\n/**\n * @param {string|Array.<string>} properties\n */\n\n\nfunction setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n  // if (!zrUtil.isArray(properties)) {\n  //     properties = properties != null ? [properties] : [];\n  // }\n  // zrUtil.each(properties, function (prop) {\n  //     var value = obj[prop];\n  //     Object.defineProperty\n  //         && Object.defineProperty(obj, prop, {\n  //             value: value, writable: false\n  //         });\n  //     zrUtil.isArray(obj[prop])\n  //         && Object.freeze\n  //         && Object.freeze(obj[prop]);\n  // });\n}\n\nexports.parseClassType = parseClassType;\nexports.enableClassExtend = enableClassExtend;\nexports.enableClassCheck = enableClassCheck;\nexports.enableClassManagement = enableClassManagement;\nexports.setReadOnly = setReadOnly;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"@ftf/zrender/lib/core/util\");\n\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\nvar assert = _util.assert;\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar OTHER_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\n\nfunction summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        } // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    OTHER_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n    // But should fix the case that radar axes: simplify the logic\n    // of `completeDimension`, remove `extraPrefix`.\n\n    encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n  // in this way. Use label.formatter instead. May be remove this approach someday.\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n}\n\nfunction getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n} // function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     var dimensions = data.dimensions.slice();\n//     var valueType;\n//     var valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }\n\n\nexports.OTHER_DIMENSIONS = OTHER_DIMENSIONS;\nexports.summarizeDimensions = summarizeDimensions;\nexports.getDimensionTypeByAxis = getDimensionTypeByAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"@ftf/zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @class\n * @param {Object|DataDimensionInfo} [opt] All of the fields will be shallow copied.\n */\nfunction DataDimensionInfo(opt) {\n  if (opt != null) {\n    zrUtil.extend(this, opt);\n  }\n  /**\n   * Dimension name.\n   * Mandatory.\n   * @type {string}\n   */\n  // this.name;\n\n  /**\n   * The origin name in dimsDef, see source helper.\n   * If displayName given, the tooltip will displayed vertically.\n   * Optional.\n   * @type {string}\n   */\n  // this.displayName;\n\n  /**\n   * Which coordSys dimension this dimension mapped to.\n   * A `coordDim` can be a \"coordSysDim\" that the coordSys required\n   * (for example, an item in `coordSysDims` of `model/referHelper#CoordSysInfo`),\n   * or an generated \"extra coord name\" if does not mapped to any \"coordSysDim\"\n   * (That is determined by whether `isExtraCoord` is `true`).\n   * Mandatory.\n   * @type {string}\n   */\n  // this.coordDim;\n\n  /**\n   * The index of this dimension in `series.encode[coordDim]`.\n   * Mandatory.\n   * @type {number}\n   */\n  // this.coordDimIndex;\n\n  /**\n   * Dimension type. The enumerable values are the key of\n   * `dataCtors` of `data/List`.\n   * Optional.\n   * @type {string}\n   */\n  // this.type;\n\n  /**\n   * This index of this dimension info in `data/List#_dimensionInfos`.\n   * Mandatory after added to `data/List`.\n   * @type {number}\n   */\n  // this.index;\n\n  /**\n   * The format of `otherDims` is:\n   * ```js\n   * {\n   *     tooltip: number optional,\n   *     label: number optional,\n   *     itemName: number optional,\n   *     seriesName: number optional,\n   * }\n   * ```\n   *\n   * A `series.encode` can specified these fields:\n   * ```js\n   * encode: {\n   *     // \"3, 1, 5\" is the index of data dimension.\n   *     tooltip: [3, 1, 5],\n   *     label: [0, 3],\n   *     ...\n   * }\n   * ```\n   * `otherDims` is the parse result of the `series.encode` above, like:\n   * ```js\n   * // Suppose the index of this data dimension is `3`.\n   * this.otherDims = {\n   *     // `3` is at the index `0` of the `encode.tooltip`\n   *     tooltip: 0,\n   *     // `3` is at the index `1` of the `encode.tooltip`\n   *     label: 1\n   * };\n   * ```\n   *\n   * This prop should never be `null`/`undefined` after initialized.\n   * @type {Object}\n   */\n\n\n  this.otherDims = {};\n  /**\n   * Be `true` if this dimension is not mapped to any \"coordSysDim\" that the\n   * \"coordSys\" required.\n   * Mandatory.\n   * @type {boolean}\n   */\n  // this.isExtraCoord;\n\n  /**\n   * @type {module:data/OrdinalMeta}\n   */\n  // this.ordinalMeta;\n\n  /**\n   * Whether to create inverted indices.\n   * @type {boolean}\n   */\n  // this.createInvertedIndices;\n}\n\n;\nvar _default = DataDimensionInfo;\nmodule.exports = _default;","var echarts = require('echarts/lib/echarts');\nvar numberUtil = echarts.number;\nvar symbolUtil = require('@ftf/echarts/lib/util/symbol');\nvar parsePercent = numberUtil.parsePercent;\n\nvar LiquidLayout = require('./liquidFillLayout');\n\nfunction getShallow(model, path) {\n    return model && model.getShallow(path);\n}\n\necharts.extendChartView({\n\n    type: 'liquidFill',\n\n    render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        group.removeAll();\n\n        var data = seriesModel.getData();\n\n        var itemModel = data.getItemModel(0);\n\n        var center = itemModel.get('center');\n        var radius = itemModel.get('radius');\n\n        var width = api.getWidth();\n        var height = api.getHeight();\n        var size = Math.min(width, height);\n        // itemStyle\n        var outlineDistance = 0;\n        var outlineBorderWidth = 0;\n        var showOutline = seriesModel.get('outline.show');\n\n        if (showOutline) {\n            outlineDistance = seriesModel.get('outline.borderDistance');\n            outlineBorderWidth = parsePercent(\n                seriesModel.get('outline.itemStyle.borderWidth'), size\n            );\n        }\n\n        var cx = parsePercent(center[0], width);\n        var cy = parsePercent(center[1], height);\n\n        var outterRadius;\n        var innerRadius;\n        var paddingRadius;\n\n        var isFillContainer = false;\n\n        var symbol = seriesModel.get('shape');\n        if (symbol === 'container') {\n            // a shape that fully fills the container\n            isFillContainer = true;\n\n            outterRadius = [\n                width / 2,\n                height / 2\n            ];\n            innerRadius = [\n                outterRadius[0] - outlineBorderWidth / 2,\n                outterRadius[1] - outlineBorderWidth / 2\n            ];\n            paddingRadius = [\n                parsePercent(outlineDistance, width),\n                parsePercent(outlineDistance, height)\n            ];\n\n            radius = [\n                Math.max(innerRadius[0] - paddingRadius[0], 0),\n                Math.max(innerRadius[1] - paddingRadius[1], 0)\n            ];\n        }\n        else {\n            outterRadius = parsePercent(radius, size) / 2;\n            innerRadius = outterRadius - outlineBorderWidth / 2;\n            paddingRadius = parsePercent(outlineDistance, size);\n\n            radius = Math.max(innerRadius - paddingRadius, 0);\n        }\n\n        if (showOutline) {\n            var outline = getOutline();\n            outline.style.lineWidth = outlineBorderWidth;\n            group.add(getOutline());\n        }\n\n        var left = isFillContainer ? 0 : cx - radius;\n        var top = isFillContainer ? 0 : cy - radius;\n\n        var wavePath = null;\n\n        group.add(getBackground());\n\n        // each data item for a wave\n        var oldData = this._data;\n        var waves = [];\n        data.diff(oldData)\n            .add(function (idx) {\n                var wave = getWave(idx, false);\n\n                var waterLevel = wave.shape.waterLevel;\n                wave.shape.waterLevel = isFillContainer ? height / 2 : radius;\n                echarts.graphic.initProps(wave, {\n                    shape: {\n                        waterLevel: waterLevel\n                    }\n                }, seriesModel);\n\n                wave.z2 = 2;\n                setWaveAnimation(idx, wave, null);\n\n                group.add(wave);\n                data.setItemGraphicEl(idx, wave);\n                waves.push(wave);\n            })\n            .update(function (newIdx, oldIdx) {\n                var waveElement = oldData.getItemGraphicEl(oldIdx);\n\n                // new wave is used to calculate position, but not added\n                var newWave = getWave(newIdx, false, waveElement);\n\n                // changes with animation\n                var shape = {};\n                var shapeAttrs = ['amplitude', 'cx', 'cy', 'phase', 'radius', 'radiusY', 'waterLevel', 'waveLength'];\n                for (var i = 0; i < shapeAttrs.length; ++i) {\n                    var attr = shapeAttrs[i];\n                    if (newWave.shape.hasOwnProperty(attr)) {\n                        shape[attr] = newWave.shape[attr];\n                    }\n                }\n\n                var style = {};\n                var styleAttrs = ['fill', 'opacity', 'shadowBlur', 'shadowColor'];\n                for (var i = 0; i < styleAttrs.length; ++i) {\n                    var attr = styleAttrs[i];\n                    if (newWave.style.hasOwnProperty(attr)) {\n                        style[attr] = newWave.style[attr];\n                    }\n                }\n\n                if (isFillContainer) {\n                    shape.radiusY = height / 2;\n                }\n\n                // changes with animation\n                echarts.graphic.updateProps(waveElement, {\n                    shape: shape\n                }, seriesModel);\n\n                waveElement.useStyle(style);\n\n                // instant changes\n                waveElement.position = newWave.position;\n                waveElement.setClipPath(newWave.clipPath);\n                waveElement.shape.inverse = newWave.inverse;\n\n                setWaveAnimation(newIdx, waveElement, waveElement);\n                group.add(waveElement);\n                data.setItemGraphicEl(newIdx, waveElement);\n                waves.push(waveElement);\n            })\n            .remove(function (idx) {\n                var wave = oldData.getItemGraphicEl(idx);\n                group.remove(wave);\n            })\n            .execute();\n\n        if (itemModel.get('label.show')) {\n            group.add(getText(waves));\n        }\n\n        this._data = data;\n\n        /**\n         * Get path for outline, background and clipping\n         *\n         * @param {number} r outter radius of shape\n         * @param {boolean|undefined} isForClipping if the shape is used\n         *                                          for clipping\n         */\n        function getPath(r, isForClipping) {\n            if (symbol) {\n                // customed symbol path\n                if (symbol.indexOf('path://') === 0) {\n                    var path = echarts.graphic.makePath(symbol.slice(7), {});\n                    var bouding = path.getBoundingRect();\n                    var w = bouding.width;\n                    var h = bouding.height;\n                    if (w > h) {\n                        h = r * 2 / w * h;\n                        w = r * 2;\n                    }\n                    else {\n                        w = r * 2 / h * w;\n                        h = r * 2;\n                    }\n\n                    var left = isForClipping ? 0 : cx - w / 2;\n                    var top = isForClipping ? 0 : cy - h / 2;\n                    path = echarts.graphic.makePath(\n                        symbol.slice(7),\n                        {},\n                        new echarts.graphic.BoundingRect(left, top, w, h)\n                    );\n                    if (isForClipping) {\n                        path.position = [-w / 2, -h / 2];\n                    }\n                    return path;\n                }\n                else if (isFillContainer) {\n                    // fully fill the container\n                    var x = isForClipping ? -r[0] : cx - r[0];\n                    var y = isForClipping ? -r[1] : cy - r[1];\n                    return symbolUtil.createSymbol(\n                        'rect', x, y, r[0] * 2, r[1] * 2\n                    );\n                }\n                else {\n                    var x = isForClipping ? -r : cx - r;\n                    var y = isForClipping ? -r : cy - r;\n                    if (symbol === 'pin') {\n                        y += r;\n                    }\n                    else if (symbol === 'arrow') {\n                        y -= r;\n                    }\n                    return symbolUtil.createSymbol(symbol, x, y, r * 2, r * 2);\n                }\n            }\n\n            return new echarts.graphic.Circle({\n                shape: {\n                    cx: isForClipping ? 0 : cx,\n                    cy: isForClipping ? 0 : cy,\n                    r: r\n                }\n            });\n        }\n        /**\n         * Create outline\n         */\n        function getOutline() {\n            var outlinePath = getPath(outterRadius);\n            outlinePath.style.fill = null;\n\n            outlinePath.setStyle(seriesModel.getModel('outline.itemStyle')\n                .getItemStyle());\n\n            return outlinePath;\n        }\n\n        /**\n         * Create background\n         */\n        function getBackground() {\n            // Seperate stroke and fill, so we can use stroke to cover the alias of clipping.\n            var strokePath = getPath(radius);\n            strokePath.setStyle(seriesModel.getModel('backgroundStyle')\n                .getItemStyle());\n            strokePath.style.fill = null;\n\n            // Stroke is front of wave\n            strokePath.z2 = 5;\n\n            var fillPath = getPath(radius);\n            fillPath.setStyle(seriesModel.getModel('backgroundStyle')\n                .getItemStyle());\n            fillPath.style.stroke = null;\n\n            var group = new echarts.graphic.Group();\n            group.add(strokePath);\n            group.add(fillPath);\n\n            return group;\n        }\n\n        /**\n         * wave shape\n         */\n        function getWave(idx, isInverse, oldWave) {\n            var radiusX = isFillContainer ? radius[0] : radius;\n            var radiusY = isFillContainer ? height / 2 : radius;\n\n            var itemModel = data.getItemModel(idx);\n            var itemStyleModel = itemModel.getModel('itemStyle');\n            var phase = itemModel.get('phase');\n            var amplitude = parsePercent(itemModel.get('amplitude'),\n                radiusY * 2);\n            var waveLength = parsePercent(itemModel.get('waveLength'),\n                radiusX * 2);\n\n            var value = data.get('value', idx);\n            var waterLevel = radiusY - value * radiusY * 2;\n            phase = oldWave ? oldWave.shape.phase\n                : (phase === 'auto' ? idx * Math.PI / 4 : phase);\n            var normalStyle = itemStyleModel.getItemStyle();\n            if (!normalStyle.fill) {\n                var seriesColor = seriesModel.get('color');\n                var id = idx % seriesColor.length;\n                normalStyle.fill = seriesColor[id];\n            }\n\n            var x = radiusX * 2;\n            var wave = new LiquidLayout({\n                shape: {\n                    waveLength: waveLength,\n                    radius: radiusX,\n                    radiusY: radiusY,\n                    cx: x,\n                    cy: 0,\n                    waterLevel: waterLevel,\n                    amplitude: amplitude,\n                    phase: phase,\n                    inverse: isInverse\n                },\n                style: normalStyle,\n                position: [cx, cy]\n            });\n            wave.shape._waterLevel = waterLevel;\n\n            var hoverStyle = itemModel.getModel('emphasis.itemStyle')\n                .getItemStyle();\n            hoverStyle.lineWidth = 0;\n            echarts.graphic.setHoverStyle(wave, hoverStyle);\n\n            // clip out the part outside the circle\n            var clip = getPath(radius, true);\n            // set fill for clipPath, otherwise it will not trigger hover event\n            clip.setStyle({\n                fill: 'white'\n            });\n            wave.setClipPath(clip);\n\n            return wave;\n        }\n\n        function setWaveAnimation(idx, wave, oldWave) {\n            var itemModel = data.getItemModel(idx);\n\n            var maxSpeed = itemModel.get('period');\n            var direction = itemModel.get('direction');\n\n            var value = data.get('value', idx);\n\n            var phase = itemModel.get('phase');\n            phase = oldWave ? oldWave.shape.phase\n                : (phase === 'auto' ? idx * Math.PI / 4 : phase);\n\n            var defaultSpeed = function (maxSpeed) {\n                var cnt = data.count();\n                return cnt === 0 ? maxSpeed : maxSpeed *\n                    (0.2 + (cnt - idx) / cnt * 0.8);\n            };\n            var speed = 0;\n            if (maxSpeed === 'auto') {\n                speed = defaultSpeed(5000);\n            }\n            else {\n                speed = typeof maxSpeed === 'function'\n                    ? maxSpeed(value, idx) : maxSpeed;\n            }\n\n            // phase for moving left/right\n            var phaseOffset = 0;\n            if (direction === 'right' || direction == null) {\n                phaseOffset = Math.PI;\n            }\n            else if (direction === 'left') {\n                phaseOffset = -Math.PI;\n            }\n            else if (direction === 'none') {\n                phaseOffset = 0;\n            }\n            else {\n                console.error('Illegal direction value for liquid fill.');\n            }\n\n            // wave animation of moving left/right\n            if (direction !== 'none' && itemModel.get('waveAnimation')) {\n                wave\n                    .animate('shape', true)\n                    .when(0, {\n                        phase: phase\n                    })\n                    .when(speed / 2, {\n                        phase: phaseOffset + phase\n                    })\n                    .when(speed, {\n                        phase: phaseOffset * 2 + phase\n                    })\n                    .during(function () {\n                        if (wavePath) {\n                            wavePath.dirty(true);\n                        }\n                    })\n                    .start();\n            }\n        }\n\n        /**\n         * text on wave\n         */\n        function getText(waves) {\n            var labelModel = itemModel.getModel('label');\n\n            function formatLabel() {\n                var formatted = seriesModel.getFormattedLabel(0, 'normal');\n                var defaultVal = (data.get('value', 0) * 100);\n                var defaultLabel = data.getName(0) || seriesModel.name;\n                if (!isNaN(defaultVal)) {\n                    defaultLabel = defaultVal.toFixed(0) + '%';\n                }\n                return formatted == null ? defaultLabel : formatted;\n            }\n\n            var textOption = {\n                z2: 10,\n                shape: {\n                    x: left,\n                    y: top,\n                    width: (isFillContainer ? radius[0] : radius) * 2,\n                    height: (isFillContainer ? radius[1] : radius) * 2\n                },\n                style: {\n                    fill: 'transparent',\n                    text: formatLabel(),\n                    textAlign: labelModel.get('align'),\n                    textVerticalAlign: labelModel.get('baseline')\n                },\n                silent: true\n            };\n\n            var outsideTextRect = new echarts.graphic.Rect(textOption);\n            var color = labelModel.get('color');\n            echarts.graphic.setText(outsideTextRect.style, labelModel, color);\n\n            var insideTextRect = new echarts.graphic.Rect(textOption);\n            var insColor = labelModel.get('insideColor');\n            echarts.graphic.setText(insideTextRect.style, labelModel, insColor);\n            insideTextRect.style.textFill = insColor;\n\n            var group = new echarts.graphic.Group();\n            group.add(outsideTextRect);\n            group.add(insideTextRect);\n\n            // clip out waves for insideText\n            var boundingCircle = getPath(radius, true);\n\n            wavePath = new echarts.graphic.CompoundPath({\n                shape: {\n                    paths: waves\n                },\n                position: [cx, cy]\n            });\n\n            wavePath.setClipPath(boundingCircle);\n            insideTextRect.setClipPath(wavePath);\n\n            return group;\n        }\n    },\n\n    dispose: function () {\n        // dispose nothing here\n    }\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"@ftf/zrender/lib/core/util\");\n\nvar graphic = require(\"./graphic\");\n\nvar BoundingRect = require(\"@ftf/zrender/lib/core/BoundingRect\");\n\nvar _text = require(\"@ftf/zrender/lib/contain/text\");\n\nvar calculateTextPosition = _text.calculateTextPosition;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Symbol factory\n\n/**\n * Triangle shape\n * @inner\n */\nvar Triangle = graphic.extendShape({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\n\nvar Diamond = graphic.extendShape({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\n\nvar Pin = graphic.extendShape({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3; // Height must be larger than width\n\n    var h = Math.max(w, shape.height);\n    var r = w / 2; // Dist on y with tangent point and circle center\n\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\n\nvar Arrow = graphic.extendShape({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path contructors\n * @type {Object.<string, module:zrender/graphic/Path>}\n */\n\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    // FIXME\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nvar symbolBuildProxies = {};\nzrUtil.each(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.extendShape({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function (out, style, rect) {\n    var res = calculateTextPosition(out, style, rect);\n    var shape = this.shape;\n\n    if (shape && shape.symbolType === 'pin' && style.textPosition === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n\n    return res;\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n}); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n    var symbolShape = this.shape;\n\n    if (symbolShape && symbolShape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff';\n    } else {\n      // FIXME  onlyStroke ?\n      symbolStyle.fill && (symbolStyle.fill = color);\n      symbolStyle.stroke && (symbolStyle.stroke = color);\n    }\n\n    this.dirty(false);\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n * @param {string} symbolType\n * @param {number} x\n * @param {number} y\n * @param {number} w\n * @param {number} h\n * @param {string} color\n * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n *                            for path and image only.\n */\n\n\nfunction createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n\n  var symbolPath;\n\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n\n  symbolPath.__isEmptyBrush = isEmpty;\n  symbolPath.setColor = symbolPathSetColor;\n  symbolPath.setColor(color);\n  return symbolPath;\n}\n\nexports.createSymbol = createSymbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"@ftf/zrender/lib/core/util\");\n\nvar pathTool = require(\"@ftf/zrender/lib/tool/path\");\n\nvar colorTool = require(\"@ftf/zrender/lib/tool/color\");\n\nvar matrix = require(\"@ftf/zrender/lib/core/matrix\");\n\nvar vector = require(\"@ftf/zrender/lib/core/vector\");\n\nvar Path = require(\"@ftf/zrender/lib/graphic/Path\");\n\nvar Transformable = require(\"@ftf/zrender/lib/mixin/Transformable\");\n\nvar ZImage = require(\"@ftf/zrender/lib/graphic/Image\");\n\nexports.Image = ZImage;\n\nvar Group = require(\"@ftf/zrender/lib/container/Group\");\n\nexports.Group = Group;\n\nvar Text = require(\"@ftf/zrender/lib/graphic/Text\");\n\nexports.Text = Text;\n\nvar Circle = require(\"@ftf/zrender/lib/graphic/shape/Circle\");\n\nexports.Circle = Circle;\n\nvar Sector = require(\"@ftf/zrender/lib/graphic/shape/Sector\");\n\nexports.Sector = Sector;\n\nvar Ring = require(\"@ftf/zrender/lib/graphic/shape/Ring\");\n\nexports.Ring = Ring;\n\nvar Polygon = require(\"@ftf/zrender/lib/graphic/shape/Polygon\");\n\nexports.Polygon = Polygon;\n\nvar Polyline = require(\"@ftf/zrender/lib/graphic/shape/Polyline\");\n\nexports.Polyline = Polyline;\n\nvar Rect = require(\"@ftf/zrender/lib/graphic/shape/Rect\");\n\nexports.Rect = Rect;\n\nvar Line = require(\"@ftf/zrender/lib/graphic/shape/Line\");\n\nexports.Line = Line;\n\nvar BezierCurve = require(\"@ftf/zrender/lib/graphic/shape/BezierCurve\");\n\nexports.BezierCurve = BezierCurve;\n\nvar Arc = require(\"@ftf/zrender/lib/graphic/shape/Arc\");\n\nexports.Arc = Arc;\n\nvar CompoundPath = require(\"@ftf/zrender/lib/graphic/CompoundPath\");\n\nexports.CompoundPath = CompoundPath;\n\nvar LinearGradient = require(\"@ftf/zrender/lib/graphic/LinearGradient\");\n\nexports.LinearGradient = LinearGradient;\n\nvar RadialGradient = require(\"@ftf/zrender/lib/graphic/RadialGradient\");\n\nexports.RadialGradient = RadialGradient;\n\nvar BoundingRect = require(\"@ftf/zrender/lib/core/BoundingRect\");\n\nexports.BoundingRect = BoundingRect;\n\nvar IncrementalDisplayable = require(\"@ftf/zrender/lib/graphic/IncrementalDisplayable\");\n\nexports.IncrementalDisplayable = IncrementalDisplayable;\n\nvar subPixelOptimizeUtil = require(\"@ftf/zrender/lib/graphic/helper/subPixelOptimize\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar EMPTY_OBJ = {};\nvar Z2_EMPHASIS_LIFT = 1; // key: label model property nane, value: style property name.\n\nvar CACHED_LABEL_STYLE_PROPERTIES = {\n  color: 'textFill',\n  textBorderColor: 'textStroke',\n  textBorderWidth: 'textStrokeWidth'\n};\nvar EMPHASIS = 'emphasis';\nvar NORMAL = 'normal'; // Reserve 0 as default.\n\nvar _highlightNextDigit = 1;\nvar _highlightKeyMap = {};\nvar _customShapeMap = {};\n/**\n * Extend shape with parameters\n */\n\nfunction extendShape(opts) {\n  return Path.extend(opts);\n}\n/**\n * Extend path\n */\n\n\nfunction extendPath(pathData, opts) {\n  return pathTool.extendFromString(pathData, opts);\n}\n/**\n * Register a user defined shape.\n * The shape class can be fetched by `getShapeClass`\n * This method will overwrite the registered shapes, including\n * the registered built-in shapes, if using the same `name`.\n * The shape can be used in `custom series` and\n * `graphic component` by declaring `{type: name}`.\n *\n * @param {string} name\n * @param {Object} ShapeClass Can be generated by `extendShape`.\n */\n\n\nfunction registerShape(name, ShapeClass) {\n  _customShapeMap[name] = ShapeClass;\n}\n/**\n * Find shape class registered by `registerShape`. Usually used in\n * fetching user defined shape.\n *\n * [Caution]:\n * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n * to use user registered shapes.\n * Because the built-in shape (see `getBuiltInShape`) will be registered by\n * `registerShape` by default. That enables users to get both built-in\n * shapes as well as the shapes belonging to themsleves. But users can overwrite\n * the built-in shapes by using names like 'circle', 'rect' via calling\n * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n * in case that it is overwritten by users, except that some features, like\n * `custom series`, `graphic component`, do it deliberately.\n *\n * (2) In the features like `custom series`, `graphic component`, the user input\n * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n * are reserved names, that is, if some user register a shape named `'image'`,\n * the shape will not be used. If we intending to add some more reserved names\n * in feature, that might bring break changes (disable some existing user shape\n * names). But that case probably rearly happen. So we dont make more mechanism\n * to resolve this issue here.\n *\n * @param {string} name\n * @return {Object} The shape class. If not found, return nothing.\n */\n\n\nfunction getShapeClass(name) {\n  if (_customShapeMap.hasOwnProperty(name)) {\n    return _customShapeMap[name];\n  }\n}\n/**\n * Create a path element from path data string\n * @param {string} pathData\n * @param {Object} opts\n * @param {module:zrender/core/BoundingRect} rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, path.getBoundingRect());\n    }\n\n    resizePath(path, rect);\n  }\n\n  return path;\n}\n/**\n * Create a image element from image url\n * @param {string} imageUrl image url\n * @param {Object} opts options\n * @param {module:zrender/core/BoundingRect} rect constrain rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makeImage(imageUrl, rect, layout) {\n  var path = new ZImage({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function (img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        path.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return path;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  {Object} rect         element local bounding box\n * @param  {Object} boundingRect constraint bounding box\n * @return {Object} element position containing x, y, width, and height\n */\n\n\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\n\nvar mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param {module:zrender/graphic/Path} path\n * @param {Object} rect\n */\n\nfunction resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x1]\n * @param {number} [param.shape.y1]\n * @param {number} [param.shape.x2]\n * @param {number} [param.shape.y2]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeLine(param) {\n  subPixelOptimizeUtil.subPixelOptimizeLine(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x]\n * @param {number} [param.shape.y]\n * @param {number} [param.shape.width]\n * @param {number} [param.shape.height]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeRect(param) {\n  subPixelOptimizeUtil.subPixelOptimizeRect(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth Should be nonnegative integer.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nvar subPixelOptimize = subPixelOptimizeUtil.subPixelOptimize;\n\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke !== 'none';\n} // Most lifted color are duplicated.\n\n\nvar liftedColorMap = zrUtil.createHashMap();\nvar liftedColorCount = 0;\n\nfunction liftColor(color) {\n  if (typeof color !== 'string') {\n    return color;\n  }\n\n  var liftedColor = liftedColorMap.get(color);\n\n  if (!liftedColor) {\n    liftedColor = colorTool.lift(color, -0.1);\n\n    if (liftedColorCount < 10000) {\n      liftedColorMap.set(color, liftedColor);\n      liftedColorCount++;\n    }\n  }\n\n  return liftedColor;\n}\n\nfunction cacheElementStl(el) {\n  if (!el.__hoverStlDirty) {\n    return;\n  }\n\n  el.__hoverStlDirty = false;\n  var hoverStyle = el.__hoverStl;\n\n  if (!hoverStyle) {\n    el.__cachedNormalStl = el.__cachedNormalZ2 = null;\n    return;\n  }\n\n  var normalStyle = el.__cachedNormalStl = {};\n  el.__cachedNormalZ2 = el.z2;\n  var elStyle = el.style;\n\n  for (var name in hoverStyle) {\n    // See comment in `singleEnterEmphasis`.\n    if (hoverStyle[name] != null) {\n      normalStyle[name] = elStyle[name];\n    }\n  } // Always cache fill and stroke to normalStyle for lifting color.\n\n\n  normalStyle.fill = elStyle.fill;\n  normalStyle.stroke = elStyle.stroke;\n}\n\nfunction singleEnterEmphasis(el) {\n  var hoverStl = el.__hoverStl;\n\n  if (!hoverStl || el.__highlighted) {\n    return;\n  }\n\n  var zr = el.__zr;\n  var useHoverLayer = el.useHoverLayer && zr && zr.painter.type === 'canvas';\n  el.__highlighted = useHoverLayer ? 'layer' : 'plain';\n\n  if (el.isGroup || !zr && el.useHoverLayer) {\n    return;\n  }\n\n  var elTarget = el;\n  var targetStyle = el.style;\n\n  if (useHoverLayer) {\n    elTarget = zr.addHover(el);\n    targetStyle = elTarget.style;\n  }\n\n  rollbackDefaultTextStyle(targetStyle);\n\n  if (!useHoverLayer) {\n    cacheElementStl(elTarget);\n  } // styles can be:\n  // {\n  //    label: {\n  //        show: false,\n  //        position: 'outside',\n  //        fontSize: 18\n  //    },\n  //    emphasis: {\n  //        label: {\n  //            show: true\n  //        }\n  //    }\n  // },\n  // where properties of `emphasis` may not appear in `normal`. We previously use\n  // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n  // But consider rich text and setOption in merge mode, it is impossible to cover\n  // all properties in merge. So we use merge mode when setting style here.\n  // But we choose the merge strategy that only properties that is not `null/undefined`.\n  // Because when making a textStyle (espacially rich text), it is not easy to distinguish\n  // `hasOwnProperty` and `null/undefined` in code, so we trade them as the same for simplicity.\n  // But this strategy brings a trouble that `null/undefined` can not be used to remove\n  // style any more in `emphasis`. Users can both set properties directly on normal and\n  // emphasis to avoid this issue, or we might support `'none'` for this case if required.\n\n\n  targetStyle.extendFrom(hoverStl);\n  setDefaultHoverFillStroke(targetStyle, hoverStl, 'fill');\n  setDefaultHoverFillStroke(targetStyle, hoverStl, 'stroke');\n  applyDefaultTextStyle(targetStyle);\n\n  if (!useHoverLayer) {\n    el.dirty(false);\n    el.z2 += Z2_EMPHASIS_LIFT;\n  }\n}\n\nfunction setDefaultHoverFillStroke(targetStyle, hoverStyle, prop) {\n  if (!hasFillOrStroke(hoverStyle[prop]) && hasFillOrStroke(targetStyle[prop])) {\n    targetStyle[prop] = liftColor(targetStyle[prop]);\n  }\n}\n\nfunction singleEnterNormal(el) {\n  var highlighted = el.__highlighted;\n\n  if (!highlighted) {\n    return;\n  }\n\n  el.__highlighted = false;\n\n  if (el.isGroup) {\n    return;\n  }\n\n  if (highlighted === 'layer') {\n    el.__zr && el.__zr.removeHover(el);\n  } else {\n    var style = el.style;\n    var normalStl = el.__cachedNormalStl;\n\n    if (normalStl) {\n      rollbackDefaultTextStyle(style);\n      el.setStyle(normalStl);\n      applyDefaultTextStyle(style);\n    } // `__cachedNormalZ2` will not be reset if calling `setElementHoverStyle`\n    // when `el` is on emphasis state. So here by comparing with 1, we try\n    // hard to make the bug case rare.\n\n\n    var normalZ2 = el.__cachedNormalZ2;\n\n    if (normalZ2 != null && el.z2 - normalZ2 === Z2_EMPHASIS_LIFT) {\n      el.z2 = normalZ2;\n    }\n  }\n}\n\nfunction traverseUpdate(el, updater, commonParam) {\n  // If root is group, also enter updater for `highDownOnUpdate`.\n  var fromState = NORMAL;\n  var toState = NORMAL;\n  var trigger; // See the rule of `highDownOnUpdate` on `graphic.setAsHighDownDispatcher`.\n\n  el.__highlighted && (fromState = EMPHASIS, trigger = true);\n  updater(el, commonParam);\n  el.__highlighted && (toState = EMPHASIS, trigger = true);\n  el.isGroup && el.traverse(function (child) {\n    !child.isGroup && updater(child, commonParam);\n  });\n  trigger && el.__highDownOnUpdate && el.__highDownOnUpdate(fromState, toState);\n}\n/**\n * Set hover style (namely \"emphasis style\") of element, based on the current\n * style of the given `el`.\n * This method should be called after all of the normal styles have been adopted\n * to the `el`. See the reason on `setHoverStyle`.\n *\n * @param {module:zrender/Element} el Should not be `zrender/container/Group`.\n * @param {Object} [el.hoverStyle] Can be set on el or its descendants,\n *        e.g., `el.hoverStyle = ...; graphic.setHoverStyle(el); `.\n *        Often used when item group has a label element and it's hoverStyle is different.\n * @param {Object|boolean} [hoverStl] The specified hover style.\n *        If set as `false`, disable the hover style.\n *        Similarly, The `el.hoverStyle` can alse be set\n *        as `false` to disable the hover style.\n *        Otherwise, use the default hover style if not provided.\n */\n\n\nfunction setElementHoverStyle(el, hoverStl) {\n  // For performance consideration, it might be better to make the \"hover style\" only the\n  // difference properties from the \"normal style\", but not a entire copy of all styles.\n  hoverStl = el.__hoverStl = hoverStl !== false && (el.hoverStyle || hoverStl || {});\n  el.__hoverStlDirty = true; // FIXME\n  // It is not completely right to save \"normal\"/\"emphasis\" flag on elements.\n  // It probably should be saved on `data` of series. Consider the cases:\n  // (1) A highlighted elements are moved out of the view port and re-enter\n  // again by dataZoom.\n  // (2) call `setOption` and replace elements totally when they are highlighted.\n\n  if (el.__highlighted) {\n    // Consider the case:\n    // The styles of a highlighted `el` is being updated. The new \"emphasis style\"\n    // should be adapted to the `el`. Notice here new \"normal styles\" should have\n    // been set outside and the cached \"normal style\" is out of date.\n    el.__cachedNormalStl = null; // Do not clear `__cachedNormalZ2` here, because setting `z2` is not a constraint\n    // of this method. In most cases, `z2` is not set and hover style should be able\n    // to rollback. Of course, that would bring bug, but only in a rare case, see\n    // `doSingleLeaveHover` for details.\n\n    singleEnterNormal(el);\n    singleEnterEmphasis(el);\n  }\n}\n\nfunction onElementMouseOver(e) {\n  !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !this.__highByOuter && traverseUpdate(this, singleEnterEmphasis);\n}\n\nfunction onElementMouseOut(e) {\n  !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !this.__highByOuter && traverseUpdate(this, singleEnterNormal);\n}\n\nfunction onElementEmphasisEvent(highlightDigit) {\n  this.__highByOuter |= 1 << (highlightDigit || 0);\n  traverseUpdate(this, singleEnterEmphasis);\n}\n\nfunction onElementNormalEvent(highlightDigit) {\n  !(this.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdate(this, singleEnterNormal);\n}\n\nfunction shouldSilent(el, e) {\n  return el.__highDownSilentOnTouch && e.zrByTouch;\n}\n/**\n * Set hover style (namely \"emphasis style\") of element,\n * based on the current style of the given `el`.\n *\n * (1)\n * **CONSTRAINTS** for this method:\n * <A> This method MUST be called after all of the normal styles having been adopted\n * to the `el`.\n * <B> The input `hoverStyle` (that is, \"emphasis style\") MUST be the subset of the\n * \"normal style\" having been set to the el.\n * <C> `color` MUST be one of the \"normal styles\" (because color might be lifted as\n * a default hover style).\n *\n * The reason: this method treat the current style of the `el` as the \"normal style\"\n * and cache them when enter/update the \"emphasis style\". Consider the case: the `el`\n * is in \"emphasis\" state and `setOption`/`dispatchAction` trigger the style updating\n * logic, where the el should shift from the original emphasis style to the new\n * \"emphasis style\" and should be able to \"downplay\" back to the new \"normal style\".\n *\n * Indeed, it is error-prone to make a interface has so many constraints, but I have\n * not found a better solution yet to fit the backward compatibility, performance and\n * the current programming style.\n *\n * (2)\n * Call the method for a \"root\" element once. Do not call it for each descendants.\n * If the descendants elemenets of a group has itself hover style different from the\n * root group, we can simply mount the style on `el.hoverStyle` for them, but should\n * not call this method for them.\n *\n * (3) These input parameters can be set directly on `el`:\n *\n * @param {module:zrender/Element} el\n * @param {Object} [el.hoverStyle] See `graphic.setElementHoverStyle`.\n * @param {boolean} [el.highDownSilentOnTouch=false] See `graphic.setAsHighDownDispatcher`.\n * @param {Function} [el.highDownOnUpdate] See `graphic.setAsHighDownDispatcher`.\n * @param {Object|boolean} [hoverStyle] See `graphic.setElementHoverStyle`.\n */\n\n\nfunction setHoverStyle(el, hoverStyle) {\n  setAsHighDownDispatcher(el, true);\n  traverseUpdate(el, setElementHoverStyle, hoverStyle);\n}\n/**\n * @param {module:zrender/Element} el\n * @param {Function} [el.highDownOnUpdate] Called when state updated.\n *        Since `setHoverStyle` has the constraint that it must be called after\n *        all of the normal style updated, `highDownOnUpdate` is not needed to\n *        trigger if both `fromState` and `toState` is 'normal', and needed to\n *        trigger if both `fromState` and `toState` is 'emphasis', which enables\n *        to sync outside style settings to \"emphasis\" state.\n *        @this {string} This dispatcher `el`.\n *        @param {string} fromState Can be \"normal\" or \"emphasis\".\n *               `fromState` might equal to `toState`,\n *               for example, when this method is called when `el` is\n *               on \"emphasis\" state.\n *        @param {string} toState Can be \"normal\" or \"emphasis\".\n *\n *        FIXME\n *        CAUTION: Do not expose `highDownOnUpdate` outside echarts.\n *        Because it is not a complete solution. The update\n *        listener should not have been mount in element,\n *        and the normal/emphasis state should not have\n *        mantained on elements.\n *\n * @param {boolean} [el.highDownSilentOnTouch=false]\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conveniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, `highDownSilentOnTouch` should be used to disable\n *        hover-highlight on touch device.\n * @param {boolean} [asDispatcher=true] If `false`, do not set as \"highDownDispatcher\".\n */\n\n\nfunction setAsHighDownDispatcher(el, asDispatcher) {\n  var disable = asDispatcher === false; // Make `highDownSilentOnTouch` and `highDownOnUpdate` only work after\n  // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n\n  el.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n  el.__highDownOnUpdate = el.highDownOnUpdate; // Simple optimize, since this method might be\n  // called for each elements of a group in some cases.\n\n  if (!disable || el.__highDownDispatcher) {\n    var method = disable ? 'off' : 'on'; // Duplicated function will be auto-ignored, see Eventful.js.\n\n    el[method]('mouseover', onElementMouseOver)[method]('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually by API or other components like hover link.\n\n    el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent); // Also keep previous record.\n\n    el.__highByOuter = el.__highByOuter || 0;\n    el.__highDownDispatcher = !disable;\n  }\n}\n/**\n * @param {module:zrender/src/Element} el\n * @return {boolean}\n */\n\n\nfunction isHighDownDispatcher(el) {\n  return !!(el && el.__highDownDispatcher);\n}\n/**\n * Support hightlight/downplay record on each elements.\n * For the case: hover highlight/downplay (legend, visualMap, ...) and\n * user triggerred hightlight/downplay should not conflict.\n * Only all of the highlightDigit cleared, return to normal.\n * @param {string} highlightKey\n * @return {number} highlightDigit\n */\n\n\nfunction getHighlightDigit(highlightKey) {\n  var highlightDigit = _highlightKeyMap[highlightKey];\n\n  if (highlightDigit == null && _highlightNextDigit <= 32) {\n    highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n  }\n\n  return highlightDigit;\n}\n/**\n * See more info in `setTextStyleCommon`.\n * @param {Object|module:zrender/graphic/Style} normalStyle\n * @param {Object} emphasisStyle\n * @param {module:echarts/model/Model} normalModel\n * @param {module:echarts/model/Model} emphasisModel\n * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n * @param {string|Function} [opt.defaultText]\n * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n * @param {number} [opt.labelDataIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n * @param {number} [opt.labelDimIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n * @param {string} [opt.labelProp] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n * @param {Object} [normalSpecified]\n * @param {Object} [emphasisSpecified]\n */\n\n\nfunction setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n  opt = opt || EMPTY_OBJ;\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex;\n  var labelProp = opt.labelProp; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n  // is not supported util someone requests.\n\n  var showNormal = normalModel.getShallow('show');\n  var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n  // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n  // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n  var baseText;\n\n  if (showNormal || showEmphasis) {\n    if (labelFetcher) {\n      baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, labelProp);\n    }\n\n    if (baseText == null) {\n      baseText = zrUtil.isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt) : opt.defaultText;\n    }\n  }\n\n  var normalStyleText = showNormal ? baseText : null;\n  var emphasisStyleText = showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex, labelProp) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n  if (normalStyleText != null || emphasisStyleText != null) {\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    // If we set default values on `emphasisStyle`, consider case:\n    // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n    // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n    // Then the 'red' will not work on emphasis.\n    setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n    setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n  }\n\n  normalStyle.text = normalStyleText;\n  emphasisStyle.text = emphasisStyleText;\n}\n/**\n * Modify label style manually.\n * Only works after `setLabelStyle` and `setElementHoverStyle` called.\n *\n * @param {module:zrender/src/Element} el\n * @param {Object} [normalStyleProps] optional\n * @param {Object} [emphasisStyleProps] optional\n */\n\n\nfunction modifyLabelStyle(el, normalStyleProps, emphasisStyleProps) {\n  var elStyle = el.style;\n\n  if (normalStyleProps) {\n    rollbackDefaultTextStyle(elStyle);\n    el.setStyle(normalStyleProps);\n    applyDefaultTextStyle(elStyle);\n  }\n\n  elStyle = el.__hoverStl;\n\n  if (emphasisStyleProps && elStyle) {\n    rollbackDefaultTextStyle(elStyle);\n    zrUtil.extend(elStyle, emphasisStyleProps);\n    applyDefaultTextStyle(elStyle);\n  }\n}\n/**\n * Set basic textStyle properties.\n * See more info in `setTextStyleCommon`.\n * @param {Object|module:zrender/graphic/Style} textStyle\n * @param {module:echarts/model/Model} model\n * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n * @param {boolean} [isEmphasis]\n */\n\n\nfunction setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n  setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n  specifiedTextStyle && zrUtil.extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n  return textStyle;\n}\n/**\n * Set text option in the style.\n * See more info in `setTextStyleCommon`.\n * @deprecated\n * @param {Object} textStyle\n * @param {module:echarts/model/Model} labelModel\n * @param {string|boolean} defaultColor Default text color.\n *        If set as false, it will be processed as a emphasis style.\n */\n\n\nfunction setText(textStyle, labelModel, defaultColor) {\n  var opt = {\n    isRectText: true\n  };\n  var isEmphasis;\n\n  if (defaultColor === false) {\n    isEmphasis = true;\n  } else {\n    // Support setting color as 'auto' to get visual color.\n    opt.autoColor = defaultColor;\n  }\n\n  setTextStyleCommon(textStyle, labelModel, opt, isEmphasis); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n}\n/**\n * The uniform entry of set text style, that is, retrieve style definitions\n * from `model` and set to `textStyle` object.\n *\n * Never in merge mode, but in overwrite mode, that is, all of the text style\n * properties will be set. (Consider the states of normal and emphasis and\n * default value can be adopted, merge would make the logic too complicated\n * to manage.)\n *\n * The `textStyle` object can either be a plain object or an instance of\n * `zrender/src/graphic/Style`, and either be the style of normal or emphasis.\n * After this mothod called, the `textStyle` object can then be used in\n * `el.setStyle(textStyle)` or `el.hoverStyle = textStyle`.\n *\n * Default value will be adopted and `insideRollbackOpt` will be created.\n * See `applyDefaultTextStyle` `rollbackDefaultTextStyle` for more details.\n *\n * opt: {\n *      disableBox: boolean, Whether diable drawing box of block (outer most).\n *      isRectText: boolean,\n *      autoColor: string, specify a color when color is 'auto',\n *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n *              If autoColor specified, it is used as default textFill.\n *      useInsideStyle:\n *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n *                  if `textFill` is not specified.\n *              `false`: Do not use inside style.\n *              `null/undefined`: use inside style if `isRectText` is true and\n *                  `textFill` is not specified and textPosition contains `'inside'`.\n *      forceRich: boolean\n * }\n */\n\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n\n  if (opt.isRectText) {\n    var textPosition;\n\n    if (opt.getTextPosition) {\n      textPosition = opt.getTextPosition(textStyleModel, isEmphasis);\n    } else {\n      textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n      // in bar series, and magric type should be considered.\n\n      textPosition === 'outside' && (textPosition = 'top');\n    }\n\n    textStyle.textPosition = textPosition;\n    textStyle.textOffset = textStyleModel.getShallow('offset');\n    var labelRotate = textStyleModel.getShallow('rotate');\n    labelRotate != null && (labelRotate *= Math.PI / 180);\n    textStyle.textRotation = labelRotate;\n    textStyle.textDistance = zrUtil.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n  }\n\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name in richItemNames) {\n      if (richItemNames.hasOwnProperty(name)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n        // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n        // the default color `'blue'` will not be adopted if no color declared in `rich`.\n        // That might confuses users. So probably we should put `textStyleModel` as the\n        // root ancestor of the `richTextStyle`. But that would be a break change.\n\n        setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n      }\n    }\n  }\n\n  textStyle.rich = richResult;\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n  if (opt.forceRich && !opt.textStyle) {\n    opt.textStyle = {};\n  }\n\n  return textStyle;\n} // Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             rich: {\n//                 // no 'a' here but using parent 'a'.\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n\n\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n\n      for (var name in rich) {\n        if (rich.hasOwnProperty(name)) {\n          richItemNameMap[name] = 1;\n        }\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n  textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n  textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n  textStyle.textStrokeWidth = zrUtil.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (!isEmphasis) {\n    if (isBlock) {\n      textStyle.insideRollbackOpt = opt;\n      applyDefaultTextStyle(textStyle);\n    } // Set default finally.\n\n\n    if (textStyle.textFill == null) {\n      textStyle.textFill = opt.autoColor;\n    }\n  } // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n\n\n  textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n  textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n  textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n  textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n  textStyle.textAlign = textStyleModel.getShallow('align');\n  textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n  textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n  textStyle.textWidth = textStyleModel.getShallow('width');\n  textStyle.textHeight = textStyleModel.getShallow('height');\n  textStyle.textTag = textStyleModel.getShallow('tag');\n\n  if (!isBlock || !opt.disableBox) {\n    textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n    textStyle.textPadding = textStyleModel.getShallow('padding');\n    textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n    textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n    textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n    textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n    textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n    textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n    textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n  }\n\n  textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n  textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n  textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n  textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n}\n\nfunction getAutoColor(color, opt) {\n  return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n}\n/**\n * Give some default value to the input `textStyle` object, based on the current settings\n * in this `textStyle` object.\n *\n * The Scenario:\n * when text position is `inside` and `textFill` is not specified, we show\n * text border by default for better view. But it should be considered that text position\n * might be changed when hovering or being emphasis, where the `insideRollback` is used to\n * restore the style.\n *\n * Usage (& NOTICE):\n * When a style object (eithor plain object or instance of `zrender/src/graphic/Style`) is\n * about to be modified on its text related properties, `rollbackDefaultTextStyle` should\n * be called before the modification and `applyDefaultTextStyle` should be called after that.\n * (For the case that all of the text related properties is reset, like `setTextStyleCommon`\n * does, `rollbackDefaultTextStyle` is not needed to be called).\n */\n\n\nfunction applyDefaultTextStyle(textStyle) {\n  var textPosition = textStyle.textPosition;\n  var opt = textStyle.insideRollbackOpt;\n  var insideRollback;\n\n  if (opt && textStyle.textFill == null) {\n    var autoColor = opt.autoColor;\n    var isRectText = opt.isRectText;\n    var useInsideStyle = opt.useInsideStyle;\n    var useInsideStyleCache = useInsideStyle !== false && (useInsideStyle === true || isRectText && textPosition // textPosition can be [10, 30]\n    && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0);\n    var useAutoColorCache = !useInsideStyleCache && autoColor != null; // All of the props declared in `CACHED_LABEL_STYLE_PROPERTIES` are to be cached.\n\n    if (useInsideStyleCache || useAutoColorCache) {\n      insideRollback = {\n        textFill: textStyle.textFill,\n        textStroke: textStyle.textStroke,\n        textStrokeWidth: textStyle.textStrokeWidth\n      };\n    }\n\n    if (useInsideStyleCache) {\n      textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n      if (textStyle.textStroke == null) {\n        textStyle.textStroke = autoColor;\n        textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n      }\n    }\n\n    if (useAutoColorCache) {\n      textStyle.textFill = autoColor;\n    }\n  } // Always set `insideRollback`, so that the previous one can be cleared.\n\n\n  textStyle.insideRollback = insideRollback;\n}\n/**\n * Consider the case: in a scatter,\n * label: {\n *     normal: {position: 'inside'},\n *     emphasis: {position: 'top'}\n * }\n * In the normal state, the `textFill` will be set as '#fff' for pretty view (see\n * `applyDefaultTextStyle`), but when switching to emphasis state, the `textFill`\n * should be retured to 'autoColor', but not keep '#fff'.\n */\n\n\nfunction rollbackDefaultTextStyle(style) {\n  var insideRollback = style.insideRollback;\n\n  if (insideRollback) {\n    // Reset all of the props in `CACHED_LABEL_STYLE_PROPERTIES`.\n    style.textFill = insideRollback.textFill;\n    style.textStroke = insideRollback.textStroke;\n    style.textStrokeWidth = insideRollback.textStrokeWidth;\n    style.insideRollback = null;\n  }\n}\n\nfunction getFont(opt, ecModel) {\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n  return zrUtil.trim([// FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\n\nfunction animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n  if (typeof dataIndex === 'function') {\n    cb = dataIndex;\n    dataIndex = null;\n  } // Do not check 'animation' property directly here. Consider this case:\n  // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n  // but its parent model (`seriesModel`) does.\n\n\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n  if (animationEnabled) {\n    var postfix = isUpdate ? 'Update' : '';\n    var duration = animatableModel.getShallow('animationDuration' + postfix);\n    var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n    var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n    if (typeof animationDelay === 'function') {\n      animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n    }\n\n    if (typeof duration === 'function') {\n      duration = duration(dataIndex);\n    }\n\n    duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n  } else {\n    el.stopAnimation();\n    el.attr(props);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} [cb]\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\n\n\nfunction updateProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} cb\n */\n\n\nfunction initProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param {module:zrender/mixin/Transformable} target\n * @param {module:zrender/mixin/Transformable} [ancestor]\n */\n\n\nfunction getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param {Array.<number>} target [x, y]\n * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param {boolean=} invert Whether use invert matrix.\n * @return {Array.<number>} [x, y]\n */\n\n\nfunction applyTransform(target, transform, invert) {\n  if (transform && !zrUtil.isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param {string} direction 'left' 'right' 'top' 'bottom'\n * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param {boolean=} invert Whether use invert matrix.\n * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n */\n\n\nfunction transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\n\n\nfunction groupTransition(g1, g2, animatableModel, cb) {\n  if (!g1 || !g2) {\n    return;\n  }\n\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n\n  function getAnimatableProps(el) {\n    var obj = {\n      position: vector.clone(el.position),\n      rotation: el.rotation\n    };\n\n    if (el.shape) {\n      obj.shape = zrUtil.extend({}, el.shape);\n    }\n\n    return obj;\n  }\n\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (!el.isGroup && el.anid) {\n      var oldEl = elMap1[el.anid];\n\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, el.dataIndex);\n      } // else {\n      //     if (el.previousProps) {\n      //         graphic.updateProps\n      //     }\n      // }\n\n    }\n  });\n}\n/**\n * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n * @param {Object} rect {x, y, width, height}\n * @return {Array.<Array.<number>>} A new clipped points.\n */\n\n\nfunction clipPointsByRect(points, rect) {\n  // FIXME: this way migth be incorrect when grpahic clipped by a corner.\n  // and when element have border.\n  return zrUtil.map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * @param {Object} targetRect {x, y, width, height}\n * @param {Object} rect {x, y, width, height}\n * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n */\n\n\nfunction clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\n  // should be painted. So return undefined.\n\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\n/**\n * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n * @param {Object} [rect] {x, y, width, height}\n * @return {module:zrender/Element} Icon path or image element.\n */\n\n\nfunction createIcon(iconStr, opt, rect) {\n  opt = zrUtil.extend({\n    rectHover: true\n  }, opt);\n  var style = opt.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), zrUtil.defaults(style, rect), new ZImage(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n  }\n}\n/**\n * Return `true` if the given line (line `a`) and the given polygon\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n *\n * @param {number} a1x\n * @param {number} a1y\n * @param {number} a2x\n * @param {number} a2y\n * @param {Array.<Array.<number>>} points Points of the polygon.\n * @return {boolean}\n */\n\n\nfunction linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n}\n/**\n * Return `true` if the given two lines (line `a` and line `b`)\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n *\n * @param {number} a1x\n * @param {number} a1y\n * @param {number} a2x\n * @param {number} a2y\n * @param {number} b1x\n * @param {number} b1y\n * @param {number} b2x\n * @param {number} b2y\n * @return {boolean}\n */\n\n\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n  var mx = a2x - a1x;\n  var my = a2y - a1y;\n  var nx = b2x - b1x;\n  var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\n  //     exising `k` such that `vec_m = k  vec_n`, equivalent to `vec_m X vec_n = 0`.\n\n  var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n\n  if (nearZero(nmCrossProduct)) {\n    return false;\n  } // `vec_m` and `vec_n` are intersect iff\n  //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n  //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n  //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n\n\n  var b1a1x = a1x - b1x;\n  var b1a1y = a1y - b1y;\n  var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n\n  if (q < 0 || q > 1) {\n    return false;\n  }\n\n  var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n\n  if (p < 0 || p > 1) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Cross product of 2-dimension vector.\n */\n\n\nfunction crossProduct2d(x1, y1, x2, y2) {\n  return x1 * y2 - x2 * y1;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n} // Register built-in shapes. These shapes might be overwirtten\n// by users, although we do not recommend that.\n\n\nregisterShape('circle', Circle);\nregisterShape('sector', Sector);\nregisterShape('ring', Ring);\nregisterShape('polygon', Polygon);\nregisterShape('polyline', Polyline);\nregisterShape('rect', Rect);\nregisterShape('line', Line);\nregisterShape('bezierCurve', BezierCurve);\nregisterShape('arc', Arc);\nexports.Z2_EMPHASIS_LIFT = Z2_EMPHASIS_LIFT;\nexports.CACHED_LABEL_STYLE_PROPERTIES = CACHED_LABEL_STYLE_PROPERTIES;\nexports.extendShape = extendShape;\nexports.extendPath = extendPath;\nexports.registerShape = registerShape;\nexports.getShapeClass = getShapeClass;\nexports.makePath = makePath;\nexports.makeImage = makeImage;\nexports.mergePath = mergePath;\nexports.resizePath = resizePath;\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;\nexports.setElementHoverStyle = setElementHoverStyle;\nexports.setHoverStyle = setHoverStyle;\nexports.setAsHighDownDispatcher = setAsHighDownDispatcher;\nexports.isHighDownDispatcher = isHighDownDispatcher;\nexports.getHighlightDigit = getHighlightDigit;\nexports.setLabelStyle = setLabelStyle;\nexports.modifyLabelStyle = modifyLabelStyle;\nexports.setTextStyle = setTextStyle;\nexports.setText = setText;\nexports.getFont = getFont;\nexports.updateProps = updateProps;\nexports.initProps = initProps;\nexports.getTransform = getTransform;\nexports.applyTransform = applyTransform;\nexports.transformDirection = transformDirection;\nexports.groupTransition = groupTransition;\nexports.clipPointsByRect = clipPointsByRect;\nexports.clipRectByRect = clipRectByRect;\nexports.createIcon = createIcon;\nexports.linePolygonIntersect = linePolygonIntersect;\nexports.lineLineIntersect = lineLineIntersect;","var Path = require(\"../graphic/Path\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar transformPath = require(\"./transformPath\");\n\n// command chars\n// var cc = [\n//     'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n//     'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n// ];\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\n\nvar vMag = function (v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\n\nvar vRatio = function (u, v) {\n  return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n};\n\nvar vAngle = function (u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n};\n\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n  var psi = psiDeg * (PI / 180.0);\n  var xp = mathCos(psi) * (x1 - x2) / 2.0 + mathSin(psi) * (y1 - y2) / 2.0;\n  var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0 + mathCos(psi) * (y1 - y2) / 2.0;\n  var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= mathSqrt(lambda);\n    ry *= mathSqrt(lambda);\n  }\n\n  var f = (fa === fs ? -1 : 1) * mathSqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n  var cxp = f * rx * yp / ry;\n  var cyp = f * -ry * xp / rx;\n  var cx = (x1 + x2) / 2.0 + mathCos(psi) * cxp - mathSin(psi) * cyp;\n  var cy = (y1 + y2) / 2.0 + mathSin(psi) * cxp + mathCos(psi) * cyp;\n  var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n  var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  var dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = PI;\n  }\n\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n\n  if (fs === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * PI;\n  }\n\n  if (fs === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * PI;\n  }\n\n  path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\n\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig; // Consider case:\n// (1) delimiter can be comma or space, where continuous commas\n// or spaces should be seen as one comma.\n// (2) value can be like:\n// '2e-4', 'l.5.9' (ignore 0), 'M-10-10', 'l-2.43e-1,34.9983',\n// 'l-.5E1,54', '121-23-44-11' (no delimiter)\n\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g; // var valueSplitReg = /[\\s,]+/;\n\nfunction createPathProxyFromString(data) {\n  if (!data) {\n    return new PathProxy();\n  } // var data = data.replace(/-/g, ' -')\n  //     .replace(/  /g, ' ')\n  //     .replace(/ /g, ',')\n  //     .replace(/,,/g, ',');\n  // var n;\n  // create pipes so that we can split the data\n  // for (n = 0; n < cc.length; n++) {\n  //     cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n  // }\n  // data = data.replace(/-/g, ',-');\n  // create array\n  // var arr = cs.split('|');\n  // init context point\n\n\n  var cpx = 0;\n  var cpy = 0;\n  var subpathX = cpx;\n  var subpathY = cpy;\n  var prevCmd;\n  var path = new PathProxy();\n  var CMD = PathProxy.CMD; // commandReg.lastIndex = 0;\n  // var cmdResult;\n  // while ((cmdResult = commandReg.exec(data)) != null) {\n  //     var cmdStr = cmdResult[1];\n  //     var cmdContent = cmdResult[2];\n\n  var cmdList = data.match(commandReg);\n\n  for (var l = 0; l < cmdList.length; l++) {\n    var cmdText = cmdList[l];\n    var cmdStr = cmdText.charAt(0);\n    var cmd; // String#split is faster a little bit than String#replace or RegExp#exec.\n    // var p = cmdContent.split(valueSplitReg);\n    // var pLen = 0;\n    // for (var i = 0; i < p.length; i++) {\n    //     // '' and other invalid str => NaN\n    //     var val = parseFloat(p[i]);\n    //     !isNaN(val) && (p[pLen++] = val);\n    // }\n\n    var p = cmdText.match(numberReg) || [];\n    var pLen = p.length;\n\n    for (var i = 0; i < pLen; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n\n    var off = 0;\n\n    while (off < pLen) {\n      var ctlPtx;\n      var ctlPty;\n      var rx;\n      var ry;\n      var psi;\n      var fa;\n      var fs;\n      var x1 = cpx;\n      var y1 = cpy; // convert l, H, h, V, and v to L\n\n      switch (cmdStr) {\n        case 'l':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'L':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'm':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          subpathX = cpx;\n          subpathY = cpy;\n          cmdStr = 'l';\n          break;\n\n        case 'M':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          subpathX = cpx;\n          subpathY = cpy;\n          cmdStr = 'L';\n          break;\n\n        case 'h':\n          cpx += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'H':\n          cpx = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'v':\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'V':\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'C':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n          cpx = p[off - 2];\n          cpy = p[off - 1];\n          break;\n\n        case 'c':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n          cpx += p[off - 2];\n          cpy += p[off - 1];\n          break;\n\n        case 'S':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 's':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = cpx + p[off++];\n          y1 = cpy + p[off++];\n          cpx += p[off++];\n          cpy += p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 'Q':\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'q':\n          x1 = p[off++] + cpx;\n          y1 = p[off++] + cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'T':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 't':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 'A':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n\n        case 'a':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n      }\n    }\n\n    if (cmdStr === 'z' || cmdStr === 'Z') {\n      cmd = CMD.Z;\n      path.addData(cmd); // z may be in the middle of the path.\n\n      cpx = subpathX;\n      cpy = subpathY;\n    }\n\n    prevCmd = cmd;\n  }\n\n  path.toStatic();\n  return path;\n} // TODO Optimize double memory cost problem\n\n\nfunction createPathOptions(str, opts) {\n  var pathProxy = createPathProxyFromString(str);\n  opts = opts || {};\n\n  opts.buildPath = function (path) {\n    if (path.setData) {\n      path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    } else {\n      var ctx = path;\n      pathProxy.rebuildPath(ctx);\n    }\n  };\n\n  opts.applyTransform = function (m) {\n    transformPath(pathProxy, m);\n    this.dirty(true);\n  };\n\n  return opts;\n}\n/**\n * Create a Path object from path string data\n * http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {Object} opts Other options\n */\n\n\nfunction createFromString(str, opts) {\n  return new Path(createPathOptions(str, opts));\n}\n/**\n * Create a Path class from path string data\n * @param  {string} str\n * @param  {Object} opts Other options\n */\n\n\nfunction extendFromString(str, opts) {\n  return Path.extend(createPathOptions(str, opts));\n}\n/**\n * Merge multiple paths\n */\n// TODO Apply transform\n// TODO stroke dash\n// TODO Optimize double memory cost problem\n\n\nfunction mergePath(pathEls, opts) {\n  var pathList = [];\n  var len = pathEls.length;\n\n  for (var i = 0; i < len; i++) {\n    var pathEl = pathEls[i];\n\n    if (!pathEl.path) {\n      pathEl.createPathProxy();\n    }\n\n    if (pathEl.__dirtyPath) {\n      pathEl.buildPath(pathEl.path, pathEl.shape, true);\n    }\n\n    pathList.push(pathEl.path);\n  }\n\n  var pathBundle = new Path(opts); // Need path proxy.\n\n  pathBundle.createPathProxy();\n\n  pathBundle.buildPath = function (path) {\n    path.appendPath(pathList); // Svg and vml renderer don't have context\n\n    var ctx = path.getContext();\n\n    if (ctx) {\n      path.rebuildPath(ctx);\n    }\n  };\n\n  return pathBundle;\n}\n\nexports.createFromString = createFromString;\nexports.extendFromString = extendFromString;\nexports.mergePath = mergePath;","var fixShadow = require(\"./helper/fixShadow\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function (opts) {\n  this.extendFrom(opts, false);\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  } // Fix NaN when rect is Infinity\n\n\n  x = isNaN(x) ? 0 : x;\n  x2 = isNaN(x2) ? 1 : x2;\n  y = isNaN(y) ? 0 : y;\n  y2 = isNaN(y2) ? 0 : y2;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {number}\n   */\n  fillOpacity: null,\n\n  /**\n   * @type {number}\n   */\n  strokeOpacity: null,\n\n  /**\n   * `true` is not supported.\n   * `false`/`null`/`undefined` are the same.\n   * `false` is used to remove lineDash in some\n   * case that `null`/`undefined` can not be set.\n   * (e.g., emphasis.lineStyle in echarts)\n   * @type {Array.<number>|boolean}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image.\n   * The origin of the rotation can be specified by `textOrigin`.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation.\n   * Useful in the case like label rotation of circular symbol.\n   * Only available in Path and Image element, where the text is called\n   * as `RectText` and the element is called as \"host element\".\n   * The value can be:\n   * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n   * base on the left-top corner of the rect of its host element.\n   * + If specified as a string `center`, it is the center of the rect of\n   * its host element.\n   * + By default, this origin is the `textPosition`.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function (ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n    // Only apply cache if the last time cachced by this function.\n\n    var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy.STYLE_BIND;\n    ctx.__attrCachedBy = ContextCachedBy.STYLE_BIND;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n      }\n    }\n\n    if (notCheckCache || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (notCheckCache || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (notCheckCache || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (notCheckCache || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function () {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function () {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function (otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function (obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function () {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function (ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;","/**\n * zrender: id\n *\n * @author errorrik (errorrik@gmail.com)\n */\nvar idStart = 0x0907;\n\nfunction _default() {\n  return idStart++;\n}\n\nmodule.exports = _default;","/**\n * Event Mixin\n * @module zrender/mixin/Eventful\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\nvar arrySlice = Array.prototype.slice;\n/**\n * Event dispatcher.\n *\n * @alias module:zrender/mixin/Eventful\n * @constructor\n * @param {Object} [eventProcessor] The object eventProcessor is the scope when\n *        `eventProcessor.xxx` called.\n * @param {Function} [eventProcessor.normalizeQuery]\n *        param: {string|Object} Raw query.\n *        return: {string|Object} Normalized query.\n * @param {Function} [eventProcessor.filter] Event will be dispatched only\n *        if it returns `true`.\n *        param: {string} eventType\n *        param: {string|Object} query\n *        return: {boolean}\n * @param {Function} [eventProcessor.afterTrigger] Called after all handlers called.\n *        param: {string} eventType\n */\n\nvar Eventful = function (eventProcessor) {\n  this._$handlers = {};\n  this._$eventProcessor = eventProcessor;\n};\n\nEventful.prototype = {\n  constructor: Eventful,\n\n  /**\n   * The handler can only be triggered once, then removed.\n   *\n   * @param {string} event The event name.\n   * @param {string|Object} [query] Condition used on event filter.\n   * @param {Function} handler The event handler.\n   * @param {Object} context\n   */\n  one: function (event, query, handler, context) {\n    return on(this, event, query, handler, context, true);\n  },\n\n  /**\n   * Bind a handler.\n   *\n   * @param {string} event The event name.\n   * @param {string|Object} [query] Condition used on event filter.\n   * @param {Function} handler The event handler.\n   * @param {Object} [context]\n   */\n  on: function (event, query, handler, context) {\n    return on(this, event, query, handler, context, false);\n  },\n\n  /**\n   * Whether any handler has bound.\n   *\n   * @param  {string}  event\n   * @return {boolean}\n   */\n  isSilent: function (event) {\n    var _h = this._$handlers;\n    return !_h[event] || !_h[event].length;\n  },\n\n  /**\n   * Unbind a event.\n   *\n   * @param {string} [event] The event name.\n   *        If no `event` input, \"off\" all listeners.\n   * @param {Function} [handler] The event handler.\n   *        If no `handler` input, \"off\" all listeners of the `event`.\n   */\n  off: function (event, handler) {\n    var _h = this._$handlers;\n\n    if (!event) {\n      this._$handlers = {};\n      return this;\n    }\n\n    if (handler) {\n      if (_h[event]) {\n        var newList = [];\n\n        for (var i = 0, l = _h[event].length; i < l; i++) {\n          if (_h[event][i].h !== handler) {\n            newList.push(_h[event][i]);\n          }\n        }\n\n        _h[event] = newList;\n      }\n\n      if (_h[event] && _h[event].length === 0) {\n        delete _h[event];\n      }\n    } else {\n      delete _h[event];\n    }\n\n    return this;\n  },\n\n  /**\n   * Dispatch a event.\n   *\n   * @param {string} type The event name.\n   */\n  trigger: function (type) {\n    var _h = this._$handlers[type];\n    var eventProcessor = this._$eventProcessor;\n\n    if (_h) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 3) {\n        args = arrySlice.call(args, 1);\n      }\n\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        var hItem = _h[i];\n\n        if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n          i++;\n          continue;\n        } // Optimize advise from backbone\n\n\n        switch (argLen) {\n          case 1:\n            hItem.h.call(hItem.ctx);\n            break;\n\n          case 2:\n            hItem.h.call(hItem.ctx, args[1]);\n            break;\n\n          case 3:\n            hItem.h.call(hItem.ctx, args[1], args[2]);\n            break;\n\n          default:\n            // have more than 2 given arguments\n            hItem.h.apply(hItem.ctx, args);\n            break;\n        }\n\n        if (hItem.one) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n    return this;\n  },\n\n  /**\n   * Dispatch a event with context, which is specified at the last parameter.\n   *\n   * @param {string} type The event name.\n   */\n  triggerWithContext: function (type) {\n    var _h = this._$handlers[type];\n    var eventProcessor = this._$eventProcessor;\n\n    if (_h) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 4) {\n        args = arrySlice.call(args, 1, args.length - 1);\n      }\n\n      var ctx = args[args.length - 1];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        var hItem = _h[i];\n\n        if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n          i++;\n          continue;\n        } // Optimize advise from backbone\n\n\n        switch (argLen) {\n          case 1:\n            hItem.h.call(ctx);\n            break;\n\n          case 2:\n            hItem.h.call(ctx, args[1]);\n            break;\n\n          case 3:\n            hItem.h.call(ctx, args[1], args[2]);\n            break;\n\n          default:\n            // have more than 2 given arguments\n            hItem.h.apply(ctx, args);\n            break;\n        }\n\n        if (hItem.one) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n    return this;\n  }\n};\n\nfunction normalizeQuery(host, query) {\n  var eventProcessor = host._$eventProcessor;\n\n  if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n    query = eventProcessor.normalizeQuery(query);\n  }\n\n  return query;\n}\n\nfunction on(eventful, event, query, handler, context, isOnce) {\n  var _h = eventful._$handlers;\n\n  if (typeof query === 'function') {\n    context = handler;\n    handler = query;\n    query = null;\n  }\n\n  if (!handler || !event) {\n    return eventful;\n  }\n\n  query = normalizeQuery(eventful, query);\n\n  if (!_h[event]) {\n    _h[event] = [];\n  }\n\n  for (var i = 0; i < _h[event].length; i++) {\n    if (_h[event][i].h === handler) {\n      return eventful;\n    }\n  }\n\n  var wrap = {\n    h: handler,\n    one: isOnce,\n    query: query,\n    ctx: context || eventful,\n    // FIXME\n    // Do not publish this feature util it is proved that it makes sense.\n    callAtLast: handler.zrEventfulCallAtLast\n  };\n  var lastIndex = _h[event].length - 1;\n  var lastWrap = _h[event][lastIndex];\n  lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);\n  return eventful;\n} // ----------------------\n// The events in zrender\n// ----------------------\n\n/**\n * @event module:zrender/mixin/Eventful#onclick\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseout\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousemove\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousewheel\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousedown\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseup\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrag\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragstart\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragend\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragenter\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragleave\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrop\n * @type {Function}\n * @default null\n */\n\n\nvar _default = Eventful;\nmodule.exports = _default;","var Animator = require(\"../animation/Animator\");\n\nvar logError = require(\"../core/log\");\n\nvar _util = require(\"../core/util\");\n\nvar isString = _util.isString;\nvar isFunction = _util.isFunction;\nvar isObject = _util.isObject;\nvar isArrayLike = _util.isArrayLike;\nvar indexOf = _util.indexOf;\n\n/**\n * @alias module:zrender/mixin/Animatable\n * @constructor\n */\nvar Animatable = function () {\n  /**\n   * @type {Array.<module:zrender/animation/Animator>}\n   * @readOnly\n   */\n  this.animators = [];\n};\n\nAnimatable.prototype = {\n  constructor: Animatable,\n\n  /**\n   * \n   *\n   * @param {string} path The path to fetch value from object, like 'a.b.c'.\n   * @param {boolean} [loop] Whether to loop animation.\n   * @return {module:zrender/animation/Animator}\n   * @example:\n   *     el.animate('style', false)\n   *         .when(1000, {x: 10} )\n   *         .done(function(){ // Animation done })\n   *         .start()\n   */\n  animate: function (path, loop) {\n    var target;\n    var animatingShape = false;\n    var el = this;\n    var zr = this.__zr;\n\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el; // If animating shape\n\n      animatingShape = pathSplitted[0] === 'shape';\n\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n\n        prop = prop[pathSplitted[i]];\n      }\n\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n\n    if (!target) {\n      logError('Property \"' + path + '\" is not existed in element ' + el.id);\n      return;\n    }\n\n    var animators = el.animators;\n    var animator = new Animator(target, loop);\n    animator.during(function (target) {\n      el.dirty(animatingShape);\n    }).done(function () {\n      // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n      animators.splice(indexOf(animators, animator), 1);\n    });\n    animators.push(animator); // If animate after added to the zrender\n\n    if (zr) {\n      zr.animation.addAnimator(animator);\n    }\n\n    return animator;\n  },\n\n  /**\n   * \n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stopAnimation: function (forwardToLast) {\n    var animators = this.animators;\n    var len = animators.length;\n\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n\n    animators.length = 0;\n    return this;\n  },\n\n  /**\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   * @param {Object} target\n   * @param {number} [time=500] Time in ms\n   * @param {string} [easing='linear']\n   * @param {number} [delay=0]\n   * @param {Function} [callback]\n   * @param {Function} [forceAnimate] Prevent stop animation and callback\n   *        immediently when target values are the same as current values.\n   *\n   * @example\n   *  // Animate position\n   *  el.animateTo({\n   *      position: [10, 10]\n   *  }, function () { // done })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n   *  el.animateTo({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100, 'cubicOut', function () { // done })\n   */\n  // TODO Return animation key\n  animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n    animateTo(this, target, time, delay, easing, callback, forceAnimate);\n  },\n\n  /**\n   * Animate from the target state to current state.\n   * The params and the return value are the same as `this.animateTo`.\n   */\n  animateFrom: function (target, time, delay, easing, callback, forceAnimate) {\n    animateTo(this, target, time, delay, easing, callback, forceAnimate, true);\n  }\n};\n\nfunction animateTo(animatable, target, time, delay, easing, callback, forceAnimate, reverse) {\n  // animateTo(target, time, easing, callback);\n  if (isString(delay)) {\n    callback = easing;\n    easing = delay;\n    delay = 0;\n  } // animateTo(target, time, delay, callback);\n  else if (isFunction(easing)) {\n      callback = easing;\n      easing = 'linear';\n      delay = 0;\n    } // animateTo(target, time, callback);\n    else if (isFunction(delay)) {\n        callback = delay;\n        delay = 0;\n      } // animateTo(target, callback)\n      else if (isFunction(time)) {\n          callback = time;\n          time = 500;\n        } // animateTo(target)\n        else if (!time) {\n            time = 500;\n          } // Stop all previous animations\n\n\n  animatable.stopAnimation();\n  animateToShallow(animatable, '', animatable, target, time, delay, reverse); // Animators may be removed immediately after start\n  // if there is nothing to animate\n\n  var animators = animatable.animators.slice();\n  var count = animators.length;\n\n  function done() {\n    count--;\n\n    if (!count) {\n      callback && callback();\n    }\n  } // No animators. This should be checked before animators[i].start(),\n  // because 'done' may be executed immediately if no need to animate.\n\n\n  if (!count) {\n    callback && callback();\n  } // Start after all animators created\n  // Incase any animator is done immediately when all animation properties are not changed\n\n\n  for (var i = 0; i < animators.length; i++) {\n    animators[i].done(done).start(easing, forceAnimate);\n  }\n}\n/**\n * @param {string} path=''\n * @param {Object} source=animatable\n * @param {Object} target\n * @param {number} [time=500]\n * @param {number} [delay=0]\n * @param {boolean} [reverse] If `true`, animate\n *        from the `target` to current state.\n *\n * @example\n *  // Animate position\n *  el._animateToShallow({\n *      position: [10, 10]\n *  })\n *\n *  // Animate shape, style and position in 100ms, delayed 100ms\n *  el._animateToShallow({\n *      shape: {\n *          width: 500\n *      },\n *      style: {\n *          fill: 'red'\n *      }\n *      position: [10, 10]\n *  }, 100, 100)\n */\n\n\nfunction animateToShallow(animatable, path, source, target, time, delay, reverse) {\n  var objShallow = {};\n  var propertyCount = 0;\n\n  for (var name in target) {\n    if (!target.hasOwnProperty(name)) {\n      continue;\n    }\n\n    if (source[name] != null) {\n      if (isObject(target[name]) && !isArrayLike(target[name])) {\n        animateToShallow(animatable, path ? path + '.' + name : name, source[name], target[name], time, delay, reverse);\n      } else {\n        if (reverse) {\n          objShallow[name] = source[name];\n          setAttrByPath(animatable, path, name, target[name]);\n        } else {\n          objShallow[name] = target[name];\n        }\n\n        propertyCount++;\n      }\n    } else if (target[name] != null && !reverse) {\n      setAttrByPath(animatable, path, name, target[name]);\n    }\n  }\n\n  if (propertyCount > 0) {\n    animatable.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n  }\n}\n\nfunction setAttrByPath(el, path, name, value) {\n  // Attr directly if not has property\n  // FIXME, if some property not needed for element ?\n  if (!path) {\n    el.attr(name, value);\n  } else {\n    // Only support set shape or style\n    var props = {};\n    props[path] = {};\n    props[path][name] = value;\n    el.attr(props);\n  }\n}\n\nvar _default = Animatable;\nmodule.exports = _default;","var Clip = require(\"./Clip\");\n\nvar color = require(\"../tool/color\");\n\nvar _util = require(\"../core/util\");\n\nvar isArrayLike = _util.isArrayLike;\n\n/**\n * @module echarts/animation/Animator\n */\nvar arraySlice = Array.prototype.slice;\n\nfunction defaultGetter(target, key) {\n  return target[key];\n}\n\nfunction defaultSetter(target, key, value) {\n  target[key] = value;\n}\n/**\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} percent\n * @return {number}\n */\n\n\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * @param  {string} p0\n * @param  {string} p1\n * @param  {number} percent\n * @return {string}\n */\n\n\nfunction interpolateString(p0, p1, percent) {\n  return percent > 0.5 ? p1 : p0;\n}\n/**\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {number} percent\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction interpolateArray(p0, p1, percent, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n  } else {\n    var len2 = len && p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n      }\n    }\n  }\n} // arr0 is source array, arr1 is target array.\n// Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\nfunction fillArr(arr0, arr1, arrDim) {\n  var arr0Len = arr0.length;\n  var arr1Len = arr1.length;\n\n  if (arr0Len !== arr1Len) {\n    // FIXME Not work for TypedArray\n    var isPreviousLarger = arr0Len > arr1Len;\n\n    if (isPreviousLarger) {\n      // Cut the previous\n      arr0.length = arr1Len;\n    } else {\n      // Fill the previous\n      for (var i = arr0Len; i < arr1Len; i++) {\n        arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n      }\n    }\n  } // Handling NaN value\n\n\n  var len2 = arr0[0] && arr0[0].length;\n\n  for (var i = 0; i < arr0.length; i++) {\n    if (arrDim === 1) {\n      if (isNaN(arr0[i])) {\n        arr0[i] = arr1[i];\n      }\n    } else {\n      for (var j = 0; j < len2; j++) {\n        if (isNaN(arr0[i][j])) {\n          arr0[i][j] = arr1[i][j];\n        }\n      }\n    }\n  }\n}\n/**\n * @param  {Array} arr0\n * @param  {Array} arr1\n * @param  {number} arrDim\n * @return {boolean}\n */\n\n\nfunction isArraySame(arr0, arr1, arrDim) {\n  if (arr0 === arr1) {\n    return true;\n  }\n\n  var len = arr0.length;\n\n  if (len !== arr1.length) {\n    return false;\n  }\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      if (arr0[i] !== arr1[i]) {\n        return false;\n      }\n    }\n  } else {\n    var len2 = arr0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        if (arr0[i][j] !== arr1[i][j]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Catmull Rom interpolate array\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {Array} p2\n * @param  {Array} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n    }\n  } else {\n    var len2 = p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n      }\n    }\n  }\n}\n/**\n * Catmull Rom interpolate number\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @return {number}\n */\n\n\nfunction catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n\nfunction cloneValue(value) {\n  if (isArrayLike(value)) {\n    var len = value.length;\n\n    if (isArrayLike(value[0])) {\n      var ret = [];\n\n      for (var i = 0; i < len; i++) {\n        ret.push(arraySlice.call(value[i]));\n      }\n\n      return ret;\n    }\n\n    return arraySlice.call(value);\n  }\n\n  return value;\n}\n\nfunction rgba2String(rgba) {\n  rgba[0] = Math.floor(rgba[0]);\n  rgba[1] = Math.floor(rgba[1]);\n  rgba[2] = Math.floor(rgba[2]);\n  return 'rgba(' + rgba.join(',') + ')';\n}\n\nfunction getArrayDim(keyframes) {\n  var lastValue = keyframes[keyframes.length - 1].value;\n  return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n}\n\nfunction createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n  var getter = animator._getter;\n  var setter = animator._setter;\n  var useSpline = easing === 'spline';\n  var trackLen = keyframes.length;\n\n  if (!trackLen) {\n    return;\n  } // Guess data type\n\n\n  var firstVal = keyframes[0].value;\n  var isValueArray = isArrayLike(firstVal);\n  var isValueColor = false;\n  var isValueString = false; // For vertices morphing\n\n  var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n  var trackMaxTime; // Sort keyframe as ascending\n\n  keyframes.sort(function (a, b) {\n    return a.time - b.time;\n  });\n  trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n  var kfPercents = []; // Value of each keyframe\n\n  var kfValues = [];\n  var prevValue = keyframes[0].value;\n  var isAllValueEqual = true;\n\n  for (var i = 0; i < trackLen; i++) {\n    kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n    var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n    if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n      isAllValueEqual = false;\n    }\n\n    prevValue = value; // Try converting a string to a color array\n\n    if (typeof value === 'string') {\n      var colorArray = color.parse(value);\n\n      if (colorArray) {\n        value = colorArray;\n        isValueColor = true;\n      } else {\n        isValueString = true;\n      }\n    }\n\n    kfValues.push(value);\n  }\n\n  if (!forceAnimate && isAllValueEqual) {\n    return;\n  }\n\n  var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n  for (var i = 0; i < trackLen - 1; i++) {\n    if (isValueArray) {\n      fillArr(kfValues[i], lastValue, arrDim);\n    } else {\n      if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n        kfValues[i] = lastValue;\n      }\n    }\n  }\n\n  isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n  // animation playback is sequency\n\n  var lastFrame = 0;\n  var lastFramePercent = 0;\n  var start;\n  var w;\n  var p0;\n  var p1;\n  var p2;\n  var p3;\n\n  if (isValueColor) {\n    var rgba = [0, 0, 0, 0];\n  }\n\n  var onframe = function (target, percent) {\n    // Find the range keyframes\n    // kf1-----kf2---------current--------kf3\n    // find kf2 and kf3 and do interpolation\n    var frame; // In the easing function like elasticOut, percent may less than 0\n\n    if (percent < 0) {\n      frame = 0;\n    } else if (percent < lastFramePercent) {\n      // Start from next key\n      // PENDING start from lastFrame ?\n      start = Math.min(lastFrame + 1, trackLen - 1);\n\n      for (frame = start; frame >= 0; frame--) {\n        if (kfPercents[frame] <= percent) {\n          break;\n        }\n      } // PENDING really need to do this ?\n\n\n      frame = Math.min(frame, trackLen - 2);\n    } else {\n      for (frame = lastFrame; frame < trackLen; frame++) {\n        if (kfPercents[frame] > percent) {\n          break;\n        }\n      }\n\n      frame = Math.min(frame - 1, trackLen - 2);\n    }\n\n    lastFrame = frame;\n    lastFramePercent = percent;\n    var range = kfPercents[frame + 1] - kfPercents[frame];\n\n    if (range === 0) {\n      return;\n    } else {\n      w = (percent - kfPercents[frame]) / range;\n    }\n\n    if (useSpline) {\n      p1 = kfValues[frame];\n      p0 = kfValues[frame === 0 ? frame : frame - 1];\n      p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n      p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n      if (isValueArray) {\n        catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(p1, p2, w);\n        } else {\n          value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n        }\n\n        setter(target, propName, value);\n      }\n    } else {\n      if (isValueArray) {\n        interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n        } else {\n          value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n        }\n\n        setter(target, propName, value);\n      }\n    }\n  };\n\n  var clip = new Clip({\n    target: animator._target,\n    life: trackMaxTime,\n    loop: animator._loop,\n    delay: animator._delay,\n    onframe: onframe,\n    ondestroy: oneTrackDone\n  });\n\n  if (easing && easing !== 'spline') {\n    clip.easing = easing;\n  }\n\n  return clip;\n}\n/**\n * @alias module:zrender/animation/Animator\n * @constructor\n * @param {Object} target\n * @param {boolean} loop\n * @param {Function} getter\n * @param {Function} setter\n */\n\n\nvar Animator = function (target, loop, getter, setter) {\n  this._tracks = {};\n  this._target = target;\n  this._loop = loop || false;\n  this._getter = getter || defaultGetter;\n  this._setter = setter || defaultSetter;\n  this._clipCount = 0;\n  this._delay = 0;\n  this._doneList = [];\n  this._onframeList = [];\n  this._clipList = [];\n};\n\nAnimator.prototype = {\n  /**\n   * Set Animation keyframe\n   * @param  {number} time ms\n   * @param  {Object} props key-value\n   * @return {module:zrender/animation/Animator}\n   */\n  when: function (time\n  /* ms */\n  , props) {\n    var tracks = this._tracks;\n\n    for (var propName in props) {\n      if (!props.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      if (!tracks[propName]) {\n        tracks[propName] = []; // Invalid value\n\n        var value = this._getter(this._target, propName);\n\n        if (value == null) {\n          // zrLog('Invalid property ' + propName);\n          continue;\n        } // If time is 0\n        //  Then props is given initialize value\n        // Else\n        //  Initialize value from current prop value\n\n\n        if (time !== 0) {\n          tracks[propName].push({\n            time: 0,\n            value: cloneValue(value)\n          });\n        }\n      }\n\n      tracks[propName].push({\n        time: time,\n        value: props[propName]\n      });\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} callback\n   * @return {module:zrender/animation/Animator}\n   */\n  during: function (callback) {\n    this._onframeList.push(callback);\n\n    return this;\n  },\n  pause: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].pause();\n    }\n\n    this._paused = true;\n  },\n  resume: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].resume();\n    }\n\n    this._paused = false;\n  },\n  isPaused: function () {\n    return !!this._paused;\n  },\n  _doneCallback: function () {\n    // Clear all tracks\n    this._tracks = {}; // Clear all clips\n\n    this._clipList.length = 0;\n    var doneList = this._doneList;\n    var len = doneList.length;\n\n    for (var i = 0; i < len; i++) {\n      doneList[i].call(this);\n    }\n  },\n\n  /**\n   * Start the animation\n   * @param  {string|Function} [easing]\n   *         {@link module:zrender/animation/easing}\n   * @param  {boolean} forceAnimate\n   * @return {module:zrender/animation/Animator}\n   */\n  start: function (easing, forceAnimate) {\n    var self = this;\n    var clipCount = 0;\n\n    var oneTrackDone = function () {\n      clipCount--;\n\n      if (!clipCount) {\n        self._doneCallback();\n      }\n    };\n\n    var lastClip;\n\n    for (var propName in this._tracks) {\n      if (!this._tracks.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n      if (clip) {\n        this._clipList.push(clip);\n\n        clipCount++; // If start after added to animation\n\n        if (this.animation) {\n          this.animation.addClip(clip);\n        }\n\n        lastClip = clip;\n      }\n    } // Add during callback on the last clip\n\n\n    if (lastClip) {\n      var oldOnFrame = lastClip.onframe;\n\n      lastClip.onframe = function (target, percent) {\n        oldOnFrame(target, percent);\n\n        for (var i = 0; i < self._onframeList.length; i++) {\n          self._onframeList[i](target, percent);\n        }\n      };\n    } // This optimization will help the case that in the upper application\n    // the view may be refreshed frequently, where animation will be\n    // called repeatly but nothing changed.\n\n\n    if (!clipCount) {\n      this._doneCallback();\n    }\n\n    return this;\n  },\n\n  /**\n   * Stop animation\n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stop: function (forwardToLast) {\n    var clipList = this._clipList;\n    var animation = this.animation;\n\n    for (var i = 0; i < clipList.length; i++) {\n      var clip = clipList[i];\n\n      if (forwardToLast) {\n        // Move to last frame before stop\n        clip.onframe(this._target, 1);\n      }\n\n      animation && animation.removeClip(clip);\n    }\n\n    clipList.length = 0;\n  },\n\n  /**\n   * Set when animation delay starts\n   * @param  {number} time ms\n   * @return {module:zrender/animation/Animator}\n   */\n  delay: function (time) {\n    this._delay = time;\n    return this;\n  },\n\n  /**\n   * Add callback for animation end\n   * @param  {Function} cb\n   * @return {module:zrender/animation/Animator}\n   */\n  done: function (cb) {\n    if (cb) {\n      this._doneList.push(cb);\n    }\n\n    return this;\n  },\n\n  /**\n   * @return {Array.<module:zrender/animation/Clip>}\n   */\n  getClips: function () {\n    return this._clipList;\n  }\n};\nvar _default = Animator;\nmodule.exports = _default;","var easingFuncs = require(\"./easing\");\n\n/**\n * \n * @config target onframe\n * @config life(1000) \n * @config delay(0) \n * @config loop(true)\n * @config gap(0) \n * @config onframe\n * @config easing(optional)\n * @config ondestroy(optional)\n * @config onrestart(optional)\n *\n * TODO pause\n */\nfunction Clip(options) {\n  this._target = options.target; // \n\n  this._life = options.life || 1000; // \n\n  this._delay = options.delay || 0; // \n  // this._startTime = new Date().getTime() + this._delay;// \n\n  this._initialized = false; // \n\n  this.loop = options.loop == null ? false : options.loop;\n  this.gap = options.gap || 0;\n  this.easing = options.easing || 'Linear';\n  this.onframe = options.onframe;\n  this.ondestroy = options.ondestroy;\n  this.onrestart = options.onrestart;\n  this._pausedTime = 0;\n  this._paused = false;\n}\n\nClip.prototype = {\n  constructor: Clip,\n  step: function (globalTime, deltaTime) {\n    // Set startTime on first step, or _startTime may has milleseconds different between clips\n    // PENDING\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n    if (percent < 0) {\n      return;\n    }\n\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing === 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.fire('frame', schedule); // \n\n    if (percent === 1) {\n      if (this.loop) {\n        this.restart(globalTime); // \n        //  stage.update \n\n        return 'restart';\n      } // \n      // Animation.update\n\n\n      this._needsRemove = true;\n      return 'destroy';\n    }\n\n    return null;\n  },\n  restart: function (globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n    this._needsRemove = false;\n  },\n  fire: function (eventType, arg) {\n    eventType = 'on' + eventType;\n\n    if (this[eventType]) {\n      this[eventType](this._target, arg);\n    }\n  },\n  pause: function () {\n    this._paused = true;\n  },\n  resume: function () {\n    this._paused = false;\n  }\n};\nvar _default = Clip;\nmodule.exports = _default;","/**\n *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n * @exports zrender/animation/easing\n */\nvar easing = {\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  linear: function (k) {\n    return k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticIn: function (k) {\n    return k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticOut: function (k) {\n    return k * (2 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k;\n    }\n\n    return -0.5 * (--k * (k - 2) - 1);\n  },\n  // t^3\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicIn: function (k) {\n    return k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicOut: function (k) {\n    return --k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k + 2);\n  },\n  // t^4\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticIn: function (k) {\n    return k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticOut: function (k) {\n    return 1 - --k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k;\n    }\n\n    return -0.5 * ((k -= 2) * k * k * k - 2);\n  },\n  // t^5\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticIn: function (k) {\n    return k * k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticOut: function (k) {\n    return --k * k * k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k * k * k + 2);\n  },\n  // sin(t)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalIn: function (k) {\n    return 1 - Math.cos(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalOut: function (k) {\n    return Math.sin(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalInOut: function (k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k));\n  },\n  // 2^t\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialIn: function (k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialOut: function (k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialInOut: function (k) {\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1);\n    }\n\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n  },\n  // sqrt(1-t^2)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularIn: function (k) {\n    return 1 - Math.sqrt(1 - k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularOut: function (k) {\n    return Math.sqrt(1 - --k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1);\n    }\n\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticIn: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticInOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    if ((k *= 2) < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backIn: function (k) {\n    var s = 1.70158;\n    return k * k * ((s + 1) * k - s);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backOut: function (k) {\n    var s = 1.70158;\n    return --k * k * ((s + 1) * k + s) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backInOut: function (k) {\n    var s = 1.70158 * 1.525;\n\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s));\n    }\n\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceIn: function (k) {\n    return 1 - easing.bounceOut(1 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceOut: function (k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k;\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceInOut: function (k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5;\n    }\n\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n  }\n};\nvar _default = easing;\nmodule.exports = _default;","var _config = require(\"../config\");\n\nvar debugMode = _config.debugMode;\n\nvar logError = function () {};\n\nif (debugMode === 1) {\n  logError = console.error;\n}\n\nvar _default = logError;\nmodule.exports = _default;","var textHelper = require(\"../helper/text\");\n\nvar BoundingRect = require(\"../../core/BoundingRect\");\n\nvar _constant = require(\"../constant\");\n\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\nvar tmpRect = new BoundingRect();\n\nvar RectText = function () {};\n\nRectText.prototype = {\n  constructor: RectText,\n\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function (ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n    // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n    // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n    // text propably break the cache for its host elements.\n\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n\n    textHelper.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;","var vec2 = require(\"./vector\");\n\nvar curve = require(\"./curve\");\n\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\n/**\n * `min``max`\n * @module zrender/core/bbox\n * @param {Array<Object>} points \n * @param {number} min\n * @param {number} max\n */\n\nfunction fromPoints(points, min, max) {\n  if (points.length === 0) {\n    return;\n  }\n\n  var p = points[0];\n  var left = p[0];\n  var right = p[0];\n  var top = p[1];\n  var bottom = p[1];\n  var i;\n\n  for (i = 1; i < points.length; i++) {\n    p = points[i];\n    left = mathMin(left, p[0]);\n    right = mathMax(right, p[0]);\n    top = mathMin(top, p[1]);\n    bottom = mathMax(bottom, p[1]);\n  }\n\n  min[0] = left;\n  min[1] = top;\n  max[0] = right;\n  max[1] = bottom;\n}\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromLine(x0, y0, x1, y1, min, max) {\n  min[0] = mathMin(x0, x1);\n  min[1] = mathMin(y0, y1);\n  max[0] = mathMax(x0, x1);\n  max[1] = mathMax(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * (p0, p1, p2, p3)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\nfunction fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n  var cubicExtrema = curve.cubicExtrema;\n  var cubicAt = curve.cubicAt;\n  var i;\n  var n = cubicExtrema(x0, x1, x2, x3, xDim);\n  min[0] = Infinity;\n  min[1] = Infinity;\n  max[0] = -Infinity;\n  max[1] = -Infinity;\n\n  for (i = 0; i < n; i++) {\n    var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n    min[0] = mathMin(x, min[0]);\n    max[0] = mathMax(x, max[0]);\n  }\n\n  n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n  for (i = 0; i < n; i++) {\n    var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n    min[1] = mathMin(y, min[1]);\n    max[1] = mathMax(y, max[1]);\n  }\n\n  min[0] = mathMin(x0, min[0]);\n  max[0] = mathMax(x0, max[0]);\n  min[0] = mathMin(x3, min[0]);\n  max[0] = mathMax(x3, max[0]);\n  min[1] = mathMin(y0, min[1]);\n  max[1] = mathMax(y0, max[1]);\n  min[1] = mathMin(y3, min[1]);\n  max[1] = mathMax(y3, max[1]);\n}\n/**\n * (p0, p1, p2)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n  var quadraticExtremum = curve.quadraticExtremum;\n  var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n  var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n  var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n  var x = quadraticAt(x0, x1, x2, tx);\n  var y = quadraticAt(y0, y1, y2, ty);\n  min[0] = mathMin(x0, x2, x);\n  min[1] = mathMin(y0, y2, y);\n  max[0] = mathMax(x0, x2, x);\n  max[1] = mathMax(y0, y2, y);\n}\n/**\n * `min``max`\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n  var vec2Min = vec2.min;\n  var vec2Max = vec2.max;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff % PI2 < 1e-4 && diff > 1e-4) {\n    // Is a circle\n    min[0] = x - rx;\n    min[1] = y - ry;\n    max[0] = x + rx;\n    max[1] = y + ry;\n    return;\n  }\n\n  start[0] = mathCos(startAngle) * rx + x;\n  start[1] = mathSin(startAngle) * ry + y;\n  end[0] = mathCos(endAngle) * rx + x;\n  end[1] = mathSin(endAngle) * ry + y;\n  vec2Min(min, start, end);\n  vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n  startAngle = startAngle % PI2;\n\n  if (startAngle < 0) {\n    startAngle = startAngle + PI2;\n  }\n\n  endAngle = endAngle % PI2;\n\n  if (endAngle < 0) {\n    endAngle = endAngle + PI2;\n  }\n\n  if (startAngle > endAngle && !anticlockwise) {\n    endAngle += PI2;\n  } else if (startAngle < endAngle && anticlockwise) {\n    startAngle += PI2;\n  }\n\n  if (anticlockwise) {\n    var tmp = endAngle;\n    endAngle = startAngle;\n    startAngle = tmp;\n  } // var number = 0;\n  // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n  for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n    if (angle > startAngle) {\n      extremity[0] = mathCos(angle) * rx + x;\n      extremity[1] = mathSin(angle) * ry + y;\n      vec2Min(min, extremity, min);\n      vec2Max(max, extremity, max);\n    }\n  }\n}\n\nexports.fromPoints = fromPoints;\nexports.fromLine = fromLine;\nexports.fromCubic = fromCubic;\nexports.fromQuadratic = fromQuadratic;\nexports.fromArc = fromArc;","var PathProxy = require(\"../core/PathProxy\");\n\nvar line = require(\"./line\");\n\nvar cubic = require(\"./cubic\");\n\nvar quadratic = require(\"./quadratic\");\n\nvar arc = require(\"./arc\");\n\nvar _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\n\nvar curve = require(\"../core/curve\");\n\nvar windingLine = require(\"./windingLine\");\n\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n} // \n\n\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n  var tmp = extrema[0];\n  extrema[0] = extrema[1];\n  extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n    return 0;\n  }\n\n  var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var w = 0;\n    var nExtrema = -1;\n    var y0_;\n    var y1_;\n\n    for (var i = 0; i < nRoots; i++) {\n      var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n      var unit = t === 0 || t === 1 ? 0.5 : 1;\n      var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n      if (x_ < x) {\n        // Quick reject\n        continue;\n      }\n\n      if (nExtrema < 0) {\n        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n        if (extrema[1] < extrema[0] && nExtrema > 1) {\n          swapExtrema();\n        }\n\n        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n        if (nExtrema > 1) {\n          y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n        }\n      }\n\n      if (nExtrema === 2) {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else if (t < extrema[1]) {\n          w += y1_ < y0_ ? unit : -unit;\n        } else {\n          w += y3 < y1_ ? unit : -unit;\n        }\n      } else {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else {\n          w += y3 < y0_ ? unit : -unit;\n        }\n      }\n    }\n\n    return w;\n  }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n    return 0;\n  }\n\n  var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var t = curve.quadraticExtremum(y0, y1, y2);\n\n    if (t >= 0 && t <= 1) {\n      var w = 0;\n      var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n      for (var i = 0; i < nRoots; i++) {\n        // Remove one endpoint.\n        var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (roots[i] < t) {\n          w += y_ < y0 ? unit : -unit;\n        } else {\n          w += y2 < y_ ? unit : -unit;\n        }\n      }\n\n      return w;\n    } else {\n      // Remove one endpoint.\n      var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n      var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n      if (x_ < x) {\n        // Quick reject\n        return 0;\n      }\n\n      return y2 < y0 ? unit : -unit;\n    }\n  }\n} // TODO\n// Arc \n\n\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n  y -= cy;\n\n  if (y > r || y < -r) {\n    return 0;\n  }\n\n  var tmp = Math.sqrt(r * r - y * y);\n  roots[0] = -tmp;\n  roots[1] = tmp;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff < 1e-4) {\n    return 0;\n  }\n\n  if (diff % PI2 < 1e-4) {\n    // Is a circle\n    startAngle = 0;\n    endAngle = PI2;\n    var dir = anticlockwise ? 1 : -1;\n\n    if (x >= roots[0] + cx && x <= roots[1] + cx) {\n      return dir;\n    } else {\n      return 0;\n    }\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var w = 0;\n\n  for (var i = 0; i < 2; i++) {\n    var x_ = roots[i];\n\n    if (x_ + cx > x) {\n      var angle = Math.atan2(y, x_);\n      var dir = anticlockwise ? 1 : -1;\n\n      if (angle < 0) {\n        angle = PI2 + angle;\n      }\n\n      if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n          dir = -dir;\n        }\n\n        w += dir;\n      }\n    }\n  }\n\n  return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n  var w = 0;\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++]; // Begin a new subpath\n\n    if (cmd === CMD.M && i > 1) {\n      // Close previous subpath\n      if (!isStroke) {\n        w += windingLine(xi, yi, x0, y0, x, y);\n      } //  subpath \n      // if (w !== 0) {\n      //     return true;\n      // }\n\n    }\n\n    if (i === 1) {\n      //  L, C, Q\n      //  previous point  point\n      //\n      //  Arc \n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo  subpath, \n        //  closePath \n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // NOTE  L, C, Q  NaN\n          w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        if (isStroke) {\n          if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        if (isStroke) {\n          if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc \n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc \n\n        i += 1;\n        var anticlockwise = 1 - data[i++];\n        var x1 = Math.cos(theta) * rx + cx;\n        var y1 = Math.sin(theta) * ry + cy; //  arc \n\n        if (i > 1) {\n          w += windingLine(xi, yi, x1, y1, x, y);\n        } else {\n          // \n          x0 = x1;\n          y0 = y1;\n        } // zr scale, x\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        if (isStroke) {\n          if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n            return true;\n          }\n        } else {\n          w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n        }\n\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        var x1 = x0 + width;\n        var y1 = y0 + height;\n\n        if (isStroke) {\n          if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // FIXME Clockwise ?\n          w += windingLine(x1, y0, x1, y1, x, y);\n          w += windingLine(x0, y1, x0, y0, x, y);\n        }\n\n        break;\n\n      case CMD.Z:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // Close a subpath\n          w += windingLine(xi, yi, x0, y0, x, y); //  subpath \n          // FIXME subpaths may overlap\n          // if (w !== 0) {\n          //     return true;\n          // }\n        }\n\n        xi = x0;\n        yi = y0;\n        break;\n    }\n  }\n\n  if (!isStroke && !isAroundEqual(yi, y0)) {\n    w += windingLine(xi, yi, x0, y0, x, y) || 0;\n  }\n\n  return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n  return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n  return containPath(pathData, lineWidth, true, x, y);\n}\n\nexports.contain = contain;\nexports.containStroke = containStroke;","/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  var _a = 0;\n  var _b = x0; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n\n  var tmp = _a * x - y + _b;\n\n  var _s = tmp * tmp / (_a * _a + 1);\n\n  return _s <= _l / 2 * _l / 2;\n}\n\nexports.containStroke = containStroke;","var curve = require(\"../core/curve\");\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n    return false;\n  }\n\n  var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var _curve = require(\"../core/curve\");\n\nvar quadraticProjectPoint = _curve.quadraticProjectPoint;\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n    return false;\n  }\n\n  var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\nvar PI2 = Math.PI * 2;\n/**\n * \n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\n\nfunction containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n\n  if (d - _l > r || d + _l < r) {\n    return false;\n  }\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    return true;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n}\n\nexports.containStroke = containStroke;","function windingLine(x0, y0, x1, y1, x, y) {\n  if (y > y0 && y > y1 || y < y0 && y < y1) {\n    return 0;\n  } // Ignore horizontal line\n\n\n  if (y1 === y0) {\n    return 0;\n  }\n\n  var dir = y1 < y0 ? 1 : -1;\n  var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n  return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n\nmodule.exports = windingLine;","var Pattern = function (image, repeat) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {image: ...}`, where this constructor will not be called.\n  this.image = image;\n  this.repeat = repeat; // Can be cloned\n\n  this.type = 'pattern';\n};\n\nPattern.prototype.getCanvasPattern = function (ctx) {\n  return ctx.createPattern(this.image, this.repeat || 'repeat');\n};\n\nvar _default = Pattern;\nmodule.exports = _default;","var PathProxy = require(\"../core/PathProxy\");\n\nvar _vector = require(\"../core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\n\nmodule.exports = _default;","var Displayable = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar imageHelper = require(\"./helper/image\");\n\n/**\n * @alias zrender/graphic/Image\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nfunction ZImage(opts) {\n  Displayable.call(this, opts);\n}\n\nZImage.prototype = {\n  constructor: ZImage,\n  type: 'image',\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var src = style.image; // Must bind each time\n\n    style.bind(ctx, this, prevEl);\n    var image = this._image = imageHelper.createOrUpdateImage(src, this._image, this, this.onload);\n\n    if (!image || !imageHelper.isImageReady(image)) {\n      return;\n    } // \n    // if (image.nodeName.toUpperCase() == 'IMG') {\n    //     if (!image.complete) {\n    //         return;\n    //     }\n    // }\n    // Else is canvas\n\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = style.width;\n    var height = style.height;\n    var aspect = image.width / image.height;\n\n    if (width == null && height != null) {\n      // Keep image/height ratio\n      width = height * aspect;\n    } else if (height == null && width != null) {\n      height = width / aspect;\n    } else if (width == null && height == null) {\n      width = image.width;\n      height = image.height;\n    } // transform\n\n\n    this.setTransform(ctx);\n\n    if (style.sWidth && style.sHeight) {\n      var sx = style.sx || 0;\n      var sy = style.sy || 0;\n      ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    } else if (style.sx && style.sy) {\n      var sx = style.sx;\n      var sy = style.sy;\n      var sWidth = width - sx;\n      var sHeight = height - sy;\n      ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    } else {\n      ctx.drawImage(image, x, y, width, height);\n    } // Draw rect text\n\n\n    if (style.text != null) {\n      // Only restore transform when needs draw text.\n      this.restoreTransform(ctx);\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  getBoundingRect: function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(ZImage, Displayable);\nvar _default = ZImage;\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Element = require(\"../Element\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * GroupGroup\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\nvar Group = function (opts) {\n  opts = opts || {};\n  Element.call(this, opts);\n\n  for (var key in opts) {\n    if (opts.hasOwnProperty(key)) {\n      this[key] = opts[key];\n    }\n  }\n\n  this._children = [];\n  this.__storage = null;\n  this.__dirty = true;\n};\n\nGroup.prototype = {\n  constructor: Group,\n  isGroup: true,\n\n  /**\n   * @type {string}\n   */\n  type: 'group',\n\n  /**\n   * \n   * @name module:/zrender/container/Group#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * @return {Array.<module:zrender/Element>}\n   */\n  children: function () {\n    return this._children.slice();\n  },\n\n  /**\n   *  index \n   * @param  {number} idx\n   * @return {module:zrender/Element}\n   */\n  childAt: function (idx) {\n    return this._children[idx];\n  },\n\n  /**\n   * \n   * @param  {string} name\n   * @return {module:zrender/Element}\n   */\n  childOfName: function (name) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name === name) {\n        return children[i];\n      }\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  childCount: function () {\n    return this._children.length;\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  add: function (child) {\n    if (child && child !== this && child.parent !== this) {\n      this._children.push(child);\n\n      this._doAdd(child);\n    }\n\n    return this;\n  },\n\n  /**\n   *  nextSibling \n   * @param {module:zrender/Element} child\n   * @param {module:zrender/Element} nextSibling\n   */\n  addBefore: function (child, nextSibling) {\n    if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n      var children = this._children;\n      var idx = children.indexOf(nextSibling);\n\n      if (idx >= 0) {\n        children.splice(idx, 0, child);\n\n        this._doAdd(child);\n      }\n    }\n\n    return this;\n  },\n  _doAdd: function (child) {\n    if (child.parent) {\n      child.parent.remove(child);\n    }\n\n    child.parent = this;\n    var storage = this.__storage;\n    var zr = this.__zr;\n\n    if (storage && storage !== child.__storage) {\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  remove: function (child) {\n    var zr = this.__zr;\n    var storage = this.__storage;\n    var children = this._children;\n    var idx = zrUtil.indexOf(children, child);\n\n    if (idx < 0) {\n      return this;\n    }\n\n    children.splice(idx, 1);\n    child.parent = null;\n\n    if (storage) {\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n    return this;\n  },\n\n  /**\n   * \n   */\n  removeAll: function () {\n    var children = this._children;\n    var storage = this.__storage;\n    var child;\n    var i;\n\n    for (i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      child.parent = null;\n    }\n\n    children.length = 0;\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  eachChild: function (cb, context) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      cb.call(context, child, i);\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      cb.call(context, child);\n\n      if (child.type === 'group') {\n        child.traverse(cb, context);\n      }\n    }\n\n    return this;\n  },\n  addChildrenToStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n  },\n  delChildrenFromStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n  },\n  dirty: function () {\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh();\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function (includeChildren) {\n    // TODO Caching\n    var rect = null;\n    var tmpRect = new BoundingRect(0, 0, 0, 0);\n    var children = includeChildren || this._children;\n    var tmpMat = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (child.ignore || child.invisible) {\n        continue;\n      }\n\n      var childRect = child.getBoundingRect();\n      var transform = child.getLocalTransform(tmpMat); // TODO\n      // The boundingRect cacluated by transforming original\n      // rect may be bigger than the actual bundingRect when rotation\n      // is used. (Consider a circle rotated aginst its center, where\n      // the actual boundingRect should be the same as that not be\n      // rotated.) But we can not find better approach to calculate\n      // actual boundingRect yet, considering performance.\n\n      if (transform) {\n        tmpRect.copy(childRect);\n        tmpRect.applyTransform(transform);\n        rect = rect || tmpRect.clone();\n        rect.union(tmpRect);\n      } else {\n        rect = rect || childRect.clone();\n        rect.union(childRect);\n      }\n    }\n\n    return rect || tmpRect;\n  }\n};\nzrUtil.inherits(Group, Element);\nvar _default = Group;\nmodule.exports = _default;","var Displayable = require(\"./Displayable\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"./helper/text\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\n\n/**\n * @alias zrender/graphic/Text\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nvar Text = function (opts) {\n  // jshint ignore:line\n  Displayable.call(this, opts);\n};\n\nText.prototype = {\n  constructor: Text,\n  type: 'text',\n  brush: function (ctx, prevEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n    style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n    var text = style.text; // Convert to string\n\n    text != null && (text += ''); // Do not apply style.bind in Text node. Because the real bind job\n    // is in textHelper.renderText, and performance of text render should\n    // be considered.\n    // style.bind(ctx, this, prevEl);\n\n    if (!textHelper.needDrawText(text, style)) {\n      // The current el.style is not applied\n      // and should not be used as cache.\n      ctx.__attrCachedBy = ContextCachedBy.NONE;\n      return;\n    }\n\n    this.setTransform(ctx);\n    textHelper.renderText(this, ctx, text, style, null, prevEl);\n    this.restoreTransform(ctx);\n  },\n  getBoundingRect: function () {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = textContain.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.textLineHeight, style.rich);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (textHelper.getStroke(style.textStroke, style.textStrokeWidth)) {\n        var w = style.textStrokeWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(Text, Displayable);\nvar _default = Text;\nmodule.exports = _default;","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/shape/Circle\n */\nvar _default = Path.extend({\n  type: 'circle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    // Better stroking in ShapeBundle\n    // Always do it may have performence issue ( fill may be 2x more cost)\n    if (inBundle) {\n      ctx.moveTo(shape.cx + shape.r, shape.cy);\n    } // else {\n    //     if (ctx.allocate && !ctx.data.length) {\n    //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n    //     }\n    // }\n    // Better stroking in ShapeBundle\n    // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n    ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar fixClipWithShadow = require(\"../helper/fixClipWithShadow\");\n\n/**\n * \n * @module zrender/graphic/shape/Sector\n */\nvar _default = Path.extend({\n  type: 'sector',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n    ctx.lineTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","var env = require(\"../../core/env\");\n\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/graphic/shape/Ring\n */\nvar _default = Path.extend({\n  type: 'ring',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    r0: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var PI2 = Math.PI * 2;\n    ctx.moveTo(x + shape.r, y);\n    ctx.arc(x, y, shape.r, 0, PI2, false);\n    ctx.moveTo(x + shape.r0, y);\n    ctx.arc(x, y, shape.r0, 0, PI2, true);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar polyHelper = require(\"../helper/poly\");\n\n/**\n * \n * @module zrender/shape/Polygon\n */\nvar _default = Path.extend({\n  type: 'polygon',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, true);\n  }\n});\n\nmodule.exports = _default;","var _vector = require(\"../../core/vector\");\n\nvar v2Distance = _vector.distance;\n\n/**\n * Catmull-Rom spline \n * @module zrender/shape/util/smoothSpline\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * @inner\n */\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n/**\n * @alias module:zrender/shape/util/smoothSpline\n * @param {Array} points \n * @param {boolean} isLoop\n * @return {Array}\n */\n\n\nfunction _default(points, isLoop) {\n  var len = points.length;\n  var ret = [];\n  var distance = 0;\n\n  for (var i = 1; i < len; i++) {\n    distance += v2Distance(points[i - 1], points[i]);\n  }\n\n  var segs = distance / 2;\n  segs = segs < len ? len : segs;\n\n  for (var i = 0; i < segs; i++) {\n    var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n    var idx = Math.floor(pos);\n    var w = pos - idx;\n    var p0;\n    var p1 = points[idx % len];\n    var p2;\n    var p3;\n\n    if (!isLoop) {\n      p0 = points[idx === 0 ? idx : idx - 1];\n      p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n      p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n    } else {\n      p0 = points[(idx - 1 + len) % len];\n      p2 = points[(idx + 1) % len];\n      p3 = points[(idx + 2) % len];\n    }\n\n    var w2 = w * w;\n    var w3 = w * w2;\n    ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n  }\n\n  return ret;\n}\n\nmodule.exports = _default;","var _vector = require(\"../../core/vector\");\n\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n\n/**\n * \n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * \n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points \n * @param {number} smooth , 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint \n *                            [[0, 0], [100, 100]], \n *                           \n * @param {Array} \n */\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min;\n  var max;\n\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // \n\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar polyHelper = require(\"../helper/poly\");\n\n/**\n * @module zrender/graphic/shape/Polyline\n */\nvar _default = Path.extend({\n  type: 'polyline',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, false);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar roundRectHelper = require(\"../helper/roundRect\");\n\nvar _subPixelOptimize = require(\"../helper/subPixelOptimize\");\n\nvar subPixelOptimizeRect = _subPixelOptimize.subPixelOptimizeRect;\n\n/**\n * \n * @module zrender/graphic/shape/Rect\n */\n// Avoid create repeatly.\nvar subPixelOptimizeOutputShape = {};\n\nvar _default = Path.extend({\n  type: 'rect',\n  shape: {\n    // r1r2r3r4\n    // r1          [1, 1, 1, 1]\n    // r[1]        [1, 1, 1, 1]\n    // r[1, 2]     [1, 2, 1, 2]\n    // r[1, 2, 3]  [1, 2, 3, 2]\n    r: 0,\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (this.subPixelOptimize) {\n      subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n      x = subPixelOptimizeOutputShape.x;\n      y = subPixelOptimizeOutputShape.y;\n      width = subPixelOptimizeOutputShape.width;\n      height = subPixelOptimizeOutputShape.height;\n      subPixelOptimizeOutputShape.r = shape.r;\n      shape = subPixelOptimizeOutputShape;\n    } else {\n      x = shape.x;\n      y = shape.y;\n      width = shape.width;\n      height = shape.height;\n    }\n\n    if (!shape.r) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, shape);\n    }\n\n    ctx.closePath();\n    return;\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar _subPixelOptimize = require(\"../helper/subPixelOptimize\");\n\nvar subPixelOptimizeLine = _subPixelOptimize.subPixelOptimizeLine;\n\n/**\n * \n * @module zrender/graphic/shape/Line\n */\n// Avoid create repeatly.\nvar subPixelOptimizeOutputShape = {};\n\nvar _default = Path.extend({\n  type: 'line',\n  shape: {\n    // Start point\n    x1: 0,\n    y1: 0,\n    // End point\n    x2: 0,\n    y2: 0,\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n\n    if (this.subPixelOptimize) {\n      subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n      x1 = subPixelOptimizeOutputShape.x1;\n      y1 = subPixelOptimizeOutputShape.y1;\n      x2 = subPixelOptimizeOutputShape.x2;\n      y2 = subPixelOptimizeOutputShape.y2;\n    } else {\n      x1 = shape.x1;\n      y1 = shape.y1;\n      x2 = shape.x2;\n      y2 = shape.y2;\n    }\n\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (percent < 1) {\n      x2 = x1 * (1 - percent) + x2 * percent;\n      y2 = y1 * (1 - percent) + y2 * percent;\n    }\n\n    ctx.lineTo(x2, y2);\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} percent\n   * @return {Array.<number>}\n   */\n  pointAt: function (p) {\n    var shape = this.shape;\n    return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar vec2 = require(\"../../core/vector\");\n\nvar _curve = require(\"../../core/curve\");\n\nvar quadraticSubdivide = _curve.quadraticSubdivide;\nvar cubicSubdivide = _curve.cubicSubdivide;\nvar quadraticAt = _curve.quadraticAt;\nvar cubicAt = _curve.cubicAt;\nvar quadraticDerivativeAt = _curve.quadraticDerivativeAt;\nvar cubicDerivativeAt = _curve.cubicDerivativeAt;\n\n/**\n * \n * @module zrender/shape/BezierCurve\n */\nvar out = [];\n\nfunction someVectorAt(shape, t, isTangent) {\n  var cpx2 = shape.cpx2;\n  var cpy2 = shape.cpy2;\n\n  if (cpx2 === null || cpy2 === null) {\n    return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n  } else {\n    return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n  }\n}\n\nvar _default = Path.extend({\n  type: 'bezier-curve',\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    // cpx2: 0,\n    // cpy2: 0\n    // Curve show percent, for animating\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var cpx1 = shape.cpx1;\n    var cpy1 = shape.cpy1;\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (cpx2 == null || cpy2 == null) {\n      if (percent < 1) {\n        quadraticSubdivide(x1, cpx1, x2, percent, out);\n        cpx1 = out[1];\n        x2 = out[2];\n        quadraticSubdivide(y1, cpy1, y2, percent, out);\n        cpy1 = out[1];\n        y2 = out[2];\n      }\n\n      ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n    } else {\n      if (percent < 1) {\n        cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n        cpx1 = out[1];\n        cpx2 = out[2];\n        x2 = out[3];\n        cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n        cpy1 = out[1];\n        cpy2 = out[2];\n        y2 = out[3];\n      }\n\n      ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n    }\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  pointAt: function (t) {\n    return someVectorAt(this.shape, t, false);\n  },\n\n  /**\n   * Get tangent at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  tangentAt: function (t) {\n    var p = someVectorAt(this.shape, t, true);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/graphic/shape/Arc\n */\nvar _default = Path.extend({\n  type: 'arc',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"./Path\");\n\n// CompoundPath to improve performance\nvar _default = Path.extend({\n  type: 'compound',\n  shape: {\n    paths: null\n  },\n  _updatePathDirty: function () {\n    var dirtyPath = this.__dirtyPath;\n    var paths = this.shape.paths;\n\n    for (var i = 0; i < paths.length; i++) {\n      // Mark as dirty if any subpath is dirty\n      dirtyPath = dirtyPath || paths[i].__dirtyPath;\n    }\n\n    this.__dirtyPath = dirtyPath;\n    this.__dirty = this.__dirty || dirtyPath;\n  },\n  beforeBrush: function () {\n    this._updatePathDirty();\n\n    var paths = this.shape.paths || [];\n    var scale = this.getGlobalScale(); // Update path scale\n\n    for (var i = 0; i < paths.length; i++) {\n      if (!paths[i].path) {\n        paths[i].createPathProxy();\n      }\n\n      paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n    }\n  },\n  buildPath: function (ctx, shape) {\n    var paths = shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].buildPath(ctx, paths[i].shape, true);\n    }\n  },\n  afterBrush: function () {\n    var paths = this.shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].__dirtyPath = false;\n    }\n  },\n  getBoundingRect: function () {\n    this._updatePathDirty();\n\n    return Path.prototype.getBoundingRect.call(this);\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Gradient = require(\"./Gradient\");\n\n/**\n * x, y, x2, y2 are all percent from 0 to 1\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @param {number} [x2=1]\n * @param {number} [y2=0]\n * @param {Array.<Object>} colorStops\n * @param {boolean} [globalCoord=false]\n */\nvar LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'linear', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0 : x;\n  this.y = y == null ? 0 : y;\n  this.x2 = x2 == null ? 1 : x2;\n  this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n  this.type = 'linear'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nLinearGradient.prototype = {\n  constructor: LinearGradient\n};\nzrUtil.inherits(LinearGradient, Gradient);\nvar _default = LinearGradient;\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Gradient = require(\"./Gradient\");\n\n/**\n * x, y, r are all percent from 0 to 1\n * @param {number} [x=0.5]\n * @param {number} [y=0.5]\n * @param {number} [r=0.5]\n * @param {Array.<Object>} [colorStops]\n * @param {boolean} [globalCoord=false]\n */\nvar RadialGradient = function (x, y, r, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'radial', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0.5 : x;\n  this.y = y == null ? 0.5 : y;\n  this.r = r == null ? 0.5 : r; // Can be cloned\n\n  this.type = 'radial'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nRadialGradient.prototype = {\n  constructor: RadialGradient\n};\nzrUtil.inherits(RadialGradient, Gradient);\nvar _default = RadialGradient;\nmodule.exports = _default;","var _util = require(\"../core/util\");\n\nvar inherits = _util.inherits;\n\nvar Displayble = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * Displayable for incremental rendering. It will be rendered in a separate layer\n * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n * addDisplayables will render the added displayables incremetally.\n *\n * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n */\n// TODO Style override ?\nfunction IncrementalDisplayble(opts) {\n  Displayble.call(this, opts);\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.notClear = true;\n}\n\nIncrementalDisplayble.prototype.incremental = true;\n\nIncrementalDisplayble.prototype.clearDisplaybles = function () {\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.dirty();\n  this.notClear = false;\n};\n\nIncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n  if (notPersistent) {\n    this._temporaryDisplayables.push(displayable);\n  } else {\n    this._displayables.push(displayable);\n  }\n\n  this.dirty();\n};\n\nIncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n  notPersistent = notPersistent || false;\n\n  for (var i = 0; i < displayables.length; i++) {\n    this.addDisplayable(displayables[i], notPersistent);\n  }\n};\n\nIncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    cb && cb(this._displayables[i]);\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    cb && cb(this._temporaryDisplayables[i]);\n  }\n};\n\nIncrementalDisplayble.prototype.update = function () {\n  this.updateTransform();\n\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n};\n\nIncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n  // Render persistant displayables.\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._cursor = i; // Render temporary displayables.\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._temporaryDisplayables = [];\n  this.notClear = true;\n};\n\nvar m = [];\n\nIncrementalDisplayble.prototype.getBoundingRect = function () {\n  if (!this._rect) {\n    var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      var childRect = displayable.getBoundingRect().clone();\n\n      if (displayable.needLocalTransform()) {\n        childRect.applyTransform(displayable.getLocalTransform(m));\n      }\n\n      rect.union(childRect);\n    }\n\n    this._rect = rect;\n  }\n\n  return this._rect;\n};\n\nIncrementalDisplayble.prototype.contain = function (x, y) {\n  var localPos = this.transformCoordToLocal(x, y);\n  var rect = this.getBoundingRect();\n\n  if (rect.contain(localPos[0], localPos[1])) {\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n\n      if (displayable.contain(x, y)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\ninherits(IncrementalDisplayble, Displayble);\nvar _default = IncrementalDisplayble;\nmodule.exports = _default;","var echarts = require('echarts/lib/echarts');\n\nmodule.exports = echarts.graphic.extendShape({\n    type: 'ec-liquid-fill',\n\n    shape: {\n        waveLength: 0,\n        radius: 0,\n        radiusY: 0,\n        cx: 0,\n        cy: 0,\n        waterLevel: 0,\n        amplitude: 0,\n        phase: 0,\n        inverse: false\n    },\n\n    buildPath: function (ctx, shape) {\n        if (shape.radiusY == null) {\n            shape.radiusY = shape.radius;\n        }\n\n        /**\n         * We define a sine wave having 4 waves, and make sure at least 8 curves\n         * is drawn. Otherwise, it may cause blank area for some waves when\n         * wave length is large enough.\n         */\n        var curves = Math.max(\n            Math.ceil(2 * shape.radius / shape.waveLength * 4) * 2,\n            8\n        );\n\n        // map phase to [-Math.PI * 2, 0]\n        while (shape.phase < -Math.PI * 2) {\n            shape.phase += Math.PI * 2;\n        }\n        while (shape.phase > 0) {\n            shape.phase -= Math.PI * 2;\n        }\n        var phase = shape.phase / Math.PI / 2 * shape.waveLength;\n\n        var left = shape.cx - shape.radius + phase - shape.radius * 2;\n\n        /**\n         * top-left corner as start point\n         *\n         * draws this point\n         *  |\n         * \\|/\n         *  ~~~~~~~~\n         *  |      |\n         *  +------+\n         */\n        ctx.moveTo(left, shape.waterLevel);\n\n        /**\n         * top wave\n         *\n         * ~~~~~~~~ <- draws this sine wave\n         * |      |\n         * +------+\n         */\n        var waveRight = 0;\n        for (var c = 0; c < curves; ++c) {\n            var stage = c % 4;\n            var pos = getWaterPositions(c * shape.waveLength / 4, stage,\n                shape.waveLength, shape.amplitude);\n            ctx.bezierCurveTo(pos[0][0] + left, -pos[0][1] + shape.waterLevel,\n                pos[1][0] + left, -pos[1][1] + shape.waterLevel,\n                pos[2][0] + left, -pos[2][1] + shape.waterLevel);\n\n            if (c === curves - 1) {\n                waveRight = pos[2][0];\n            }\n        }\n\n        if (shape.inverse) {\n            /**\n             * top-right corner\n             *                  2. draws this line\n             *                          |\n             *                       +------+\n             * 3. draws this line -> |      | <- 1. draws this line\n             *                       ~~~~~~~~\n             */\n            ctx.lineTo(waveRight + left, shape.cy - shape.radiusY);\n            ctx.lineTo(left, shape.cy - shape.radiusY);\n            ctx.lineTo(left, shape.waterLevel);\n        }\n        else {\n            /**\n             * top-right corner\n             *\n             *                       ~~~~~~~~\n             * 3. draws this line -> |      | <- 1. draws this line\n             *                       +------+\n             *                          ^\n             *                          |\n             *                  2. draws this line\n             */\n            ctx.lineTo(waveRight + left, shape.cy + shape.radiusY);\n            ctx.lineTo(left, shape.cy + shape.radiusY);\n            ctx.lineTo(left, shape.waterLevel);\n        }\n\n        ctx.closePath();\n    }\n});\n\n\n\n/**\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n */\nfunction getWaterPositions(x, stage, waveLength, amplitude) {\n    if (stage === 0) {\n        return [\n            [x + 1 / 2 * waveLength / Math.PI / 2, amplitude / 2],\n            [x + 1 / 2 * waveLength / Math.PI,     amplitude],\n            [x + waveLength / 4,                   amplitude]\n        ];\n    }\n    else if (stage === 1) {\n        return [\n            [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2),\n            amplitude],\n            [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1),\n            amplitude / 2],\n            [x + waveLength / 4,                   0]\n        ]\n    }\n    else if (stage === 2) {\n        return [\n            [x + 1 / 2 * waveLength / Math.PI / 2, -amplitude / 2],\n            [x + 1 / 2 * waveLength / Math.PI,     -amplitude],\n            [x + waveLength / 4,                   -amplitude]\n        ]\n    }\n    else {\n        return [\n            [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2),\n            -amplitude],\n            [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1),\n            -amplitude / 2],\n            [x + waveLength / 4,                   0]\n        ]\n    }\n}\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"@ftf/zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\nfunction _default(seriesType) {\n  return {\n    getTargetSeries: function (ecModel) {\n      // Pie and funnel may use diferrent scope\n      var paletteScope = {};\n      var seiresModelMap = createHashMap();\n      ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        seriesModel.__paletteScope = paletteScope;\n        seiresModelMap.set(seriesModel.uid, seriesModel);\n      });\n      return seiresModelMap;\n    },\n    reset: function (seriesModel, ecModel) {\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n        var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n        var itemModel;\n\n        if (!singleDataColor || !singleDataBorderColor) {\n          // FIXME Performance\n          itemModel = dataAll.getItemModel(rawIdx);\n        }\n\n        if (!singleDataColor) {\n          var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        }\n\n        if (!singleDataBorderColor) {\n          var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n          }\n        }\n      });\n    }\n  };\n}\n\nmodule.exports = _default;"],"sourceRoot":""}